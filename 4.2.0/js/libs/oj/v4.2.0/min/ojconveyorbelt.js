/**
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore"],function(a,g){function c(a,c,e,f,g,k,l,m){this.Tf=a;this.uVa=c;this.PD=e;this.SQ=f;g&&(g.J5a&&(this.OVa=g.J5a),g.t5a&&(this.cVa=g.t5a),g.hAa&&(this.PVa=g.hAa),g.Oza&&(this.dVa=g.Oza),g.gAa&&(this.NVa=g.gAa),g.Nza&&(this.bVa=g.Nza));k&&(k.MAa&&(this.wsa=k.MAa),k.k2a&&(this.b3=k.k2a),k.Z0a&&(this.Vz=k.Z0a),k.sm&&(this.LQ=k.sm),k.Hm&&(this.rU=k.Hm),k.FM&&(this.or=k.FM),k.eO&&(this.$r=k.eO),k.jya&&(this.aT=k.jya),k.rwa&&(this.Q2=k.rwa),k.$g&&(this.wF=
k.$g),k.nd&&(this.vF=k.nd),k.Xc&&(this.Dp=k.Xc));l&&(l.$za&&(this.Nqa=l.$za),l.Nva&&(this.dja=l.Nva),l.Jya&&(this.KA=l.Jya),l.mya&&(this.BE=l.mya));this.QQ=!0;this.hE=0;m&&(this.Cha=m.browserVersion);a=navigator.userAgent.toLowerCase();if(-1!==a.indexOf("gecko/"))this.UIa=!0;else if(-1!==a.indexOf("opera"))this.VIa=!0;else if(m&&"safari"===m.browser)this.Oha=!0;else if(!m||"edge"!==m.browser)if(-1!==a.indexOf("applewebkit")||-1!==a.indexOf("safari"))this.WIa=!0}c.prototype.Lq=function(a){var d=this;
if(a){this.bLa();this.mLa(this.OVa,this.PVa,this.NVa);this.fLa(this.cVa,this.dVa,this.bVa);var e=this.jm;this.eia=e.offsetWidth;this.dia=e.offsetHeight;this.hT();this.fT();this.eL=function(a){d.IRa(a)};c.Nt(this.Tf,"mousewheel",this.eL);c.Nt(this.Tf,"wheel",this.eL);this.G8=function(a){d.o5(a)};c.Nt(this.Sh,"touchstart",this.G8);this.F8=function(a){d.n5(a)};c.Nt(this.Sh,"touchmove",this.F8);this.nM=function(a){d.l5(a)};c.Nt(this.Sh,"touchend",this.nM);c.Nt(this.Sh,"touchcancel",this.nM);this.G6=0}else this.Dra();
this.H1();this.xha(a);this.Ph(!0);a&&(this.LQ&&(this.dm=function(){d.Ph(!1)},this.LQ.call(this.Vz,this.Tf,this.dm),this.LQ.call(this.Vz,this.pn,this.dm)),this.vF&&this.vF(this.pn))};c.prototype.destroy=function(){this.Cf();var a=this.Tf;c.cB(a,"mousewheel",this.eL);c.cB(a,"wheel",this.eL);c.cB(this.Sh,"touchstart",this.G8);c.cB(this.Sh,"touchmove",this.F8);c.cB(this.Sh,"touchend",this.nM);c.cB(this.Sh,"touchcancel",this.nM);c.cB(this.Sh,"scroll",this.E7);this.E7=this.nM=this.F8=this.G8=this.eL=null;
this.rU&&this.dm&&(this.rU.call(this.Vz,a,this.dm),this.rU.call(this.Vz,this.pn,this.dm));this.dm=null;this.HXa(this.pn,a);a.removeChild(this.Sh);a.removeChild(this.jm);a.removeChild(this.He);this.pn=this.Sh=this.He=this.jm=null;this.H1();this.PD=this.Vz=this.Dp=this.vF=this.wF=this.Q2=this.aT=this.$r=this.or=this.rU=this.LQ=this.b3=this.wsa=this.Tf=null};c.prototype.uG=function(){this.Ph(!1)};c.prototype.Q6a=function(a){this.iB(a,!0)};c.prototype.d3a=function(){return this.$k()};c.prototype.IXa=
function(a,c){for(var e=a.childNodes;0<e.length;){var f=e[0];this.wF&&this.wF(f);c.appendChild(f);1===f.nodeType&&this.KA&&this.or(f,this.KA)}};c.prototype.HXa=function(a,c){if(a)for(var e=a.childNodes;0<e.length;){var f=e[0];c.appendChild(f);1===f.nodeType&&this.KA&&this.$r(f,this.KA)}};c.VJ=function(a){var c=a.ownerDocument.defaultView,e=null;return e=c?c.getComputedStyle(a,null):a.currentStyle};c.pOa=function(a){a=c.VJ(a);return c.Oh(a.width)};c.oOa=function(a){a=c.VJ(a);return c.Oh(a.height)};
c.Oh=function(a){return 0<a.length&&"auto"!=a?(a=parseInt(a,10),isNaN(a)&&(a=0),a):0};c.Nt=function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent&&a.attachEvent("on"+c,e)};c.cB=function(a,c,e){a.removeEventListener?a.removeEventListener(c,e,!1):a.detachEvent&&a.detachEvent("on"+c,e)};c.VPa=function(a){var c=0;return c=null!=a.wheelDelta?a.wheelDelta:null!=a.deltaY?-a.deltaY:-a.detail};c.G8a=function(){var a=document.createElement("div");a.style.display="table";return a};c.H8a=
function(){var a=document.createElement("div");a.style.display="table-row";return a};c.F8a=function(){var a=document.createElement("div");a.style.display="table-cell";return a};c.D9a=function(a,c,e,f){var g=document.createElement("div"),k=g.style;k.display="inline-block";g.appendChild(a);c.appendChild(g);e&&(k.maxWidth=g.offsetWidth+"px");f&&(k.maxHeight=g.offsetHeight+"px");return g};c.prototype.Ae=function(){return"horizontal"===this.uVa};c.prototype.vTa=function(){return!this.Cla().hasChildNodes()};
c.prototype.Dra=function(){this.G6=this.$k();this.X7(0);this.hT();this.fT()};c.prototype.H1=function(){this.aV=this.sh=null};c.prototype.Ph=function(a){a||this.Dra();this.H1();this.sh&&this.aV||(this.sh=this.dqa());a||this.xha(!1);this.uIa()};c.prototype.uIa=function(){var a=this.jm.style,c=this.He.style,e=this.pn,f=this.sh;this.Ae()?(e=.5*(f.xm-e.offsetHeight),a.top=e+"px",c.top=e+"px"):(e=.5*(f.Fk-e.offsetWidth),this.SQ&&(e=-e),a.left=e+"px",c.left=e+"px")};c.prototype.xha=function(a){var d=this.pn,
e=this.Ae(),f=e?c.pOa(this.Tf):c.oOa(this.Tf);this.cL=0;this.$K=e?d.offsetWidth-f+this.eia:d.offsetHeight-f+this.dia;0>this.$K&&(this.$K=0);this.hT();this.fT();this.iB(a?this.cL:this.G6,!0);this.G6=0};c.prototype.bLa=function(){var a=this,d=this.Tf,e=document.createElement("div");this.Sh=e;this.Nqa&&this.or(e,this.Nqa);var f=document.createElement("div");this.pn=f;this.dja&&this.or(f,this.dja);this.IXa(d,f);d.appendChild(e);e.appendChild(f);this.E7=function(c){a.f5(c)};c.Nt(e,"scroll",this.E7)};c.prototype.cOa=
function(){for(var a=[],c=this.PD?this.PD:this.pn,e=c.children,f=e.length,g=0;g<f;g++){var k=e[g];1===k.nodeType&&a.push(k)}this.Q2&&(g=this.Q2,a=g(a));if(c===this.pn&&this.KA)for(g=0;g<a.length;g++)c=a[g],this.aT(c,this.KA)||this.or(c,this.KA);return a};c.prototype.mLa=function(a,d,e){var f=this,g=document.createElement("div");this.He=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Nt(g,"click",function(){f.ysa()});e&&g.appendChild(e);this.Tf.insertBefore(g,
this.Sh)};c.prototype.fLa=function(a,d,e){var f=this,g=document.createElement("div");this.jm=g;a&&g.setAttribute("id",a);g.setAttribute("class",d);g.setAttribute("aria-hidden","true");c.Nt(g,"click",function(){f.xsa()});e&&g.appendChild(e);this.Tf.appendChild(g)};c.prototype.Cla=function(){var a=this.PD;a||(a=this.pn);return a};c.prototype.dqa=function(){var a=this.Cla(),c=this.cOa(),e={Fk:0,xm:0},f=[];if(a.hasChildNodes()&&c&&0<c.length)for(var a=this.Ae(),g=0,g=this.pn.offsetWidth,k=0,l=null,m=
0;m<c.length;m++){var n=c[m];if(1===n.nodeType){var t=n.offsetWidth,s=n.offsetHeight,p={Fk:t,xm:s,id:n.id};if(a){var q=n.offsetLeft;this.PD||0!==q||(n=n.parentNode,q=n.offsetLeft);p.start=this.SQ?g-(q+t):q;0===m&&(k=p.start);p.start-=k;e.Fk=p.start+t;e.xm=Math.max(e.xm,s);p.end=e.Fk-1}else q=n.offsetTop,this.PD||0!==q||(n=n.parentNode,q=n.offsetTop),p.start=q,e.Fk=Math.max(e.Fk,t),e.xm=p.start+s,p.end=e.xm-1;l&&l.end>=p.start&&(t=l.end-(p.start-1),l.end-=t,a?l.Fk-=t:l.xm-=t);f.push(p);l=p}}this.aV=
f;return e};c.prototype.xE=function(){if(!this.aV){var a=this.dqa();this.sh||(this.sh=a)}return this.aV};c.prototype.JZa=function(){this.$r(this.jm,this.BE)};c.prototype.KZa=function(){this.$r(this.He,this.BE)};c.prototype.fT=function(){this.or(this.jm,this.BE)};c.prototype.hT=function(){this.or(this.He,this.BE)};c.prototype.JE=function(){return!this.aT(this.jm,this.BE)};c.prototype.MK=function(){return!this.aT(this.He,this.BE)};c.prototype.k3=function(){return this.Ae()?this.eia:this.dia};c.prototype.M_a=
function(a){var c=this.k3(),e=this.$k(),f=this.ST();a<=this.cL?(this.MK()&&(e-=c),this.hT()):f&&(this.MK()||(e+=c),this.KZa());a>=this.$K?(this.JE(),this.fT()):f&&(this.JE(),this.JZa());this.X7(e)};c.prototype.X7=function(a){var c=this.Sh;this.Ae()?c.scrollLeft=this.T1(a):c.scrollTop=a};c.prototype.YJ=function(){var a=this.Sh;return this.Ae()?a.offsetWidth:a.offsetHeight};c.prototype.iB=function(a,c){this.vw||(this.QQ=!1,this.Psa(a,c))};c.prototype.Psa=function(a,d){if(!this.vTa()){this.vw=!0;a=this.vKa(a);
this.M_a(a);var e=this.wsa;if(d||!e||a===this.$k())this.Fqa(this.QQ?this.$k():a);else{this.Dp&&(this.Ul=this.Dp("scrolling"));var f=this;e.call(this.Vz,this.Sh,this.T1(a),Math.abs(this.$k()-a)/c.xGa,function(){f.Fqa(a);f.Cf()})}}};c.prototype.Cf=function(){this.Ul&&(this.Ul(),this.Ul=null)};c.prototype.$k=function(){var a=this.Sh;return this.Ae()?this.DKa(a.scrollLeft):a.scrollTop};c.prototype.ST=function(){var a=this.pn,c=this.Sh;return this.Ae()?a.offsetWidth>c.offsetWidth:a.offsetHeight>c.offsetHeight};
c.prototype.vKa=function(a){!this.ST()||a<this.cL?a=this.cL:a>this.$K&&(a=this.$K);return a};c.prototype.IRa=function(a){var d=this.vw;if(this.ST()&&!this.vw){var e=c.VPa(a);0>e&&this.JE()?(d=!0,this.xsa()):0<e&&this.MK()&&(d=!0,this.ysa())}d&&(a.preventDefault(),a.stopPropagation())};c.prototype.o5=function(a){a=a.touches;this.ST()&&!this.vw&&1===a.length&&(this.oo=!0,a=a[0],this.gV=this.Ae()?a.pageX:a.pageY,this.H8=this.$k(),this.s_a=this.mia(),this.t_a=this.nia(),this.Bua=this.JE(),this.Cua=this.MK())};
c.prototype.n5=function(a){var d=this.Ae(),e=a.touches[0],e=(d?e.pageX:e.pageY)-this.gV,f=d&&this.SQ?0<e:0>e,g=f&&this.Bua||!f&&this.Cua;if(this.oo&&g){g=this.Sh;if(Math.abs(e)<c.PGa*(d?g.offsetWidth:g.offsetHeight)){if(this.iB(this.H8-e,!0),this.Bua&&!this.JE()||this.Cua&&!this.MK())this.oo=!1}else this.iB(f?this.s_a:this.t_a,!1),this.oo=!1;this.hB=!0}this.hB&&(a.preventDefault(),a.stopPropagation())};c.prototype.l5=function(){this.oo&&this.iB(this.H8,!1);this.hB=this.oo=!1};c.prototype.f5=function(){this.QQ&&
!this.vw&&this.Psa(this.$k(),!0)};c.prototype.Fqa=function(a){this.X7(a);this.QQ=!0;this.vw=!1;if(this.b3){this.hE=this.kia();a=this.lia();var c=this.xE(),e=c[this.hE];this.hE!==a&&this.$k()>e.start&&this.hE<c.length-2&&(this.hE++,e=c[this.hE]);this.rNa=e.id;this.b3.call(this.Vz,this.rNa)}};c.prototype.xsa=function(){this.vw||this.iB(this.mia(),!1)};c.prototype.ysa=function(){this.vw||this.iB(this.nia(),!1)};c.prototype.mia=function(){var a=this.pJa(),c=0;return c=a===this.kia()?this.$k()+this.YJ():
this.rJa(a)};c.prototype.nia=function(){var a=this.qJa(),c=0,c=a===this.lia()?this.$k()-this.YJ():this.oJa(a);this.JE()||(c+=this.k3());c<this.k3()&&(c=this.cL);return c};c.prototype.rJa=function(a){return this.xE()[a].start};c.prototype.oJa=function(a){return this.xE()[a].end-this.YJ()+1};c.prototype.kia=function(){var a=this.WQ(this.$k());return 0>a?0:a};c.prototype.lia=function(){var a=this.WQ(this.$k()+this.YJ()-1),c=this.xE();return 0>a?c.length-1:a};c.prototype.qJa=function(){var a=this.WQ(this.$k()-
1);return 0>a?0:a};c.prototype.pJa=function(){var a=this.WQ(this.$k()+this.YJ()),c=this.xE();return 0>a?c.length-1:a};c.prototype.WQ=function(a){for(var c=this.xE(),e=0;e<c.length;e++)if(a<=c[e].end)return e;return-1};c.prototype.T1=function(a){var c=a;if(this.SQ&&this.Ae())if(this.UIa||this.Oha&&10<=this.Cha)c=-a;else if(this.WIa||this.VIa||this.Oha&&10>this.Cha)c=this.pn.offsetWidth-this.Sh.offsetWidth-a;return c};c.prototype.DKa=function(a){return this.T1(a)};c.xGa=1.1;c.PGa=.33;(function(){a.ib("oj.ojConveyorBelt",
g.oj.baseComponent,{defaultElement:"\x3cdiv\x3e",widgetEventPrefix:"oj",options:{orientation:"horizontal",contentParent:null},rc:function(){this._super();this.element.addClass("oj-conveyorbelt oj-component");this.options.disabled&&a.D.warn(b);this.qb(!0)},refresh:function(){this._super();var a="rtl"===this.Wc(),a=this.Pj!=a,b;a||(b=this.rr.d3a());this.s2();this.qb(!0);a||this.rr.Q6a(b)},hr:function(){this._super();this.Wf?this.qb(this.Wf[0]):this.rr&&this.rr.uG()},io:function(){this._super();this.Wf?
this.qb(this.Wf[0]):this.rr&&this.rr.uG()},qb:function(b){var f=this,h=this.element,k=this.options,l=k.orientation;"vertical"===l?h.addClass("oj-conveyorbelt-vertical"):h.removeClass("oj-conveyorbelt-vertical");if(this.bJ()){this.Wf=null;this.Pj="rtl"===this.Wc();if(b&&!this.rr){var m=null,n=null,t=null,s=null,p=null;"vertical"!==l?(m="oj-enabled oj-conveyorbelt-overflow-indicator oj-start oj-default",n="oj-enabled oj-conveyorbelt-overflow-indicator oj-end oj-default",t=this.kR("oj-conveyorbelt-overflow-icon oj-start"),
s=this.kR("oj-conveyorbelt-overflow-icon oj-end"),p=this.yIa):(m="oj-enabled oj-conveyorbelt-overflow-indicator oj-top oj-default",n="oj-enabled oj-conveyorbelt-overflow-indicator oj-bottom oj-default",t=this.kR("oj-conveyorbelt-overflow-icon oj-top"),s=this.kR("oj-conveyorbelt-overflow-icon oj-bottom"),p=this.zIa);var q={};q.hAa=m;q.Oza=n;q.gAa=t;q.Nza=s;m={sm:function(b,c){a.Q.sm(b,c,d)}};m.Hm=a.Q.Hm;m.FM=this.gIa;m.eO=this.qXa;m.jya=this.r5;m.rwa=function(a){return f.fNa(a)};m.$g=a.Components.$g;
m.nd=a.Components.nd;m.Xc=function(a){return f.Hg(a)};"enabled"!==a.ra.h$()&&(m.MAa=p);p=null;k.contentParent&&(p=g(k.contentParent)[0]);k=a.Ja.rl(navigator.userAgent);this.rr=new c(h[0],l,p,this.Pj,q,m,{$za:"oj-conveyorbelt-overflow-container",Nva:"oj-conveyorbelt-content-container",Jya:"oj-conveyorbelt-item",mya:"oj-helper-hidden"},k)}this.rr.Lq(b);if(b)for(b=h.find(".oj-conveyorbelt-overflow-indicator"),h=0;h<b.length;h++)this.vZa(g(b[h]))}else h=!1,this.Wf&&(h=this.Wf[0]),this.Wf=[b||h]},_destroy:function(){this.s2();
this.element.removeClass("oj-conveyorbelt oj-component oj-conveyorbelt-vertical");this._super()},_setOption:function(c,d,g){var k=!1,l=this.options;switch(c){case "containerParent":case "orientation":k=l.orientation!=d;break;case "disabled":a.D.warn(b)}k&&this.s2();this._super(c,d,g);k&&this.qb(!0)},s2:function(){var a=this.rr;a&&(this.element.find(".oj-conveyorbelt-overflow-indicator").off(this.eventNamespace),a.destroy());this.rr=null},bJ:function(){var a=document.createElement("div"),b=a.style;
b.width="10px";b.height="10px";b["-webkit-flex"]="0 0 auto";b.flex="0 0 auto";b=this.element[0];b.appendChild(a);var c=!1;try{c=0<a.offsetWidth&&0<a.offsetHeight}catch(d){}b.removeChild(a);return c},vZa:function(a){this.Dg({element:a,afterToggle:function(b){"mouseenter"===b?a.removeClass("oj-default"):"mouseleave"===b&&a.addClass("oj-default")}});this.Nl({element:a,afterToggle:function(b){"mousedown"===b||"touchstart"===b||"mouseenter"===b?a.removeClass("oj-default"):"mouseup"!==b&&"touchend"!==b&&
"touchcancel"!==b&&"mouseleave"!==b||a.addClass("oj-default")}})},kR:function(a){var b=document.createElement("span");b.setAttribute("class","oj-component-icon "+a);return b},yIa:function(a,b,c,d){var l={};l.scrollLeft=b;g(a).animate(l,c,"swing",d)},zIa:function(a,b,c,d){var l={};l.scrollTop=b;g(a).animate(l,c,"swing",d)},gIa:function(a,b){g(a).addClass(b)},qXa:function(a,b){g(a).removeClass(b)},r5:function(a,b){return g(a).hasClass(b)},fNa:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];
this.r5(d,"oj-helper-detect-expansion")||this.r5(d,"oj-helper-detect-contraction")||b.push(d)}return b},Hg:function(b){var c=this.element,d=a.Context.getContext(c[0]).Dc(),g="ConveyorBelt",c=c.attr("id"),g=g+(" (id\x3d'"+c+"')")+(": "+b);return d.Xc({description:g})},getNodeBySubId:function(a){if(null==a)return this.element?this.element[0]:null;a=a.subId;return"oj-conveyorbelt-start-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-start")[0]:"oj-conveyorbelt-end-overflow-indicator"===
a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-end")[0]:"oj-conveyorbelt-top-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-top")[0]:"oj-conveyorbelt-bottom-overflow-indicator"===a?this.widget().find(".oj-conveyorbelt-overflow-indicator.oj-bottom")[0]:null},getSubIdByNode:function(a){for(var b=this.getNodeBySubId({subId:"oj-conveyorbelt-start-overflow-indicator"}),c=this.getNodeBySubId({subId:"oj-conveyorbelt-end-overflow-indicator"}),d=this.getNodeBySubId({subId:"oj-conveyorbelt-top-overflow-indicator"}),
g=this.getNodeBySubId({subId:"oj-conveyorbelt-bottom-overflow-indicator"}),m=this.element[0];a&&a!=m;){if(a===b)return{subId:"oj-conveyorbelt-start-overflow-indicator"};if(a===c)return{subId:"oj-conveyorbelt-end-overflow-indicator"};if(a===d)return{subId:"oj-conveyorbelt-top-overflow-indicator"};if(a===g)return{subId:"oj-conveyorbelt-bottom-overflow-indicator"};a=a.parentElement}return null}});var b="JET ConveyorBelt: 'disabled' property not supported",d=25})();a.J.Ua("oj-conveyor-belt","baseComponent",
{properties:{contentParent:{type:"string"},orientation:{type:"string",enumValues:["horizontal","vertical"]}},extension:{Ya:"ojConveyorBelt"}});a.J.register("oj-conveyor-belt",{metadata:a.J.getMetadata("oj-conveyor-belt")})});