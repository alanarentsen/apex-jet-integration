/**
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
/*
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
 Copyright 2012 Igor Vaynberg

 This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
 General Public License version 2 (the "GPL License"). You may choose either license to govern your
 use of this software only upon the condition that you accept all of the terms of either the Apache
 License or the GPL License.

 You may obtain a copy of the Apache License and the GPL License at:

 http://www.apache.org/licenses/LICENSE-2.0
 http://www.gnu.org/licenses/gpl-2.0.html

 Unless required by applicable law or agreed to in writing, software distributed under the
 Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
 CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
 the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
define(["ojs/ojcore","jquery","ojs/ojeditablevalue","ojs/ojoptgroup","ojs/ojoption","promise","ojs/ojlistdataproviderview"],function(a,g){var c={KC:"oj-select-options-generated",Rb:{TAB:9,ENTER:13,TY:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,EZ:16,QBa:17,IBa:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,IY:8,DELETE:46,$W:function(b){switch(b.which){case c.Rb.EZ:case c.Rb.QBa:case c.Rb.IBa:return!0}return b.metaKey||b.ctrlKey?!0:!1},cX:function(b){b=b.which?b.which:b;return 112<=b&&123>=b}},yca:15,WBa:70,
dD:{Cca:"enter_pressed",XCa:"option_selected",pca:"blur",fDa:"search_icon_clicked"},saa:{x:0,y:0},RG:function(){var b=1;return function(){return b++}}(),LAa:null,ev:function(b,a){for(var c=g.isFunction(b[0])?g(b[0]()):g(b[0]),d=-1,e=b.length;++d<e&&(c.context=c[0]=g.isFunction(b[0])?b[d]():b[d])&&!1!==a.call(c[0],d,c););return b},n5a:function(){var b=g("\x3cdiv class\x3d'oj-listbox-measure-scrollbar'\x3e\x3c/div\x3e");b.appendTo("body");var a={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};
b.remove();return a},Hv:function(b,a){var c,d,e;if(null===b||1>b.length)return[];c=b.split(a);d=0;for(e=c.length;d<e;d+=1)c[d]=g.trim(c[d]);return c},Dxa:function(b){return b.outerWidth(!1)-b.width()},D4a:function(b){b.on("keydown",function(){void 0===g.data(b,"keyup-change-value")&&g.data(b,"keyup-change-value",b.val())});b.on("keyup",function(a){a.which===c.Rb.ENTER?a.preventDefault():(a=g.data(b,"keyup-change-value"),void 0!==a&&b.val()!==a&&(g.removeData(b,"keyup-change-value"),b.trigger("keyup-change")))})},
I$:function(b){var a,c=b.which||b.keyCode;b&&"keydown"==b.type&&(32==c||47<c&&58>c||64<c&&91>c||95<c&&112>c||185<c&&193>c||218<c&&223>c)&&(96<=c&&105>=c&&(c-=48),a=String.fromCharCode(c),b.shiftKey||(a=a.toLowerCase()),b.preventDefault());return a},C4a:function(b){b.on("mousemove",function(b){var a=c.saa;if(void 0===a||a.x!==b.pageX||a.y!==b.pageY)g(b.target).trigger("mousemove-filtered",b),c.saa.x=b.pageX,c.saa.y=b.pageY})},r7a:function(b){var a=!1,c;return function(){!1===a&&(c=b(),a=!0);return c}},
nh:function(b,d){if(d[0]!==document.activeElement){var e=c.Hg(b.Ma,"setting focus");a.aD.L$(40).rq().then(function(){var b=d[0],a=d.val().length;d.focus();d.is(":visible")&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(a,a):b.createTextRange&&(b=b.createTextRange(),b.collapse(!1),b.select()));e()})}},Owa:function(b){b=g(b)[0];var a=0,c=0;"selectionStart"in b?(a=b.selectionStart,c=b.selectionEnd-a):"selection"in document&&(b.focus(),a=document.selection.createRange(),c=document.selection.createRange().text.length,
a.moveStart("character",-b.value.length),a=a.text.length-c);return{offset:a,length:c}},YB:function(b){b.preventDefault()},Z4a:function(b){b.preventDefault();b.stopImmediatePropagation()},N9a:function(b){var a={"\\":"\x26#92;","\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"};return String(b).replace(/[&<>"'\\]/g,function(b){return a[b]})},b5a:function(b,a){function d(b){return""+b.label}var e=b,f,h;g.isArray(e)&&(h=e,e={results:h});!1===g.isFunction(e)&&(h=e,e=function(){return h});
var k=e();k&&k.text&&(d=k.text,g.isFunction(d)||(f=k.text,d=function(b){return b[f]}));return function(b){var f={results:[]};""!==b.Kv||a?(e()&&c.ev(g(e().results),function(e,g){c.R6(b,g,f.results,a,!0,d)}),b.Jc(f)):b.Jc(e())}},TV:function(b,a,d,e){var f=g("\x3coption\x3e");f.addClass("oj-listbox-result oj-listbox-result-selectable oj-listbox-results-depth-"+b);f.attr("role","option");f.attr("id","oj-listbox-result-label-"+c.RG());f.text(e(d));f.attr("value",a);return f},O9:function(b,a,c){var d=
g("\x3coptgroup\x3e");d.addClass("oj-listbox-results-sub");d.attr("label",c(a));b.addClass("oj-listbox-result-with-children");return d},$4a:function(b,a,d){function e(b,a,f){var h,k,l,t;a.each(function(){k=g(this);k.is("li")&&(0<k.children("ul").length?(l=k.contents().filter(function(){return 1!==this.nodeType||"ul"!==this.tagName.toLowerCase()}).text(),h=c.O9(b,l,d),t=k.children("ul"),e(h,t.children(),f+1)):h=c.TV(f,k.attr("oj-data-value"),k.text(),d),h.appendTo(b))})}e(b,a,0)},y5a:function(b,a,
d){function e(b,a,f){var h,k,l;a.each(function(){k=g(this);k.is("oj-option")?(l=k.text()||k.attr("label"),h=c.TV(f,k.attr("value"),l,d)):k.is("oj-optgroup")?(l=k.text()||k.attr("label"),h=c.O9(b,l,d),e(h,k.children(),f+1)):k.is("option")&&(h=k);h.appendTo(b)})}e(b,a,0)},vaa:function(b,a,c){c=a[c]||c;return b[c]},lva:function(b,a,d,e){function f(b,a,e,g){for(var h,k,l,t=0,s=a.length;t<s;t++)h=a[t],l=c.vaa(h,g,"children"),k=c.vaa(h,g,"label"),l&&0<l.length?(k=c.O9(b,k,d),f(k,l,e+1,g.childKeys||{})):
(l=c.vaa(h,g,"value"),k=c.TV(e,l,k,d)),k.appendTo(b)}f(b,a,0,e||{})},Dva:function(b){b.children().not("oj-option, oj-optgroup").remove();b.removeClass("oj-listbox-result-with-children")},Hg:function(b,c){var d={description:"The component identified by '"+b.attr("id")+"' "+c};return a.Context.getContext(b[0]).Dc().Xc(d)},Zz:function(b){b&&b()},Js:function(b){return b&&a.Pq?a.Pq.AG(b):!1},Wx:function(b){b=b.pR||b.options;return c.Js(b)?b:null},Eva:function(b){b.options.pR=null},wY:function(b){var d=
b.options.options;if(c.Js(d)){var e,f=b.options.optionsKeys;!f||null==f.label&&null==f.value?a.Pq.Dya(d)||d instanceof a.RC||(e=new a.RC(d)):d instanceof a.RC||(e=new a.RC(d,{dataMapping:{mapFields:function(b){b=b.data;var a={data:{}};a.data.label=b[f.label];a.data.value=b[f.value];a.metadata={key:b[f.value]};return a}}}));e&&(b.options.pR=e)}},OB:function(b){return null!=b.label?b.label:String(b.value)},yQa:function(b,a){if("mutate"===a.type&&null!=a.detail.remove){for(var c=a.detail.remove.data,
d=!1,e=[].concat(b.options.value),f=0;f<c.length;f++){var g=e.indexOf(c[f].value);0<=g&&(e.splice(g,1),d=!0)}d&&b._setOption("value",e)}b._setOption("options",b.options.options)},DV:function(b){var a=c.Wx(b.options);if(a){c.pba(b);var d=c.yQa.bind(null,b);b.ssa=d;a.addEventListener("mutate",d);a.addEventListener("refresh",d)}},pba:function(b){var a=c.Wx(b.options),d=b.ssa;null!=a&&d&&(a.removeEventListener("mutate",d),a.removeEventListener("refresh",d),b.ssa=void 0)},m0a:function(b){if(null==b.GU){var a=
g(document.createElement("div"));a.uniqueId().attr("role","presentation").addClass("oj-listbox-loading-icon-container");var c=g(document.createElement("div"));c.addClass("oj-icon oj-listbox-loading-icon");a.append(c);b.prepend(a);b.GU=a}},e6a:function(b){null!=b.GU&&b.GU.remove();b.GU=void 0},gva:function(b,a,c){if(!b.FU){a=g(document.createElement("div"));a.addClass("oj-listbox-filter-message-box");var d=g(document.createElement("div"));d.addClass("oj-listbox-filter-message-text oj-listbox-liveregion");
d.attr({role:"region","aria-live":"polite"});var e=g(document.createElement("div"));e.addClass("oj-listbox-filter-message-separator");a.append(d);a.append(e);b.prepend(a);d.text(c);b.FU=a}},wAa:function(b){b.FU&&(b.FU.remove(),b.FU=void 0)},g2a:function(b,a,d,e,f){function g(b){if(b){var a=b.value.data;if(a)for(var t,s=0;s<a.length;s++)t=a[s],e&&e.Ts&&!e.Ts(e.Kv,t.label,t)||h.push(t);f&&c.wAa(f);if(f&&!b.done&&h.length>=k.size)c.gva(f,d,d.T("filterFurther")),d.fm=!0;else{if(!b.done&&h.length<k.size)return l.next().then(g);
d.fm=!1}}return Promise.resolve(h)}var h=[],k={size:a},l=b.fetchFirst(k)[Symbol.asyncIterator]();return l.next().then(g)},tAa:{},h2a:function(b,a,d,e){var f=b.ea,g=b.selection;f.to||(f.to=c.Hg(b.Ma,"fetching data"));f.B7&&f.B7(c.tAa);var h=new Promise(function(b,a){f.B7=a});g&&"init"==a.qwa&&(c.m0a(g),a.qwa=null);b=c.g2a(c.Wx(a),e||a.fetchSize||c.yca,f,d,b.ld).then(function(b){g&&c.e6a(g);f.I8a=!0;return b});Promise.race([h,b]).then(function(b){f.B7=null;d.Jc({results:b});f.to&&(f.to(),f.to=null)},
function(b){b!==c.tAa&&f.to&&(d.Jc(),f.to(),f.to=null)})},pwa:function(b,a,d){var e=c.Hg(b,"fetching selected data");return a.fetchFirst({size:d||c.yca})[Symbol.asyncIterator]().next().then(function(b){c.Zz(e);return b.value.data},function(){c.Zz(e);return null})},nwa:function(b,d,e){if(a.Pq.Dya(d)){var f=c.Hg(b,"fetching selected data");d.fetchByKeys({keys:e.value}).then(function(b){var a=[];b.results.forEach(function(b){a.push(b.data)});e.Jc({results:a});c.Zz(f)},function(){e.Jc();c.Zz(f)})}},eca:function(b,
a,d){return new Promise(function(e){c.nwa(b,a,{value:Array.isArray(d)?d:[d],Jc:function(b){var a=null;if(b&&b.results.length)for(var a=[],c=0;c<b.results.length;c++)a.push(b.results[c].value);e(a)}})})},Z5a:function(b,a){return function(d){var e={component:this.ea};d.value?e.value=d.value:e.term=d.Kv||"";b(e).then(function(b){var e={results:[]};b&&c.ev(g(b),function(b,f){c.R6(d,f,e.results,a,!1)});d.Jc(e)})}},R6:function(b,a,d,e,f,h){var k,l;a=a[0];!a.label&&e&&e.label&&(a.label=a[e.label]);!a.value&&
e&&e.value&&(a.value=a[e.value]);!a.children&&e&&e.children&&(a.children=a[e.children],delete a[e.children]);if(a.children){k={};for(l in a)a.hasOwnProperty(l)&&(k[l]=a[l]);k.children=[];c.ev(g(a.children),function(a,d){c.R6(b,d,k.children,e&&e.childKeys?e.childKeys:null,f,h)});(!f||b.Ts(b.Kv,h(k),a)||k.children.length)&&d.push(k)}else f&&!b.Ts(b.Kv,h(a),a)||d.push(a)},a1a:function(b,a,c){if(g.isFunction(a))return!0;if(!a)return!1;throw Error(c+" must be a function or a false value");},Rx:function(b,
c){function d(){}a.f.ua(d,b,"");d.prototype=g.extend(d.prototype,c);return d},ida:"last-query-result",gxa:function(b){return g.data(b.Ma,b.jb+"-"+c.ida)},E6a:function(b,a){g.data(b.Ma,b.jb+"-"+c.ida,a)}},b=c.Rx(Object,{Ze:function(b){var a=this;return function(){b.apply(a,arguments)}},yr:function(b){var a,c=this;b.each(function(){a=g(this);a.is("oj-option")?a.wrap("\x3cli\x3e\x3c/li\x3e"):a.is("oj-optgroup")&&(a.wrap("\x3cli\x3e\x3c/li\x3e"),c.yr(a.children()),a.children().wrapAll("\x3cul class\x3d'oj-listbox-result-sub'\x3e\x3c/ul\x3e"))})},
_init:function(b){var a,d,e=this.jb;a=this.Sc;this.ea=b.ea;this.pa=b=this.Yp(b);this.id=b.id;this.kya=!1;this.eX=this.ea.$()&&!b.options&&0<b.element.find("oj-option").length;void 0!==b.element.data(a)&&null!==b.element.data(a)&&b.element.data(a)._destroy();this.Ma=this.pJ();var f=b.rootAttributes;this.Xu=f&&f.id?f.id:"ojChoiceId_"+(this.wb("id")||"autogen"+c.RG());this.Xu.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.Ma.attr("id",this.Xu);this.body=c.r7a(function(){return b.element.closest("body")});
this.Ma.attr("style",this.wb("style"));this.hW=this.wb("tabindex");this.pa.element.data(a,this).attr("tabindex","-1").before(this.Ma);this.Ma.data(a,this);this.ld=this.Ma.find(".oj-listbox-drop");this.ld.data("ojlistbox",this);this.cZa(b.pickerAttributes);this.ld.attr("data-oj-containerid",this.Xu);this.results=a=this.Ma.find(".oj-listbox-results");this.results.on("click",c.YB);if(f=this.ea.wz()){var h=f.attr("id");h?a.attr("aria-labelledby",h):a.attr("aria-label",f.text())}else(f=this.ea.element.attr("aria-label"))&&
a.attr("aria-label",f);b.list&&g("#"+b.list).is("ul")&&(a=g("#"+b.list),this.fwa=a.parent(),a.addClass("oj-listbox-results").attr("role","listbox"),this.results.replaceWith(a),this.results=a=this.Ma.find(".oj-listbox-results"),this.results.css("display",""));this.eX&&(a=b.element.children(),this.yr(a),this.results.append(b.element.children()),this.ml=this.results);this.search=d="oj-select"==e?this.Ma.find("input.oj-listbox-input"):this.Ma.find("input."+e+"-input");this.uba=this.mAa=0;this.context=
null;this.oT();this.Ma.on("click",c.YB);c.C4a(this.results);this.ld.on("mousemove-filtered touchstart touchmove touchend",".oj-listbox-results",this.Ze(this.voa));g(this.Ma).on("change","."+e+"-input",function(b){b.stopPropagation()});g(this.ld).on("change","."+e+"-input",function(b){b.stopPropagation()});var k=this;c.D4a(d);d.on("keyup-change input paste",this.Ze(this.Gx));d.on("focus",function(){d.addClass(e+"-focused");"oj-select"!==e&&k.Ma.addClass("oj-focus")});d.on("blur",function(){d.removeClass(e+
"-focused");"oj-select"!==e&&k.Ma.removeClass("oj-focus")});this.ld.on("mouseup",".oj-listbox-results",this.Ze(function(b){0<g(b.target).closest(".oj-listbox-result-selectable").length&&(this.voa(b),this.I7(null,b))}));this.ld.on("click mouseup mousedown",function(b){b.stopPropagation()});g.isFunction(this.pa.TB)&&(this.pa.qwa="init",this.xn());a=b.element.prop("disabled");void 0===a&&(a=!1);this.Lp(!a);a=b.element.prop("readonly");void 0===a&&(a=!1);this.yL(a);c.LAa=c.LAa||c.n5a();this.autofocus=
b.element.prop("autofocus");b.element.prop("autofocus",!1);this.autofocus&&this.nh();c.DV(b.ea)},K1:function(b){var a=this.ld;!g(b.target).closest(a).length&&!g(b.target).closest("#"+a.attr("data-oj-containerid")).length&&0<a.length&&(a=a.data("ojlistbox"),a.close(b))},nB:function(){this.ld&&this.ld.remove()},_destroy:function(){var b=this.ND;isNaN(b)||(delete this.ND,window.clearTimeout(b));var b=this.pa.element,a=b.data(this.Sc);this.close();this.kAa&&(delete this.kAa,this.kAa=null);this.pa.list&&
this.results?(this.E1(this.results),this.fwa&&this.fwa.append(this.results)):this.eX&&this.results&&(this.Lua(this.results),this.pa.element.append(this.results.children()));void 0!==a&&(a.Ma.after(b),a.Ma.remove(),a.ld.remove(),b.removeAttr("aria-hidden").removeData(this.Sc).off("."+this.jb).prop("autofocus",this.autofocus||!1),this.hW?b.attr({y$a:this.hW}):b.removeAttr("tabindex"),b.show())},Lua:function(b){var a,c=this;b.children().each(function(){a=g(this);a.is("li")&&(a.hasClass("oj-listbox-result-with-children")||
0<a.children("oj-optgroup").length?(a.hasClass("oj-listbox-result-with-children")&&a.children(".oj-listbox-result-label").remove(),c.Lua(a.find("oj-optgroup").children()),a.find("oj-optgroup").children().children().unwrap(),a.find("oj-optgroup").unwrap()):a.hasClass("oj-listbox-result")?a.find("oj-option").unwrap().unwrap():a.find("oj-option").unwrap())})},E1:function(b){if(b&&b.is("ul")){b.removeClass("oj-listbox-results oj-listbox-result-sub");b.removeAttr("role");for(var a=b.children().length-
1;0<=a;a--)this.E1(g(b.children()[a]))}else b.is("li")&&((b.hasClass("oj-listbox-placeholder")||b.hasClass("oj-listbox-no-results"))&&b.remove(),b.attr("class")&&b.attr("class",b.attr("class").replace(/\oj-listbox-\S+/g,"")),(a=b.children(".oj-listbox-result-label"))&&a.contents().unwrap(),"none"==b.css("display")&&b.css("display",""),this.E1(b.children("ul")))},qx:function(b){if(b.is("option")||b.is("oj-option"))return{value:b.prop("value")||b.attr("value"),label:b.text()||b.attr("label"),element:b.get(),
css:b.attr("class"),disabled:b.prop("disabled"),locked:"locked"===b.attr("locked")||!0===b.data("locked")};if(b.is("optgroup")||b.is("oj-optgroup"))return{label:b.prop("label")||b.attr("label"),disabled:b.prop("disabled"),children:[],element:b.get(),css:b.attr("class")};if(b.is("li")){var a,c,d,e=null,f=b.children();f&&0<f.length&&f.is("ul")?(a=b.attr("oj-data-label")?b.attr("oj-data-label"):b.clone().children().remove().end().text().trim(),c=b.attr("oj-data-value"),e=[]):f&&0<f.length&&f.is("oj-optgroup")?
(a=f.prop("label"),d=f.prop("disabled"),e=[]):(d=b.find("oj-option"),a=b.attr("oj-data-label")?b.attr("oj-data-label"):b.text().trim(),c=0<d.length?d.prop("value"):b.attr("oj-data-value"),d=0<d.length?d.prop("disabled"):void 0);return{value:c,label:a,disabled:d,element:b.get(),css:b.attr("class"),children:e}}},Yp:function(b){var a,e=this;b.options&&Array.isArray(b.options)&&b.optionsKeys&&(b.options=g.extend(!0,[],b.options));a=b.element;var f=a.get(0).tagName.toLowerCase();b.ea.$()?!b.options&&0<
b.element.children().length&&(this.ml=g(a)):"input"===f&&a.attr("list")?this.ml=g("#"+a.attr("list")):"select"===f&&0<a.children().length?this.ml=a:b.list&&(this.ml=g("#"+b.list));b=g.extend({},{I5a:function(a,d,h,k){var r,l=this.pa.id,m=this.pa.optionRenderer;"function"!==typeof m&&(m=null);this.pa.ea.Rl&&(m=this.pa.ea.Rl(m));r=function(a,d,k,s,u){function n(c,d){if(m){var f={index:P,depth:s,leaf:!d.children,parent:a,data:d,component:b.ea,componentElement:e.Ma[0],parentElement:c.get(0)},f=m.call(b.ea,
f);null!==f&&(null===f.parentNode||f.parentNode instanceof DocumentFragment)&&c.get(0).appendChild(f)}else T=b.ywa(d),void 0!==T&&(c.text(T),c.attr("aria-label",T));w(c)}function w(a){if(b.pya(h)){var c=a.find(".oj-listbox-highlighter-section");c.length||(c=a);x(c,h.Kv)}}function x(b,a){function c(b,a){var d=0;if(3===b.nodeType){var e=b.data.toUpperCase().indexOf(a);if(0<=e){d=document.createElement("span");d.className="oj-listbox-highlighter";e=b.splitText(Math.min(e,b.data.length));e.splitText(Math.min(a.length,
e.data.length));var f=e.cloneNode(!0);d.appendChild(f);e.parentNode.replaceChild(d,e);d=1}}else if(1===b.nodeType&&b.childNodes&&!/(script|style)/i.test(b.tagName))for(e=0;e<b.childNodes.length;++e)e+=c(b.childNodes[e],a);return d}b.length&&a&&a.length&&b.each(function(){c(this,a.toUpperCase())})}function O(b,a){if(a.children&&0<a.children.length){var c=a.element&&g(a.element[0]).is("li")&&g(a.element[0]).children("ul"),d=c?g(a.element[0]).children("ul"):g("\x3cul\x3e\x3c/ul\x3e");d.hasClass("oj-listbox-result-sub")||
d.addClass("oj-listbox-result-sub");r(a,a.children,d,s+1,!1);c||b.append(d)}}var P,J,N,R,L,T;N=e.nu();u&&null!==N&&!h.Kv&&0>=k.find(".oj-listbox-placeholder").length&&("select"!==f||!e.ea.aj())&&(J={value:"",label:N},L=g("\x3cli\x3e\x3c/li\x3e"),L.addClass("oj-listbox-placeholder oj-listbox-results-depth-0 oj-listbox-result oj-listbox-result-selectable"),L.attr("role","presentation"),N=g(document.createElement("div")),N.addClass("oj-listbox-result-label"),N.attr("id","oj-listbox-result-label-"+c.RG()),
N.attr("role","option"),T=b.ywa(J),void 0!==T&&N.text(T),N.attr("aria-label",T),L.append(N),L.data(e.Sc,J),k.prepend(L));P=0;for(u=d.length;P<u;P+=1){J=d[P];R=!0===J.disabled;N=!R&&void 0!==l(J);var V=J.element&&g(J.element[0]).is("li");L=V?g(J.element[0]):g("\x3cli\x3e\x3c/li\x3e");L.hasClass("oj-listbox-result")?(J.children&&0<J.children.length&&O(L,J),w(g(J.element[0]).children("div")),g(J.element[0]).css("display","")):(L.addClass("oj-listbox-results-depth-"+s),L.addClass("oj-listbox-result"),
L.addClass(N?"oj-listbox-result-selectable":"oj-listbox-result-unselectable"),R&&L.addClass("oj-disabled"),J.children&&L.addClass("oj-listbox-result-with-children"),L.attr("role","presentation"),N=g(document.createElement("div")),N.addClass("oj-listbox-result-label"),N.attr("id","oj-listbox-result-label-"+c.RG()),N.attr("role","option"),R&&N.attr("aria-disabled","true"),V||(n(N,J),L.append(N)),J.children&&0<J.children.length&&O(L,J),L.data(e.Sc,J),V?(J=g(J.element[0]),0<J.children("oj-optgroup").length?
(R=J.children("oj-optgroup").prop("label")+"",J.prepend(N.text(R))):0<J.children("oj-option").length?J.contents().wrapAll(N):J.contents().filter(function(){return"UL"!==this.tagName}).wrapAll(N),w(J.children("div")),J.css("display","")):k.append(L))}};r(null,d,a,0,k)},pya:function(b){return!0!==b.XW}},d,b);b.id=function(b){return b.value};b.ywa=function(b){b=c.OB(b);return isNaN(b)?b:this.ea.Jw(b)};b.g$=function(b){var a=c.OB(b);return b&&a?isNaN(a)?a:this.ea.Jw(a):void 0};"select"!==f&&null!==b.manageNewEntry&&
(b.manageNewEntry=function(b){var a={};a.value=a.label=g.trim(b);return a});if(this.ml)b.pC=this.Ze(function(b){var a={results:[],m$a:!1},d=b.Kv,f,g;g=function(a,f){var h,k,r=a.children()&&0<a.children().length&&(a.children().is("ul")||a.children().is("oj-optgroup"));if(a.is("option")||a.is("oj-option")||a.is("li")&&!r)b.Ts(d,a.text()||a.attr("label"),a)&&f.push(e.qx(a));else if(a.is("optgroup")||a.is("oj-optgroup")||a.is("li")&&r)h=e.qx(a),a.is("optgroup")||a.is("oj-optgroup")?k=a.children():a.children("oj-optgroup")?
k=a.children().children("ul").children():a.children("ul").children(),c.ev(k,function(b,a){g(a,h.children)}),0<h.children.length&&f.push(h)};f=this.ml.children();void 0!==this.nu()&&0<f.length&&""==f.first().attr("value")&&(f=f.slice(1));c.ev(f,function(b,c){g(c,a.results)});b.Jc(a)});else if("options"in b){a=b.options;var h;c.Js(a)&&(h=c.Wx(b));b.pC=h?function(a){a.value?c.nwa(e.Ma,h,a):c.h2a(e,b,a)}:g.isFunction(a)?c.Z5a(a,b.optionsKeys?b.optionsKeys:null):c.b5a(a,b.optionsKeys?b.optionsKeys:null)}return b},
UKa:function(){var b=this.pa.element.find(".oj-listbox-header");if(b.length){this.header=g("\x3cli\x3e",{"class":"oj-listbox-result-header oj-listbox-result-unselectable",role:"presentation"});this.header.append(b.children());this.cTa();b=g("\x3cul\x3e",{"class":"oj-listbox-results-with-header",role:"listbox"});b.append(this.header);b.appendTo(this.results.parent());var a=g("\x3cli\x3e",{role:"presentation"});b.append(a);this.results.attr("role","presentation");this.results.appendTo(a)}this.kya=!0},
cTa:function(){this.Mn=this.header.find("li[role\x3d'option'], li:not([role])");this.Mn.uniqueId();this.header.find("ul").attr("role","presentation");this.header.find("li:not([role])").attr("role","option");this.header.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){g(this).attr("tabIndex",-1)})},ppa:function(b){var a=!1;this.Mn.each(function(){if(g(this).attr("id")===b)return a=!0,!1});return a},XOa:function(b){if(!this.Mn)return null;if(!b)return this.Mn.first();
var a=!1,c=null;this.Mn.each(function(){if(a)return c=g(this),!1;a=g(this).attr("id")===b});return c},pPa:function(b){if(!this.Mn)return null;var a=null;this.Mn.each(function(){if(g(this).attr("id")===b)return!1;a=g(this)});return a},HYa:function(b){var a=b.find(".oj-component .oj-enabled").first();0===a.length&&(a=b.find("a, input, select, textarea, button, object, .oj-component-initnode").first(),0===a.length&&(a=b.children().first()));a&&a.addClass("oj-focus oj-focus-highlight oj-focus-only")},
aXa:function(){this.Mn&&this.Mn.find(".oj-focus").removeClass("oj-focus oj-focus-highlight oj-focus-only")},Gua:function(b){b=g.Event(this.Sc+"-selecting",{val:this.id(b),object:b});this.pa.element.trigger(b);return!b.isDefaultPrevented()},Tr:function(){return!0===this.gwa},ZD:function(){var b=this.$D&&!this.yL;if(b===this.gwa)return!1;this.Ma.toggleClass("oj-disabled",!b);this.close();this.gwa=b;return!0},Lp:function(b){void 0===b&&(b=!0);this.$D!==b&&(this.$D=b,this.pa.element.prop("disabled",!b),
this.Ma.toggleClass("oj-enabled",b),this.ZD())},t2:function(){this.Lp(!1)},yL:function(b){void 0===b&&(b=!1);if(this.yL===b)return!1;this.yL=b;this.pa.element.prop("readonly",b);this.ZD();return!0},Xf:function(){return this.Ma.hasClass("oj-listbox-dropdown-open")},lOa:function(){return this.Ma.children().first()},yM:function(b,d){if(a.Na.gaa(d)){var e=c.Hg(this.Ma,"closing popup");this.ND=window.setTimeout(function(){g.proxy(this.close,this);e()},1)}else{var f=this.Ma,h=d.element.element;h.css(b);
"bottom"===d.vertical?(f.addClass("oj-listbox-drop-above"),h.addClass("oj-listbox-drop-above")):(f.removeClass("oj-listbox-drop-above"),h.removeClass("oj-listbox-drop-above"))}},Nla:function(){var b={my:"start top",at:"start bottom",of:this.lOa(),collision:"flip",using:g.proxy(this.yM,this)},c="rtl"===a.Q.Xh();return a.Na.Eq(b,c)},O6:function(){var b=this.ld,a=this.Nla();b.css("width",this.Ma.outerWidth());b.position(a)},FZa:function(b){return this.Xf()||!1===this.$D||!0===this.yL?!1:this.ea._trigger("beforeExpand",
b,{component:this.pa.element})},Mia:function(){this.Ma.removeClass("oj-listbox-drop-above");this.ld.removeClass("oj-listbox-drop-above")},open:function(b,a){if(!this.FZa(b))return!1;this.Bu(b,a);return!0},Bu:function(){this.kya||this.UKa();this.Ma.addClass("oj-listbox-dropdown-open")},VU:function(){if(this.Xf()&&"true"!==this.Np().attr("aria-expanded")){this.Mia();var b=this.ld.parent();if("oj-select"===this.jb&&!0!==this.pa.multiple&&b&&b.hasClass("oj-listbox-drop-layer"))a.fa.Xa().sY(b,a.fa.uc.qt);
else{this.ld[0]!==this.body().children().last()[0]&&this.ld.detach().appendTo(this.body());this.ld.appendTo(this.body());this.header&&(this.ld.find(".oj-listbox-results-with-header").prepend(this.header),this.header.show());b={};b[a.fa.uc.TC]=g.proxy(this.close,this);b[a.fa.uc.UC]=g.proxy(this.nB,this);b[a.fa.uc.SC]=g.proxy(this.K1,this);b[a.fa.uc.qt]=g.proxy(this.O6,this);var c={};c[a.fa.Ha.We]=this.ld;c[a.fa.Ha.PC]=this.pa.element;c[a.fa.Ha.jt]=b;c[a.fa.Ha.rt]=this.Nla();c[a.fa.Ha.Xv]="oj-listbox-drop-layer";
c[a.fa.Ha.pH]=this.ea.$();a.fa.Xa().open(c);g("#oj-listbox-drop").removeAttr("id");this.ld.attr("id","oj-listbox-drop");this.ld.attr("data-oj-containerid",this.Xu)}this.O6();this.Np().attr("aria-expanded",!0)}},close:function(){if(this.Xf()){this.Ma.removeClass("oj-listbox-dropdown-open");var b=this.Np().attr("aria-expanded");if(b&&"false"!==b){var b=this.Xu,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.Ma.parents().add(window).each(function(){g(this).off(c).off(d).off(e)});this.Mia();
b={};b[a.fa.Ha.We]=this.ld;a.fa.Xa().close(b);this.header&&(this.header.hide(),this.header.appendTo(this.Ma));this.ld.removeAttr("data-oj-containerid");this.ld.removeAttr("id");this.pa.list||this.eX?this.JL():(this.ld.detach(),this.results.empty());this.Np().attr("aria-expanded",!1);"ojcombobox"===this.Sc&&this.Np().removeAttr("aria-activedescendant");g.removeData(this.Ma,this.jb+"-last-term")}}},cZa:function(b){a.ka.Fba(this.ld,b)},Ut:function(){},PMa:function(){var b=this.results,a,c,d,e;c=this.CA();
0>c||(0==c?b.scrollTop(0):(a=this.gA(),d=g(a[c]),e=d.offset().top+d.outerHeight(!0),c===a.length-1&&(a=b.find("li.oj-listbox-more-results"),0<a.length&&(e=a.offset().top+a.outerHeight(!0))),a=b.offset().top+b.outerHeight(!0),e>a&&b.scrollTop(b.scrollTop()+(e-a)),e=d.offset().top-b.offset().top,0>e&&"none"!=d.css("display")&&b.scrollTop(b.scrollTop()+e)))},gA:function(){return this.results.find(".oj-listbox-result-selectable:not(.oj-disabled, .oj-selected)").filter(function(){return"none"!=g(this).css("display")})},
kqa:function(b){var a=this.gA(),c=this.CA();if(this.header&&(0>=c||c===a.length-1)){var d=this.Np().attr("aria-activedescendant"),e=this.ppa(d);e||(d=null);var f=null;0<b&&(0>c||c===a.length-1)?f=this.XOa(d):0>b&&(e&&0>c||0===c)&&(f=this.pPa(d));if(f){this.JL();this.HYa(f);this.Np().attr("aria-activedescendant",f.attr("id"));return}e&&0>b&&(c=0)}for(;-1<=c&&c<a.length;)if(c+=b,c==a.length?c=0:-1==c&&(c=a.length-1),d=g(a[c]),d.hasClass("oj-listbox-result-selectable")&&!d.hasClass("oj-disabled")&&!d.hasClass("oj-selected")){this.CA(c);
break}},CA:function(b){var a=this.gA(),c=this.ld.find(".oj-listbox-search"),c=c&&!c.attr("aria-hidden");if(0===arguments.length){var d=a.filter(".oj-hover");d.length||(d=a.children(".oj-hover").closest(".oj-listbox-result"));c&&this.wM(d.text());return a.get().indexOf(d[0])}b>=a.length&&(b=a.length-1);0>b&&(b=0);this.JL();a=g(a[b]);a.hasClass("oj-listbox-result-with-children")?(d=a.children(".oj-listbox-result-label"),d.addClass("oj-hover"),c&&this.wM(d.text())):(a.addClass("oj-hover"),c&&this.wM(a.text()));
this.Np().attr("aria-activedescendant",a.find(".oj-listbox-result-label").attr("id"));this.PMa()},JL:function(){this.results.find(".oj-hover").removeClass("oj-hover");this.aXa();"ojcombobox"===this.Sc&&this.Np().removeAttr("aria-activedescendant")},voa:function(b){b=g(b.target).closest(".oj-listbox-result-selectable");if(0<b.length&&!b.is(".oj-hover")){var a=this.gA();this.CA(a.index(b))}else 0==b.length&&this.JL()},wM:function(b){if(!this.ld.find(".oj-listbox-filter-message-text").length){var a=
this.Ma.find(".oj-listbox-liveregion");a.length&&a.text(b)}},Gx:function(b){var d=this,e=this.search.val(),f=g.data(this.Ma,this.jb+"-last-term");if(!0===b||!f||e!==f||!0===this.pa.multiple)if(f||e||!b||"input"!==b.type)g.data(this.Ma,this.jb+"-last-term",e),e.length>=(this.pa.minLength||0)?(this.X6&&this.X6.clear(),b&&!0!==b?(this.lWa=c.Hg(this.Ma,"query results"),this.X6=a.aD.L$(c.WBa),this.X6.rq().then(function(a){a&&d.jra(b)}).then(this.lWa)):this.jra(b)):this.close()},jra:function(b){function a(){g.O6();
if(g.header&&g.Mn.length){var b=g.gA(),c=g.Mn.length+b.length;g.Mn.attr("aria-setsize",c);b.length&&(b=b.children("[role\x3d'option']"),b.attr("aria-setsize",c),b.first().attr("aria-posinset",g.Mn.length+1))}}var d=this.search,e=this.results,f=this.pa,g=this,h;h=d.val();var k;(f.minLength||0)>h.length?this.close():(this.open(null,!0),k=++this.mAa,this.JL(),h=this.search.val(),h=void 0!==h&&null!==h&&(!0!==b||f.Pd||"rawValue"===f.filterOnOpen||0<f.minLength)?h:"",this.uba=1,f.pC({element:f.element,
Kv:h,page:this.uba,context:null,Ts:f.Ts,Jc:this.Ze(function(h){if(k===this.mAa&&this.Xf())if(f.ea.fm||c.wAa(g.ld),this.context=h&&void 0!==h.context?h.context:null,(!h||h.results&&0===h.results.length||this.hpa(h))&&c.a1a(g.ea,f.xwa,"formatNoMatches")){h=f.xwa(g.ea,d.val());if("oj-select"===this.jb||this.header){if(this.VU(),this.Xqa(e),a(),c.gva(g.ld,g.ea,h),!this.$S()){var l=g.ld.find(".oj-listbox-filter-message-separator");l.length&&l.css("display","none")}}else this.close();this.wM(h)}else c.E6a(this,
h.results),this.VU(),this.Xqa(e),g.pa.I5a.call(this,e,h.results,{Kv:d.val(),page:this.uba,context:null,XW:b},this.Ita()),this.sL(h,b),a(),this.wM(f.p2a(g.ea,this.gA().length))})}))},Xqa:function(b){this.pa.list||this.eX?(b=b.children(),b.find(".oj-listbox-highlighter"),this.qoa(b)):b.empty()},iVa:function(b){var a;0<b.children("div").children("oj-option").length?(a=b.children("div").children("oj-option").children(".oj-listbox-highlighter"),b=b.children("div").children("oj-option")[0]):(a=b.children("div").children(".oj-listbox-highlighter"),
b=b.children("div")[0]);if(0<a.length){for(var c=0;c<a.length;c++)g(a[c].childNodes).unwrap();b.normalize()}},qoa:function(b){for(var a=0;a<b.length;a++){var c=g(b[a]);c.is("LI")&&((c.hasClass("oj-listbox-no-results")||c.hasClass("oj-listbox-placeholder"))&&c.remove(),c.css("display","none"),c.hasClass("oj-selected")&&c.removeClass("oj-selected"),this.iVa(c));(c=c.children("oj-optgroup")?c.children("oj-optgroup").children("ul"):c.children("ul"))&&c.children()&&this.qoa(c.children())}},v1:function(b){this.close(b)},
iE:function(){c.nh(this,this.search)},I7:function(b,a){if(this.header){var d=this.Np().attr("aria-activedescendant");if(this.ppa(d)){var d=g("#"+d),e=d.find("a, input, select, textarea, button, object").first();0===e.length&&(e=d.children());e.length&&e[0].click();this.close(a);return}}e=this.CA();(d=this.results.find(".oj-hover").closest(".oj-listbox-result").data(this.Sc))?(this.CA(e),e=this.Bd(),b=b||{},b.trigger=c.dD.XCa,this.lL(d,b,a),this.sM(d,b,a),this.jV(d,e),a&&"keydown"===a.type&&(this.kwa=
!0)):b&&b.v5a&&this.close(a)},nu:function(){return this.pa.element.attr("placeholder")||this.pa.element.attr("data-placeholder")||this.pa.element.data("placeholder")||this.pa.placeholder},fs:function(){var b=this.nu();b&&(this.search.attr("placeholder",b),this.Ma.removeClass(this.jb+"-allowclear"))},Eoa:function(){var b;a:{var a,c,d;b=this.wb("style");if(void 0!==b&&null!==b)for(b=b.split(";"),c=0,d=b.length;c<d;c+=1)if(a=b[c].replace(/\s/g,""),a=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),
null!==a&&1<=a.length){b=a[1];break a}b=void 0}null!==b&&this.Ma.css("width",b)},Bd:function(){return this.ea.option("value")},uC:function(b,a,c){var d={dv:!1};c&&(d._context=c);Array.isArray(b)||this.ea.$()?this.ea.jc(b,a,d):this.ea.jc([b],a,d);this.pa.element.val(b)},sM:function(){},jV:function(){},Ita:function(){return!1},Np:function(){return this.search},wb:function(b){return this.pa.ea.$()?this.pa.ea.wc.getAttribute(b):this.pa.element.attr(b)},l8:function(b){var a=!1,d=this.ld.find(".oj-listbox-search");
d&&(this.$S()?(this.ld.find(".oj-listbox-search-wrapper").removeClass("oj-helper-hidden-accessible"),g(d).removeAttr("aria-hidden"),this.search.val(b),a=!0):(this.ld.find(".oj-listbox-search-wrapper").addClass("oj-helper-hidden-accessible"),g(d).attr("aria-hidden","true")));c.nh(this,a?this.search:this.selection);if(a){var e=this;d.find(".oj-listbox-spyglass-box").on("mouseup click",function(b){e.search.focus();b.preventDefault()})}},$S:function(){var b=this.pa.minimumResultsForSearch;return(this.pa.list?
g("#"+this.pa.list).find("li").length:this.ml?this.ml.children().length:this.pa.options?this.pa.options.length:0)>b||this.qm},hpa:function(){return!1},mh:function(b,a){for(var c=0;c<b.length;c++)if(g(b[c]).data(this.Sc).value===a)return b[c];return null}}),d={H9:!0,r$a:!0,xwa:function(b){return b.T("noMatchesFound")},p2a:function(b,a){return 1===a?b.T("oneMatchesFound"):b.T("moreMatchesFound",{num:""+a})},id:function(b){return b.id},Ts:function(b,a){return 0<=(""+a).toUpperCase().indexOf((""+b).toUpperCase())},
separator:","},e=c.Rx(b,{ZD:function(){e.N.ZD.apply(this,arguments)&&this.search.prop("disabled",!this.Tr())},nh:function(){this.Xf()&&this.close()},_destroy:function(){g("label[for\x3d'"+this.search.attr("id")+"']").attr("for",this.pa.element.attr("id"));e.N._destroy.apply(this,arguments)},Yz:function(b){if(this.selection.data(this.Sc)){b||a.D.warn("Event should not be null when user modified the value in UI");var c=this.ea.$()?"":[];"oj-select"===this.jb&&this.ea.aj()||this.uC(c,b);this.search.val("");
this.selection.removeData(this.Sc)}this.fs()},xn:function(){this.pa.TB.call(null,this.ml?this.ml:this.pa.element,this.Ze(this.tV))},Hp:function(b){if(this.Tr())if(b.which===c.Rb.PAGE_UP||b.which===c.Rb.PAGE_DOWN)b.preventDefault();else{switch(b.which){case c.Rb.UP:case c.Rb.DOWN:this.Xf()?this.kqa(b.which===c.Rb.UP?-1:1):this.open(b);b.preventDefault();return;case c.Rb.ENTER:this.I7(null,b);b.preventDefault();this.Xf()||(this.qm=!1);return;case c.Rb.TAB:this.close(b);this.qm=!1;return;case c.Rb.TY:this.Xf()&&
(this.v1(b),b.preventDefault());this.qm=!1;return}this.qm=!0}},xKa:function(b){this.Tr()&&!this.Xf()&&this.open(b)},oT:function(){var b,a=this.Ma,d,e=(d=this.pa.rootAttributes)&&d.id?d.id:this.wb("id")||c.RG();this.selection=b=a.find("."+this.jb+"-choice");b.attr("id",this.jb+"-choice-"+e);d=g("label[for\x3d'"+this.wb("id")+"']");d.attr("id")||d.attr("id",this.jb+"-label-"+e);b.find("."+this.jb+"-input").attr("id",this.jb+"-input-"+e);this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+
e);a=a.find(".oj-listbox-liveregion");a.length&&a.attr("id","oj-listbox-live-"+e);"oj-select"!==this.jb&&this.search.attr("aria-owns",this.results.attr("id"));this.search.attr("aria-labelledby",d.attr("id"));this.pa.element.attr("aria-labelledby",d.attr("id"));this.search.attr("id")&&d.attr("for",this.search.attr("id"));this.wb("aria-label")&&this.search.attr("aria-label",this.wb("aria-label"));this.wb("aria-controls")&&this.search.attr("aria-controls",this.wb("aria-controls"));b.on("keydown",this.Ze(this.Hp));
b.on("mousedown","abbr",this.Ze(function(b){this.Tr()&&(this.Yz(b),c.Z4a(b),this.close(b),this.selection.focus())}));b.on("mousedown",this.Ze(function(a){if(!("end"===a.target.getAttribute("slot")||0<g(this.OMa).find(a.target).length)){this.pa.element.prop("disabled")&&c.YB(a);b.removeClass("oj-focus-highlight");this.Xf()?this.close(a):this.Tr()&&this.open(a);var d=this.search.parent().attr("aria-hidden");d&&"true"==d?this.selection.focus():this.search.focus();g(a.target).hasClass("oj-combobox-open-icon")&&
c.YB(a);this.Ma.addClass("oj-active")}}));b.on("mouseup",this.Ze(function(){this.Ma.removeClass("oj-active")}));b.on("focus",this.Ze(function(b){c.YB(b)}));this.search.on("input",this.Ze(function(b){this.ea.kn(this.search.val(),b)}));this.search.on("focus",this.Ze(function(){this.Yqa=this.search.val()}));this.search.on("blur keyup",this.Ze(function(b){if("keyup"!==b.type||10===b.keyCode||13===b.keyCode){if(void 0!==this.search.val()&&0>=this.results.find(".oj-hover").length&&("keyup"!==b.type||!this.kwa))if(this.pa.manageNewEntry){var a=
this.search.val(),d=this.pa.manageNewEntry(a),e={trigger:"blur"===b.type?c.dD.pca:c.dD.Cca},f=this.selection.data(this.Sc),g=this.Bd();!f&&""!==a||f&&f.label!==a||!this.ea.isValid()&&a!==this.Yqa?(this.lL(d,e,b),"blur"!==b.type&&(this.sM(d,e,b),this.jV(d,g))):"keyup"===b.type&&(f&&f.label===a&&(d=f),this.sM(d,e,b),this.jV(d,g))}else null==this.pa.manageNewEntry&&((d=this.selection.data(this.Sc),""==this.search.val())?"oj-select"!==this.jb&&this.Yz(b):d||""===this.search.val()?"oj-select"!==this.jb&&
(b=this.pa.g$(d),void 0!==b&&this.search.val(b)):this.Ut());this.search.removeClass(this.jb+"-focused");this.Ma.removeClass("oj-focus");this.kwa=!1}}));this.Eoa();this.pa.element.hide().attr("aria-hidden",!0);this.Ma.append(this.pa.element);this.fs()},Yp:function(){var b=e.N.Yp.apply(this,arguments),d=this,f=b.element.get(0).tagName.toLowerCase();if("input"===f&&b.element.attr("list")||"select"===f&&0<b.element.children().length||b.ea.$()&&!b.options||b.list){var h=b.list?"li":"option";b.ea.$()&&
(h="oj-option");b.TB=function(c,e){var k,l=d.Bd();Array.isArray(l)&&!b.ea.$()&&(l=l[0]);void 0!==l&&null!==l&&(k=d.qx(c.find(h).filter(function(){var b;if("li"==h)b=this.getAttribute("oj-data-value");else if("option"==h||"oj-option"==h)b=this.value;return a.f.Bb(b,l)})),"select"===f&&void 0===k&&(l=null));if(void 0===l||null===l)k=d.qx(c.find(h).filter(function(){if("li"==h)return!0===this.getAttribute("oj-data-selected");if("option"==h)return this.selected})),"oj-select"===d.jb&&void 0===k&&b.ea.$()&&
(k=d.qx(g(c.find(h)[0])));e(k)};b.validate=function(b,c){var e;void 0!==c&&null!==c&&(e=d.qx(b.find(h).filter(function(){var b;if("li"==h)b=this.getAttribute("oj-data-value");else if("option"==h||"oj-option"==h)b=this.value;return a.f.Bb(b,c)})));return!!e}}else if("options"in b||this.Bd()&&0<this.Bd().length)c.Js(b.options)||g.isFunction(b.options)?b.TB=function(e,f){function h(c,d){for(var e=0,f=c.length;e<f;e++){var g=c[e];if(a.f.Bb(d,b.id(g))||g.children&&(g=h(g.children,d)))return g}return null}
var k=d.z4(),l=null;if(k){var m=c.gxa(d);m&&(l=h(m,k));l||(m=d.currentItem)&&m.length&&a.f.Bb(k,b.id(m[0]))&&(l=m[0]);l||d.fca?f(l):b.pC({value:[k],Jc:g.isFunction(f)?function(b){b&&b.results&&(l=h(b.results,k));f(l)}:g.noop})}else f(l)}:(b.TB=function(c,e){var h=d.z4(),k="select"==f&&d.ea.Ct()&&!d.ea.aj()?d.nu():null,l=null;b.pC({Ts:function(c,d,e){(c=a.f.Bb(h,b.id(e)))&&(l=e);null==k&&(k=e);return c},Jc:g.isFunction(e)?function(){l||"select"!==f||d.ea.P5()||(l=k);e(l)}:g.noop})},b.validate=function(c,
d){var e=null;b.pC({Ts:function(c,f,g){(c=a.f.Bb(d,b.id(g)))&&(e=g);return c},Jc:g.noop});return!!e});return b},sL:function(b,d,e){var f=-1,g=this;b=this.gA();c.ev(b,function(b,c){var d=g.z4();if(d&&a.f.Bb(d,g.id(c.data(g.Sc))))return f=b,!1});!1!==e&&!0===d&&0<=f&&this.CA(f)},lL:function(b,a,c){if(this.Gua(b)){var d;a&&a.trigger&&(d={Ly:{trigger:a.trigger}});this.close(c);a=this.ea.$()?"":[];this.uC(0===this.id(b).length?a:this.id(b),c,d);"blur"!==c.type&&this.iE()}},Ut:function(){this.search.val("")},
z4:function(){var b=null,a=this.Bd();a&&(b=!this.ea.$()&&a.length?a[0]:a);return b}}),f=c.Rx(e,{Sc:"ojcombobox",jb:"oj-combobox",pJ:function(){var b=g(document.createElement("div")).attr({"class":"oj-combobox oj-component"}).html("\x3cdiv class\x3d'oj-combobox-choice' tabindex\x3d'-1' role\x3d'presentation'\x3e   \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'       spellcheck\x3d'false' class\x3d'oj-combobox-input' role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e   \x3cabbr class\x3d'oj-combobox-clear-entry' role\x3d'presentation'\x3e\x3c/abbr\x3e   \x3cspan class\x3d'oj-combobox-divider' role\x3d'presentation'\x3e\x3c/span\x3e   \x3ca class\x3d'oj-combobox-arrow oj-combobox-icon oj-component-icon oj-clickable-icon-nocontext oj-combobox-open-icon'       role\x3d'button' aria-label\x3d'expand'\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'presentation'\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e");
if(this.ea.$()){var c=a.J.sl(this.ea.wc).end;c&&(b.find(".oj-combobox-divider").remove(),b.find(".oj-combobox-arrow").remove(),b.find(".oj-combobox-choice").append(c),this.OMa=c)}return b},jV:function(b,a){if(this.ea.$()){var c=this.id(b);if(void 0===c||null===c)c=b.label?b.label:"";if(void 0!==this.ea.tQ(c,null,null)&&this.ea.isValid()){var d={},e=this.ea.wc;d.value=c;d.previousValue=a;c=new CustomEvent("ojValueUpdated",{detail:d});e.dispatchEvent(c)}}},Lp:function(b){f.N.Lp.apply(this,arguments);
this.$D?this.Ma.find(".oj-combobox-arrow").removeClass("oj-disabled"):this.Ma.find(".oj-combobox-arrow").addClass("oj-disabled")},close:function(b){this.Xf()&&f.N.close.apply(this,arguments)},Bu:function(b,a){f.N.Bu.apply(this,arguments);a||this.Gx(!0)},Hp:function(b){c.Rb.$W(b)||c.Rb.cX(b)||f.N.Hp.apply(this,arguments)},qs:function(b){var a,c=[];this.selection.data(this.Sc,b);null!==b&&0!=b.length?(a=this.pa.g$(b),void 0!==a&&this.search.val()!==a&&this.search.val(a),this.search.removeClass(this.jb+
"-default"),c.push(b)):(this.search.val(""),this.fs());this.currentItem=c;this.pa.s0a&&this.Ma.addClass(this.jb+"-allowclear")},tV:function(b){if(void 0===b||null===b)b=(b=this.Bd())?Array.isArray(b)?Array.isArray(b)&&b.length?{label:b[0]}:null:{label:b}:null;this.qs(b)}}),h=c.Rx(e,{Sc:"ojselect",jb:"oj-select",qm:!1,pJ:function(){return g(document.createElement("div")).attr({"class":"oj-select oj-component"}).html("\x3cdiv class\x3d'oj-select-choice' tabindex\x3d'0' role\x3d'combobox'      aria-autocomplete\x3d'none' aria-expanded\x3d'false'\x3e  \x3cspan class\x3d'oj-select-chosen'\x3e\x3c/span\x3e  \x3cabbr class\x3d'oj-select-search-choice-close' role\x3d'presentation'\x3e\x3c/abbr\x3e  \x3ca class\x3d'oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role\x3d'presentation'\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'dialog'\x3e  \x3cdiv class\x3d'oj-listbox-search-wrapper'\x3e  \x3cdiv class\x3d'oj-listbox-search'\x3e    \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'           spellcheck\x3d'false' class\x3d'oj-listbox-input' title\x3d'Search field'            role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e    \x3cspan class\x3d'oj-listbox-spyglass-box'\x3e      \x3cspan class\x3d'oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role\x3d'presentation'\x3e       \x3cb role\x3d'presentation'\x3e\x3c/b\x3e\x3c/span\x3e    \x3c/span\x3e  \x3c/div\x3e  \x3c/div\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e\x3cdiv role\x3d'region' class\x3d'oj-helper-hidden-accessible oj-listbox-liveregion' aria-live\x3d'polite'\x3e\x3c/div\x3e")},
Lp:function(b){h.N.Lp.apply(this,arguments);this.$D?(this.selection.attr("tabindex","0"),this.Ma.find(".oj-select-arrow").removeClass("oj-disabled")):(this.selection.attr("tabindex","-1"),this.Ma.find(".oj-select-arrow").addClass("oj-disabled"))},close:function(b){this.Xf()&&(h.N.close.apply(this,arguments),this.selection.attr("aria-expanded",!1).removeAttr("aria-haspopup").removeAttr("aria-owns"),this.search.attr("aria-expanded",!1).removeAttr("aria-controls"),this.z8(b)||this.Ut(),b instanceof MouseEvent&&
b.target!=this.selection&&b.target!=this.search||c.nh(this,this.selection),this.Ma.find(".oj-listbox-spyglass-box").off("mouseup click"))},Bu:function(b,a){h.N.Bu.apply(this,arguments);var d=c.I$(b);this.l8(d);a||(d?this.Gx():this.Gx(!0))},VU:function(){if(this.Xf()){var b="true"!==this.selection.attr("aria-expanded");h.N.VU.apply(this,arguments);b&&(this.selection.attr("aria-expanded",!0).attr("aria-haspopup","dialog").attr("aria-owns",this.results.attr("id")),this.search.attr("aria-expanded",!0).attr("aria-controls",
this.results.attr("id")+" "+this.Ma.find(".oj-listbox-liveregion").attr("id")))}},oT:function(){var b=this.Xu+"_selected";this.text=this.Ma.find(".oj-select-chosen").attr("id",b);h.N.oT.apply(this,arguments);this.selection.attr({"aria-labelledby":this.search.attr("aria-labelledby"),"aria-describedby":b});(b=this.wb("aria-label"))&&this.selection.attr("aria-label",b);this.search.on("keydown",this.Ze(this.Hp));this.search.on("keyup-change input",this.Ze(this.xKa));this.search.attr("title",this.ea.T("searchField"));
var a=this;this.selection.on("blur",function(b){a.z8(b)})},xn:function(){this.Bpa()?(this.qs(null),this.close(),this.fs()):h.N.xn.apply(this,arguments)},tV:function(b){if(void 0!==b&&null!==b){var c,d=this.Bd();Array.isArray(d)&&!this.ea.$()&&(d=d[0]);c=this.pa.id(b);void 0===c&&(c=null);a.f.Bb(d,c)||this.ea.U7(c);this.qs(b);this.close()}},qs:function(b){this.selection.data(this.Sc,b);null!==b&&this.text.text("string"===typeof b?b:c.OB(b));b&&""!=b.id&&this.text.removeClass(this.jb+"-default");this.pa.s0a&&
this.Ma.addClass(this.jb+"-allowclear")},Np:function(){return this.search.attr("aria-expanded")&&this.$S()?this.search:this.selection},Bpa:function(){if(null===this.nu())return!1;var b=this.Bd(),b=Array.isArray(b)?b[0]:b;return""===b||void 0===b||null===b},nu:function(){return this.pa.placeholder},Ita:function(){return!0},fs:function(){var b=this.nu();this.Bpa()&&void 0!==b&&(void 0===b&&(b=""),this.text.text(b).addClass(this.jb+"-default"),this.Ma.removeClass(this.jb+"-allowclear"))},uC:function(b,
a,c){h.N.uC.call(this,b,a,c);this.selection.data("selectVal",b)},Hp:function(b){if(!(c.Rb.$W(b)&&b.which!=c.Rb.EZ||b.which==c.Rb.EZ||c.Rb.cX(b))){switch(b.which){case c.Rb.TAB:this.close(b);this.selection.focus();this.z8(b);return;case c.Rb.ENTER:if(b.target===this.selection[0]&&!this.Xf()){this.open(b);b.preventDefault();return}}h.N.Hp.apply(this,arguments);if(this.qm)if(this.Xf()){var a=this.ld.find(".oj-listbox-search");"true"===g(a).attr("aria-hidden")&&(a=c.I$(b))&&(this.l8(a),this.Gx())}else this.open(b)}},
z8:function(b){return""==this.text.text()?(this.Yz(b),!0):!1}}),k=c.Rx(b,{Yp:function(){var b=k.N.Yp.apply(this,arguments),d=this,e=b.element.get(0).tagName.toLowerCase();if("input"===e&&b.element.attr("list")||"select"===e&&0<b.element.children().length||b.ea.$()&&!b.options||b.list){var f=b.list?"li":"option";b.ea.$()&&(f="oj-option");b.TB=function(b,g){var h=[];if(d.Bd())for(var k,l=d.Bd(),m=0;m<l.length;m++){var t=l[m];(k=b.find(f).filter(function(){var b;if("li"==f)b=this.getAttribute("oj-data-value");
else if("option"==f||"oj-option"==f)b=this.value;return a.f.Bb(b,t)}))&&k.length?h.push(d.qx(k)):"ojcombobox"===d.Sc&&h.push({value:t,label:t})}else"select"!==e&&(k=b.find(f).filter(function(){if("option"===f)return this.selected;if("li"===f)return!0===this.getAttribute("oj-data-selected");if("oj-option"===f)return!0===this.getAttribute("selected")}),c.ev(k,function(b,a){h.push(d.qx(a))}));g(h)}}else"options"in b&&(b.TB=c.Js(b.options)||g.isFunction(b.options)?function(e,f){function h(){for(var c=
[],e=0;e<l.length;e++){for(var g=l[e],k=!1,r=0;r<m.length;r++){var q=m[r];if(a.f.Bb(g,b.id(q))){c.push(q);m.splice(r,1);k=!0;break}}if(!k){if((r=d.currentItem)&&r.length)for(q=0;q<r.length;q++)if(a.f.Bb(g,b.id(r[q]))){c.push(r[q]);k=!0;break}k||"ojcombobox"!==d.Sc||c.push({value:g,label:g})}}f(c)}function k(a,c){for(var d=[],e=0,f=a.length;e<f;e++){var h=a[e];0<=c.indexOf(b.id(h))&&d.push(h);h.children&&(h=k(h.children,c))&&h.length&&g.merge(d,h)}return d}var l=d.Bd(),m=[],q=c.gxa(d);q&&(m=k(q,l));
d.fca?h():b.pC({value:l,Jc:function(b){b&&b.results&&(b=k(b.results,l))&&b.length&&g.merge(m,b);h()}})}:function(c,e){var f=d.Bd();if(f&&0!==f.length){var h=[];b.pC({Ts:function(c,d,e){(c=g.grep(f,function(c){return a.f.Bb(c,b.id(e))}).length)&&h.push(e);return c},Jc:g.isFunction(e)?function(){for(var c=[],g=0;g<f.length;g++){for(var k=f[g],r=!1,l=0;l<h.length;l++){var m=h[l];if(a.f.Bb(k,b.id(m))){c.push(m);h.splice(l,1);r=!0;break}}r||"ojcombobox"!==d.Sc||c.push({value:k,label:k})}e(c)}:g.noop})}});
return b},jF:function(b){var a=this.Ma.find("."+this.jb+"-selected-choice.oj-focus");a.length&&b&&b[0]==a[0]||(a.length&&this.pa.element.trigger("choice-deselected",a),a.removeClass("oj-focus"),b&&b.length&&("ojcombobox"===this.Sc&&this.close(),b.addClass("oj-focus"),this.Ma.find("."+this.jb+"-description").text(b.attr("valueText")+". Press back space to delete.").attr("aria-live","assertive"),this.pa.element.trigger("choice-selected",b)))},_destroy:function(){g("label[for\x3d'"+this.search.attr("id")+
"']").attr("for",this.pa.element.attr("id"));k.N._destroy.apply(this,arguments)},oT:function(){var b="."+this.jb+"-choices",a,d=c.RG(),e;this.xba=this.Ma.find("."+this.jb+"-search-field");this.selection=a=this.Ma.find(b);var f=this;this.selection.on("click","."+this.jb+"-selected-choice:not(."+this.jb+"-locked)",function(){"ojcombobox"===this.Sc&&f.search[0].focus();f.jF(g(this))});e=g("label[for\x3d'"+this.wb("id")+"']");e.attr("id")||e.attr("id",this.jb+"-label-"+d);this.Cw="ojcombobox"===this.Sc?
this.search:this.selection;a.find("."+this.jb+"-input").attr("id",this.jb+"-input-"+d);this.results.attr("id")||this.results.attr("id","oj-listbox-results-"+d);this.Cw.attr("aria-owns",this.results.attr("id"));this.Cw.attr("aria-labelledby",e.attr("id"));this.pa.element.attr("aria-labelledby",e.attr("id"));this.search.attr("id")&&e.attr("for",this.search.attr("id"));this.wb("aria-label")&&this.Cw.attr("aria-label",this.wb("aria-label"));this.wb("aria-controls")&&this.Cw.attr("aria-controls",this.wb("aria-controls"));
this.hW&&this.Cw.attr("tabindex",this.hW);this.jX=0;"ojselect"===this.Sc&&(this.selection.on("keydown",this.Ze(this.Hp)),this.selection.on("keyup",this.Ze(function(){this.jX=0})));this.search.on("keydown",this.Ze(this.Hp));this.search.on("keyup",this.Ze(function(){this.jX=0}));this.search.on("input",this.Ze(function(b){this.ea.kn(this.search.val(),b)}));this.search.on("blur keyup",this.Ze(function(b){if("keyup"!==b.type||10===b.keyCode||13===b.keyCode){if(this.pa.manageNewEntry&&this.search.val()&&
0>=this.results.find(".oj-hover").length){var a=this.pa.manageNewEntry(this.search.val());this.lL(a,{trigger:"blur"===b.type?c.dD.pca:c.dD.Cca},b)}this.search.removeClass(this.jb+"-focused");this.Ma.removeClass("oj-focus");this.jF(null);this.Xf()||this.Ut();b.stopImmediatePropagation()}}));this.Ma.on("click touchstart",b,this.Ze(function(b){!this.Tr()||0<g(b.target).closest("."+this.jb+"-selected-choice").length||(this.jF(null),this.Xf()?this.close(b):(this.open(b),("ojcombobox"===this.Sc||this.$S())&&
this.iE()),b.preventDefault())}));this.Ma.on("focus",b,this.Ze(function(){}));this.Eoa();this.pa.element.hide().attr("aria-hidden",!0);this.Ma.append(this.pa.element);this.Ut()},Hp:function(b){if(this.Tr()){++this.jX;var a=this.selection.find("."+this.jb+"-selected-choice.oj-focus"),d=a.prev("."+this.jb+"-selected-choice:not(."+this.jb+"-locked)"),e=a.next("."+this.jb+"-selected-choice:not(."+this.jb+"-locked)"),f="ojselect"!==this.Sc||this.qm?c.Owa(this.search):c.Owa(this.selection);if(!a.length||
b.which!=c.Rb.LEFT&&b.which!=c.Rb.RIGHT&&b.which!=c.Rb.IY&&b.which!=c.Rb.DELETE&&b.which!=c.Rb.ENTER)if((b.which!==c.Rb.IY||1!=this.jX)&&b.which!=c.Rb.LEFT||0!=f.offset||f.length){this.jF(null);if(this.Xf()){switch(b.which){case c.Rb.UP:case c.Rb.DOWN:this.kqa(b.which===c.Rb.UP?-1:1);b.preventDefault();return;case c.Rb.ENTER:this.I7(null,b);b.preventDefault();return;case c.Rb.TAB:this.close(b);return;case c.Rb.TY:this.v1(b);b.preventDefault();return}!1!==this.qm||c.Rb.$W(b)||c.Rb.cX(b)||(this.qm=
!0,this.close())}if(!(b.which===c.Rb.TAB||c.Rb.$W(b)||c.Rb.cX(b)||b.which===c.Rb.TY||b.which===c.Rb.ENTER&&this.search.val()&&"ojcombobox"===this.Sc)){switch(b.which){case c.Rb.UP:case c.Rb.DOWN:this.open(b);b.preventDefault();return;case c.Rb.PAGE_UP:case c.Rb.PAGE_DOWN:b.preventDefault();return;case c.Rb.ENTER:b.preventDefault();return}this.qm=!0}}else this.jF(this.selection.find("."+this.jb+"-selected-choice:not(."+this.jb+"-locked)").last()),b.preventDefault();else f=a,b.which==c.Rb.LEFT&&d.length?
f=d:b.which==c.Rb.RIGHT?f=e.length?e:null:b.which===c.Rb.IY?(this.V8(a.first(),b),this.xU(),f=d.length?d:e):b.which==c.Rb.DELETE?(this.V8(a.first(),b),this.xU(),f=e.length?e:null):b.which==c.Rb.ENTER&&(f=null),this.jF(f),b.preventDefault(),f&&f.length||this.open(b)}},ZD:function(){k.N.ZD.apply(this,arguments)&&this.search.prop("disabled",!this.Tr())},xn:function(){null!==this.Bd()&&0!==this.Bd().length||"oj-select"!==this.jb&&""!==this.pa.element.text().trim()||(this.qs([]),this.close(),this.Ut());
if(this.ml||null!==this.Bd()&&this.Bd().length){var b=this;this.pa.TB.call(null,this.ml?this.ml:this.pa.element,function(a){void 0!==a&&null!==a&&0!==a.length&&(b.qs(a),b.close(),b.Ut())})}},close:function(b){this.Xf()&&k.N.close.apply(this,arguments)},nh:function(){this.close();this.search.focus()},qs:function(b){var a=[],c=[],d=this;g(b).each(function(){0>a.indexOf(d.id(this))&&(a.push(d.id(this)),c.push(this))});b=c;this.selection.find("."+this.jb+"-selected-choice").remove();this.selection.find(".oj-select-default").remove();
g(b).each(function(){d.dIa(this)});this.currentItem=b;this.pa.element.val(0===a.length?"":a.join(this.pa.separator));d.sL()},lL:function(b,a,d){if(this.Gua(b)){var e;a&&a.trigger&&(e={Ly:{trigger:a.trigger}});var f=this.id(b),h=this.Bd()?this.Bd().slice(0):[];this.ea.isValid()||(h=c.Hv(this.pa.element.val(),this.pa.separator));g(b).each(function(){0>h.indexOf(f)&&""!==f&&h.push(f)});this.uC(h,d,e);!this.select&&this.pa.H9||this.sL(b,!1,!0===this.pa.H9);this.pa.H9&&(this.close(d),this.xU());a&&a.v5a||
"ojcombobox"!==this.Sc||this.iE()}},v1:function(b){this.close(b);"ojcombobox"===this.Sc&&this.iE()},dIa:function(b){var a=!b.locked,d=g("\x3cli class\x3d'"+this.jb+"-selected-choice'\x3e    \x3cdiv\x3e\x3c/div\x3e    \x3ca href\x3d'#' onclick\x3d'return false;' role\x3d'button' aria-label\x3d'remove' class\x3d'"+this.jb+"-clear-entry       oj-component-icon oj-clickable-icon-nocontext "+this.jb+"-clear-entry-icon' tabindex\x3d'-1'\x3e    \x3c/a\x3e\x3c/li\x3e"),e=g("\x3cli class\x3d'"+this.jb+"-selected-choice "+
this.jb+"-locked'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/li\x3e"),d=a?d:e;this.id(b);e=this.pa.g$(b);void 0!==e&&(d.find("div").addClass(this.jb+"-selected-choice-label").text(e),d.find("."+this.jb+"-clear-entry").attr("aria-label",e+" remove"),d.attr("valueText",e));if(a)d.find("."+this.jb+"-clear-entry").on("mousedown",c.YB).on("click dblclick",this.Ze(function(b){this.Tr()&&(g(b.target).closest("."+this.jb+"-selected-choice").fadeOut("fast",this.Ze(function(){this.V8(g(b.target),b);this.selection.find("."+
this.jb+"-selected-choice.oj-focus").removeClass("oj-focus");this.close(b);"ojcombobox"===this.Sc&&this.iE()})).dequeue(),c.YB(b))}));d.data(this.Sc,b);"ojcombobox"===this.Sc?d.insertBefore(this.xba):this.selection.append(d)},V8:function(b,a){var d=this.Bd()?this.Bd().slice(0):[],e,f;b=b.closest("."+this.jb+"-selected-choice");if(0===b.length)throw"Invalid argument: "+b+". Must be ."+this.jb+"-selected-choice";if(e=b.data(this.Sc)){for(this.ea.isValid()||(d=c.Hv(this.pa.element.val(),this.pa.separator));0<=
(f=d.indexOf(this.id(e)));)d.splice(f,1),this.uC(d,a),this.select&&this.sL();b.remove()}},sL:function(){var b=this.Bd()&&(this.pa.element.val()||this.ea.isValid())?this.Bd():[],a=this.results.find(".oj-listbox-result"),d=this.results.find(".oj-listbox-result-with-children"),e=this;c.ev(a,function(a,c){var d=e.id(c.data(e.Sc));b&&0<=b.indexOf(d)&&(c.addClass("oj-selected"),c.find(".oj-listbox-result-selectable").addClass("oj-selected"))});c.ev(d,function(b,a){a.is(".oj-listbox-result-selectable")||
0!==a.find(".oj-listbox-result-selectable:not(.oj-selected)").length||a.addClass("oj-selected")});0< !a.filter(".oj-listbox-result:not(.oj-selected)").length&&"oj-select"!==this.jb&&this.close()},hpa:function(b){var a=this.Bd();if(!a||0==a.length)return!1;b=b.results;for(var c=0;c<b.length;c++)if(-1==a.indexOf(this.id(b[c])))return!1;return!0},xU:function(){},uC:function(b,a,d){var e;e=[];"string"===typeof b&&(b=c.Hv(b,this.pa.separator));for(var f=0;f<b.length;f++)0>e.indexOf(b[f])&&e.push(b[f]);
b={dv:!1};d&&(b._context=d);this.ea.jc(e,a,b);(this.ea.isValid()||0===e.length)&&this.pa.element.val(0===e.length?"":e.join(this.pa.separator));this.search.attr("aria-activedescendant",this.pa.element.attr("id"))}}),l=c.Rx(k,{Sc:"ojcombobox",jb:"oj-combobox",pJ:function(){return g(document.createElement("div")).attr({"class":"oj-combobox oj-combobox-multi oj-component"}).html("\x3cul class\x3d'oj-combobox-choices'\x3e  \x3cli class\x3d'oj-combobox-search-field'\x3e\x3cspan style\x3d'display:none'\x3e\x26nbsp;\x3c/span\x3e    \x3cinput type\x3d'text' role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off' spellcheck\x3d'false' class\x3d'oj-combobox-input'\x3e  \x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'oj-combobox-description oj-helper-hidden-accessible'/\x3e\x3cdiv class\x3d'oj-listbox-drop oj-listbox-drop-multi' style\x3d'display:none'\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e")},
Bu:function(b,a){this.MXa();l.N.Bu.apply(this,arguments);this.iE();a||this.Gx(!0);this.search.focus()},Ut:function(){var b=this.nu(),a=this.QOa();void 0===b||this.Bd()&&0!==this.Bd().length?(this.search.attr("placeholder",""),this.search.val("").width(10),this.xba.width("auto")):(this.search.attr("placeholder",b),this.search.val("").width(0<a?a:this.Ma.css("width")),this.xba.width("100%"))},xU:function(){this.search.width(10)},QOa:function(){return this.selection.width()-c.Dxa(this.search)},f_a:function(b){var a=
document.createElement("span");b=document.createTextNode(b);a.style.display="none";a.appendChild(b);g("body").append(a);a=g("body").find("span:last").width();g("body").find("span:last").remove();return a},MXa:function(){var b,a,d,e,f=c.Dxa(this.search);b=this.f_a(this.search.val())+10;a=this.search.offset().left;d=this.selection.width();e=this.selection.offset().left;a=d-(a-e)-f;a<b&&(a=d-f);40>a&&(a=d-f);0>=a&&(a=b);this.search.width(Math.floor(a))}}),m=c.Rx(k,{Sc:"ojselect",jb:"oj-select",qm:!1,
pJ:function(){return g(document.createElement("div")).attr({"class":"oj-select oj-select-multi oj-component"}).html("\x3cul class\x3d'oj-select-choices' tabindex\x3d'0' role\x3d'combobox'   aria-autocomplete\x3d'none' aria-expanded\x3d'false'\x3e\x3c/ul\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'dialog'\x3e  \x3cdiv class\x3d'oj-listbox-search-wrapper'\x3e  \x3cdiv class\x3d'oj-listbox-search'\x3e    \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'           spellcheck\x3d'false' class\x3d'oj-listbox-input' title\x3d'Search field'            role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e    \x3cspan class\x3d'oj-listbox-spyglass-box'\x3e      \x3cspan class\x3d'oj-component-icon oj-clickable-icon-nocontext oj-listbox-search-icon' role\x3d'presentation'\x3e       \x3cb role\x3d'presentation'\x3e\x3c/b\x3e\x3c/span\x3e    \x3c/span\x3e  \x3c/div\x3e  \x3c/div\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e\x3cdiv role\x3d'region' class\x3d'oj-helper-hidden-accessible oj-listbox-liveregion' aria-live\x3d'polite'\x3e\x3c/div\x3e")},
Hp:function(b){m.N.Hp.apply(this,arguments);this.qm&&!this.Xf()&&this.open(b)},Bu:function(b,a){m.N.Bu.apply(this,arguments);var d=c.I$(b);this.l8(d);a||(d?this.Gx():this.Gx(!0))},close:function(b){!0===this.qm&&(this.qm=!1);m.N.close.apply(this,arguments);!b||b instanceof MouseEvent&&b.target!=this.selection&&b.target!=this.search||c.nh(this,this.selection)},Ut:function(){var b=this.nu();if(b&&(!this.Bd()||0===this.Bd().length)){var a=g("\x3cli\x3e\x3c/li\x3e");a.addClass("oj-select-default");a.text(b);
this.selection.append(a)}}});a.ib("oj.ojCombobox",g.oj.editableValue,{defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",options:{converter:void 0,filterOnOpen:"none",placeholder:null,options:null,optionsKeys:{label:null,value:null,children:null,childKeys:null},pickerAttributes:null,optionRenderer:null,minLength:0,rawValue:void 0,required:!1,validators:void 0,valueUpdated:null},widget:function(){return this.Ke.Ma},rc:function(){this._super();c.wY(this);this.qb()},Pf:function(){this._super();if(this.$()){var b=
this.wc.id;b&&a.ka.Iba(this.xe()[0],b)}},Gh:function(b,d){this._super(b,d);a.ka.Gs([{Ba:"disabled",mf:!0},{Ba:"placeholder"},{Ba:"required",lk:!0,mf:!0},{Ba:"title"}],d,this);this.multiple=this.$()?"OJ-COMBOBOX-MANY"===this.wc.nodeName?!0:!1:this.options.multiple;if(void 0===this.options.value)this.$()||(this.options.value=void 0!==this.element.attr("value")?c.Hv(this.element.val(),","):null);else{var e=this.options.value;Array.isArray(e)?this.$()||(e=e.slice(0)):"string"===typeof e&&(!0===this.multiple?
e=c.Hv(e,","):this.$()||(e=[e]));this.options.value=e}},aj:function(){return this.options.required},Eg:a.ka.Eg,Zi:a.ka.Zi,wt:a.ka.wt,Iz:a.ka.Iz,Bc:a.ka.Bc,$q:a.ka.$q,qb:function(){var b={};b.element=this.element;b.ea=this;b=g.extend(this.options,b);this.Ke=this.multiple?new l:new f;this.Ke._init(b);this.Ie(this.options.required)},Ie:a.ka.Ie,tz:function(){return!1},_destroy:function(){this.Ke._destroy();this._super()},refresh:function(){this._super();this.Ke._destroy();this.qb();this.gQ()},_setOption:function(b,
a,d){"value"===b&&(Array.isArray(a)?this.$()||(a=a.slice(0)):"string"===typeof a&&(!0===this.multiple?a=c.Hv(a,","):this.$()||(a=[a])),this.Ke.fca=d&&d._context&&d._context.Ly?d._context.Ly.trigger:null);"options"===b&&(c.pba(this),c.Eva(this));this._super(b,a,d);"options"===b&&(c.Js(a)&&(c.wY(this),c.DV(this)),this.Ke.pa.options=a,this.Ke.pa=this.Ke.Yp(this.Ke.pa));"disabled"===b&&(a?this.Ke.t2():this.Ke.Lp())},vt:function(b,a,c){this._superApply(arguments);switch(b){case "required":this.Eg(b);break;
case "validators":this.Zi(b);break;case "converter":this.wt(b)}},Ih:function(){this._superApply(arguments);this.Ke.close()},yp:function(){this._superApply(arguments);this.Ke.close()},Uk:function(){this.Ke.xn()},It:function(b){this.Ke&&(this.Ke.pa.placeholder=b,this.Ke.fs&&this.Ke.fs())},validate:a.ka.validate,aU:function(b){var a;"string"===typeof b&&(!0===this.multiple?b=c.Hv(b,","):this.$()||(b=[b]));if(Array.isArray(b)){a=[];for(var d=0;d<b.length;d++){var e=this._super(b[d]);a.push(e)}}else a=
this._super(b);return a},_GetMessagingLauncherElement:function(){return this.Ke.search},li:function(b,a,c){b=this._GetMessagingLauncherElement();this.mi(a,c,{launcher:b})},xe:function(){return this.Ke.search},_GetDefaultStyleClass:function(){return"oj-combobox"},lo:function(){var b=this.Ke.search.val(),a=null;!0!==this.multiple?a=this.$()?b:void 0===b||null===b||""===b?[]:[b]:(a=[],this.isValid()&&(a=this.Ke.Bd()),void 0!==b&&null!==b&&""!==b&&a.push(b));return this.jc(a,null,this.CI)},ZJ:function(){if(this.Ke&&
this.Ke.Xf())for(var b=g(".oj-listbox-drop"),a=0;a<b.length;a++)if("oj-listbox-drop"==g(b[a]).attr("id")&&g(b[a]).attr("data-oj-containerid")==this.Ke.Xu)return g(b[a]);return null},mh:function(b,a){for(var c=0;c<b.length;c++)if(g(b[c]).data("ojcombobox").value===a)return b[c];return null},getNodeBySubId:function(b){var a=null,c;if(null==b)return this.Ke.Ma?this.Ke.Ma[0]:null;a=this._super(b);if(!a){c=b.subId;"oj-combobox-drop"===c&&(c="oj-listbox-drop");"oj-combobox-results"===c&&(c="oj-listbox-results");
"oj-combobox-selection"===c&&(c="oj-combobox-selected-choice");var d=this.ZJ();switch(c){case "oj-combobox-input":case "oj-combobox-arrow":a=this.widget().find("."+c)[0];break;case "oj-listitem":d&&(a=d.find(".oj-listbox-result"),a=this.mh(a,b.value));break;case "oj-combobox-remove":a=this.widget().find(".oj-combobox-selected-choice");a=(b=this.mh(a,b.value))?g(b).find(".oj-combobox-clear-entry-icon")[0]:null;break;case "oj-listbox-drop":d&&(a=d[0]);break;case "oj-listbox-results":d&&(a=d.find("."+
c)[0]);break;case "oj-combobox-selected-choice":a=this.widget().find("."+c).toArray()}}return a||null},getSubIdByNode:function(b){var a=null;null!=b&&(a=g(b),a=a.hasClass("oj-combobox-input")?{subId:"oj-combobox-input"}:a.hasClass("oj-combobox-arrow")?{subId:"oj-combobox-arrow"}:a.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:a.data("ojcombobox").value}:a.hasClass("oj-combobox-clear-entry-icon")?{subId:"oj-combobox-remove",value:a.closest(".oj-combobox-selected-choice").data("ojcombobox").value}:
this._super(b));return a}});a.ib("oj.ojSelect",g.oj.editableValue,{defaultElement:"\x3cselect\x3e",widgetEventPrefix:"oj",options:{minimumResultsForSearch:15,placeholder:null,optionRenderer:null,options:null,optionsKeys:{label:null,value:null,children:null,childKeys:null},pickerAttributes:null,required:!1,renderMode:"jet"},widget:function(){return this.select?this.select.Ma:this.element.parent()},rc:function(){this._super();c.wY(this);this.qb()},Pf:function(){this._super();if(this.$()){var b=this.uuid+
"_Label";(b=a.ka.cN(g(this.wc),b))&&this.xe().attr("aria-labelledby",b)}},vt:function(b,a,c){this._superApply(arguments);switch(b){case "required":this.Eg(b)}},aj:function(){return this.options.required},Eg:a.ka.Eg,oqa:function(b){b?(this.element.attr("disabled",""),this.element.parent().addClass("oj-disabled").removeClass("oj-enabled")):(this.element.removeAttr("disabled"),this.element.parent().removeClass("oj-disabled").addClass("oj-enabled"))},UUa:function(b){var a=[],c=!this.aj()&&this.Ct();g(b.target).find("option").each(function(){this.selected&&
(this.value||c&&""===this.value)&&a.push(this.value)});this.$()&&!0!==this.multiple?this.jc(a[0],b,{dv:!1,_context:{Sa:!0}}):this.jc(a,b,{dv:!1,_context:{Sa:!0}})},nqa:function(b){if(b){var a=this.element;c.lva(a,b,this.Jw.bind(this),c.Js(this.options.options)?null:this.options.optionsKeys);a.addClass(c.KC)}},pqa:function(b){var a=null;b?a=b:(this.Ct()&&(this.options.required&&(a=this.hL()),this.It(this.options.placeholder)),null===a&&(a=this.hL()));this.U7(a)},mqa:function(b){var a=this;c.pwa(this.element,
b).then(function(d){a.nqa(d);d.length&&((d=a.options.value)?c.eca(a.element,b,d).then(function(b){var c;Array.isArray(b)&&b.length&&(c=a.multiple?b:b[0]);a.pqa(c)}):a.pqa())})},WUa:function(){var b=this.element;b.wrap("\x3cdiv\x3e").parent().addClass("oj-select-native oj-component oj-select oj-form-control");b.addClass("oj-select-select oj-component-initnode");this.multiple?(b[0].multiple||(b[0].multiple=!0),b.parent().prepend("\x3ca class\x3d'oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-multiple-open-icon' role\x3d'presentation'\x3e\x3c/a\x3e")):
b.parent().prepend("\x3ca class\x3d'oj-select-arrow oj-component-icon oj-clickable-icon-nocontext oj-select-open-icon' role\x3d'presentation'\x3e\x3c/a\x3e");this.oqa(this.options.disabled);if(this.options.list)c.$4a(b,g("#"+this.options.list).children(),this.Jw.bind(this)),b.addClass(c.KC);else if(this.options.options){var a=c.Wx(this.options);a?this.mqa(a):this.nqa(this.options.options)}else this.$()&&(a=b.children(),1===a.length&&a.hasClass("oj-listbox-placeholder")||(c.y5a(b,a,this.Jw.bind(this)),
b.addClass(c.KC)));this._focusable({element:b,applyHighlight:!0});a=c.Wx(this.options);this.options.value||this.Ct()||a||this.U7(this.hL());b.change(this.UUa.bind(this));c.DV(this)},$Ta:function(){var b={};b.element=this.element;b.ea=this;b=g.extend(this.options,b);this.select=this.multiple?new m:new h;this.select._init(b);this.select.Ma.addClass("oj-select-jet oj-form-control");this._focusable({element:this.select.selection,applyHighlight:!0})},U7:function(b){b=this.$()?b:Array.isArray(b)?b:[b];
this.jc(b,null,{dv:!1,_context:{Sa:!0,Rc:!0},changed:!0})},qb:function(){this.vu()?this.WUa():this.$Ta();this.Ie(this.options.required)},refresh:function(){this._super();this.Gp();this.qb();this.vu()&&this.options.value&&this.element.val(this.options.value);this.gQ()},Ie:a.ka.Ie,tz:function(){return!1},_destroy:function(){this.Gp();this._super()},Ih:function(){this._superApply(arguments);this.select&&this.select.close()},yp:function(){this._superApply(arguments);this.select&&this.select.close()},
It:function(b){if(this.vu()&&null!=b){var a=g(this.element.children("option:first-child"));a&&""===a.attr("value")?(a.text(this.options.placeholder),a.attr("value","")):(a=c.TV(0,"",b,this.Jw.bind(this)),a.addClass("oj-listbox-placeholder"),this.poa(a,this.aj()),a.prependTo(this.element))}},Ct:function(){return"string"===typeof this.options.placeholder},Iea:function(){this.oga(null);this.It(null)},Gh:function(b,d){this._super(b,d);a.ka.Gs([{Ba:"disabled",mf:!0},{Ba:"placeholder"},{Ba:"required",lk:!0,
mf:!0},{Ba:"title"}],d,this);this.multiple=this.$()?"OJ-SELECT-MANY"===this.wc.nodeName?!0:!1:this.options.multiple;if(void 0===this.options.value)this.$()||(this.options.value=void 0!==this.element.attr("value")?c.Hv(this.element.val(),","):null);else{var e=this.options.value;Array.isArray(e)&&(this.$()||(e=e.slice(0)));this.options.value=e}},validate:a.ka.validate,Uk:function(b){this.select?this.select.xn():null==b?this.Ct()&&(this.element[0].selectedIndex=0,this.element.addClass("oj-select-default")):
this.element.val(b)},lo:function(){if(!0===this.multiple){var b=this.select.search.val(),a=[];this.isValid()&&(a=this.select.Bd());void 0!==b&&null!==b&&""!==b&&a.push(b);return this.jc(a,null,this.CI)}return this.select?this.jc(this.select.Bd(),null,this.CI):!0},hL:function(){var b=this.element.children("option:not(:disabled)");return 0<b.length?[g(b[0]).attr("value")]:null},VUa:function(b){var a=this.options.value,d=this.element;if(d.hasClass(c.KC))c.Dva(d);else{var e=d.children();0<e.length&&e.remove()}c.Js(b)?
this.mqa(b):(c.lva(d,b,this.Jw.bind(this),this.options.optionsKeys),b=null,this.Ct()&&(this.options.required&&(b=this.hL()),this.It()),null===b&&(b=this.hL()),this.options.value=b,this.option("value",a));d.addClass(c.KC)},mXa:function(b){for(var a,c=[],d=0;d<b.length;d++)a=b[d],null!=a&&(0<a.length?(1==c.length&&""===c[0]&&c.pop(),c.push(a)):0==c.length&&c.push(a));return c},_setOption:function(b,a,d){if("value"===b){if(this.Ct()&&(a&&0==a.length||this.$()&&""==a)){this._super(b,a,d);return}var e;
this.select&&(e=this.select.ml,e||(e=this.select.pa.element));var f=this.$()&&!this.multiple;Array.isArray(a)||f||(a=[a]);this.vu()&&(f||(a=this.mXa(a)),1==a.length&&""==a[0]?this.element.addClass("oj-select-default"):this.element.removeClass("oj-select-default"));var h=c.Wx(this.options);if(h&&a){var k=this,l=this._super;this.select.pa.options=h;c.eca(this.vu()?this.element:this.select.Ma,h,a).then(function(a){Array.isArray(a)&&a.length&&l.call(k,b,k.multiple?a:a[0])})}else{if(f)this.select&&this.select.pa.validate&&
!this.select.pa.validate(e,a)&&!this.P5()||this._super(b,a,d);else{for(var f=[],m=0;m<a.length;m++)this.select?(!this.select.pa.validate||this.select.pa.validate(e,a[m])||this.P5())&&f.push(a[m]):0<this.element.find("option[value\x3d'"+a[m]+"']").length&&f.push(a[m]);(0<f.length||this.multiple)&&this._super(b,f,d)}return}}else if("placeholder"===b)if(this.select)this.select.pa.placeholder=a,this.select.fs();else{var n=this.options.value;n&&0!==n.length&&n[0]||(this.element[0].selectedIndex=0)}else"minimumResultsForSearch"===
b?this.select&&(this.select.pa.minimumResultsForSearch=a):"renderMode"===b&&(this.Gp(),this.options.renderMode=a,this.refresh());"options"===b&&(c.pba(this),c.Eva(this));this._super(b,a,d);"disabled"===b?this.select?a?this.select.t2():this.select.Lp():this.oqa(a):"options"===b?(c.Js(a)&&(c.wY(this),c.DV(this)),this.select?(n=this.select.Bd(),(h=c.Wx(this.options))&&n?(k=this,l=this._super,c.eca(this.select.Ma,h,this.options.value).then(function(b){Array.isArray(b)&&b.length?l.call(k,"value",k.multiple?
b:b[0]):k.options.placeholder?k.select.tV(k.options.placeholder):c.pwa(k.select.Ma,h,1).then(function(b){b&&0<b.length&&n===k.select.Bd()?k.select.tV(b[0]):(l.call(k,"value",null),k.multiple||k.select.text.text(""))});k.select.pa.options=a;k.select.pa=k.select.Yp(k.select.pa)})):(this.select.pa.options=a,this.select.pa=this.select.Yp(this.select.pa),this._super("value",n))):this.VUa(a)):"required"===b&&this.vu()&&(d=g(this.element.find(".oj-listbox-placeholder")))&&""===d.attr("value")&&this.poa(d,
a)},P5:function(){var b=this.options.options,a=this.select.ml;if(a){if(0===a.children().length)return!0}else if(c.Js(b)||!b||0===b.length)return!0;return!1},ZJ:function(){if(this.select&&this.select.Xf()){var b=this.select.ld;if(b&&b.attr("data-oj-containerid")===this.select.Xu)return b}return null},poa:function(b,a){a?(b.attr("disabled",""),b.attr("hidden","")):(b.removeAttr("disabled"),b.removeAttr("hidden"))},vu:function(){return"native"===this.options.renderMode},Gp:function(){var b=this.vu();
b&&this.element.parent().hasClass("oj-select-native")?(this.element.off("change"),this.element.hasClass(c.KC)&&c.Dva(this.element),this.element.parent().hasClass("oj-select-native")&&(this.element.parent().children(".oj-select-arrow").remove(),this.element.unwrap()),this.element.removeClass("oj-select-select oj-component-initnode"),this.element.attr({"aria-labelledby":""})):!b&&this.select&&(this.select._destroy(),this.select=void 0)},getNodeBySubId:function(b){var a=null,c;if(null==b)return(b=this.widget())?
b[0]:null;if(this.vu())return null;a=this._super(b);if(!a){var d=this.ZJ();c=b.subId;switch(c){case "oj-select-drop":d&&(a=d[0]);break;case "oj-select-results":d&&(a=d.find(".oj-listbox-results")[0]);break;case "oj-select-search":d&&(a=d.find(".oj-listbox-search")[0]);break;case "oj-select-input":case "oj-listbox-input":d&&(a=d.find(".oj-listbox-input")[0]);break;case "oj-select-choice":case "oj-select-chosen":case "oj-select-arrow":a=this.widget().find("."+c)[0];break;case "oj-listitem":d&&(a=d.find(".oj-listbox-result"),
a=this.select.mh(a,b.value));break;case "oj-select-remove":a=this.widget().find(".oj-select-selected-choice");a=(b=this.select.mh(a,b.value))?g(b).find(".oj-select-clear-entry-icon")[0]:null;break;case "oj-listbox-result-label":d&&(d=g("#"+this.select.results.attr("id")).children(),b=b.index,d.length&&b<d.length&&(a=d.eq(b).find("."+c)[0]))}}return a||null},getSubIdByNode:function(b){if(this.vu())return this._super(b);var a=null;null!=b&&(a=g(b),a=a.hasClass("oj-listbox-input")?{subId:"oj-select-input"}:
a.hasClass("oj-select-arrow")?{subId:"oj-select-arrow"}:a.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:a.data("ojselect").value}:a.hasClass("oj-select-clear-entry-icon")?{subId:"oj-select-remove",value:a.closest(".oj-select-selected-choice").data("ojselect").value}:this._super(b));return a},_GetDefaultStyleClass:function(){return"oj-select"},_GetMessagingLauncherElement:function(){return this.select?this.select.selection:this.element},xe:function(){return this.select?this.select.selection:
this.element}});a.Components.Kq({ojSelect:{displayOptions:{converterHint:["none"]},renderMode:a.Components.Ff(function(){return(a.ic.ad("oj-select-option-defaults")||{}).renderMode})}});var n=c.Rx(f,{Sc:"ojinputsearch",jb:"oj-inputsearch",pJ:function(){var b=g(document.createElement("div")).attr({"class":"oj-inputsearch oj-component"}).html("\x3cdiv class\x3d'oj-inputsearch-choice' tabindex\x3d'-1' role\x3d'presentation'\x3e   \x3cinput type\x3d'text' autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off'       spellcheck\x3d'false' class\x3d'oj-inputsearch-input' role\x3d'combobox' aria-expanded\x3d'false' aria-autocomplete\x3d'list' /\x3e   \x3ca class\x3d'oj-inputsearch-search-button oj-inputsearch-search-icon oj-component-icon oj-clickable-icon-nocontext'       role\x3d'button' aria-label\x3d'search'\x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d'oj-listbox-drop' style\x3d'display:none' role\x3d'presentation'\x3e   \x3cul class\x3d'oj-listbox-results' role\x3d'listbox'\x3e   \x3c/ul\x3e\x3c/div\x3e\x3cdiv role\x3d'region' class\x3d'oj-helper-hidden-accessible oj-listbox-liveregion' aria-live\x3d'polite'\x3e\x3c/div\x3e"),
a=b.find(".oj-inputsearch-search-button");this.OIa(a);return b},OIa:function(b){var a=this;b.on("click",function(b){if(a.Tr()){if(a.pa.manageNewEntry){var d=a.search.val(),e=a.pa.manageNewEntry(d),f={trigger:c.dD.fDa},g=a.selection.data(a.Sc);!g&&""!==d||g&&g.label!==d||!a.ea.isValid()&&d!==a.Yqa?a.lL(e,f,b):g&&g.label===d&&(e=g);a.sM(e,f,b)}return!1}}).on("mousedown",function(b){b.stopPropagation();return!1})},Lp:function(b){n.N.Lp.apply(this,arguments);this.$D?this.Ma.find(".oj-inputsearch-search-button").removeClass("oj-disabled"):
this.Ma.find(".oj-inputsearch-search-button").addClass("oj-disabled")},sM:function(b,a,c){var d;a&&(d=a.trigger);a={_context:{Ly:{trigger:d}}};var e=this.id(b);e&&0!==e.length||(e=b.label?b.label:[]);void 0!==this.ea.tQ(e,c,a)&&this.ea.isValid()&&("string"===typeof e&&(e=[e]),this.ea._trigger("update",c,{value:e,optionMetadata:{trigger:d}}))},Yp:function(b){b=n.N.Yp.apply(this,arguments);b.pya=function(){return!0};return b}});a.ib("oj.ojInputSearch",g.oj.editableValue,{defaultElement:"\x3cinput\x3e",
widgetEventPrefix:"oj",options:{placeholder:void 0,required:!1,list:void 0,options:null,optionsKeys:null,pickerAttributes:null,optionRenderer:null,minLength:0,beforeExpand:null,rawValue:void 0,optionChange:null,update:null,validators:void 0},widget:function(){return this.Pd.Ma},rc:function(){this._super();this.qb()},Gh:function(b,d){this._super(b,d);a.ka.Gs([{Ba:"disabled",mf:!0},{Ba:"placeholder"},{Ba:"required",lk:!0,mf:!0},{Ba:"title"}],d,this);if(void 0===this.options.value)this.options.value=
void 0!==this.element.attr("value")?c.Hv(this.element.val(),","):null;else{var e=this.options.value;Array.isArray(e)?e=e.slice(0):"string"===typeof e&&(e=[e]);this.options.value=e}},vt:function(b,a,c){this._superApply(arguments);switch(b){case "required":this.Eg(b);break;case "validators":this.Zi(b)}},aj:function(){return this.options.required},Eg:a.ka.Eg,Zi:a.ka.Zi,Ie:a.ka.Ie,$q:a.ka.$q,tz:function(){return!1},qb:function(){var b={};b.element=this.element;b.ea=this;b.Pd=!0;b=g.extend(this.options,
b);this.Pd=new n;this.Pd._init(b);this.Ie(this.options.required)},_destroy:function(){this.Pd._destroy();this._super()},refresh:function(){this._super();this.Pd._destroy();this.qb();this.gQ()},_setOption:function(b,c,d){"value"===b&&(null!=c&&(Array.isArray(c)?c=c.slice(0):"string"===typeof c?c=[c]:a.D.error("ojInputSearch value has to be an array of string or a string.")),this.Pd.fca=d&&d._context&&d._context.Ly?d._context.Ly.trigger:null);this._super(b,c,d);"options"===b&&(this.Pd.pa.options=c,
this.Pd.pa=this.Pd.Yp(this.Pd.pa));"disabled"===b&&(c?this.Pd.t2():this.Pd.Lp())},Ih:function(){this._superApply(arguments);this.Pd.close()},yp:function(){this._superApply(arguments);this.Pd.close()},Uk:function(){this.Pd.xn()},It:function(b){this.Pd&&(this.Pd.pa.placeholder=b,this.Pd.fs&&this.Pd.fs())},validate:function(){var b=this.Pd.search.val(),a=null,a=[];this.isValid()&&(a=this.Pd.Bd());a=void 0===b||null===b||""===b?a:[b];return this.jc(a,null,this.CI)},aU:function(b){var c=[];if(null==b)return c;
if(Array.isArray(b))for(var d=0;d<b.length;d++){var e=this._super(b[d]);c.push(e.toString())}else"string"===typeof b?(e=this._super(b),c.push(e.toString())):a.D.error("ojInputSearch value has to be an array of string or a string.");return c},_GetMessagingLauncherElement:function(){return this.Pd.search},xe:function(){return this.Pd.search},_GetDefaultStyleClass:function(){return"oj-inputsearch"},ZJ:function(){if(this.Pd&&this.Pd.Xf())for(var b=g(".oj-listbox-drop"),a=0;a<b.length;a++)if("oj-listbox-drop"==
g(b[a]).attr("id")&&g(b[a]).attr("data-oj-containerid")==this.Pd.Xu)return g(b[a]);return null},expand:function(){this.Pd.open()},collapse:function(){this.Pd.close()},getNodeBySubId:function(b){var a=null,c;if(null===b)return this.Pd.Ma?this.Pd.Ma[0]:null;a=this._super(b);if(!a)switch(c=b.subId,"oj-inputsearch-search"===c&&(c="oj-inputsearch-search-button"),c){case "oj-inputsearch-input":case "oj-inputsearch-search-button":a=this.widget().find("."+c)[0];break;case "oj-listitem":if(c=this.ZJ())a=c.find(".oj-listbox-result"),
a=this.Pd.mh(a,b.value)}return a||null},getSubIdByNode:function(b){var a=null;null!=b&&(a=g(b),a=a.hasClass("oj-inputsearch-input")?{subId:"oj-inputsearch-input"}:a.hasClass("oj-inputsearch-search-button")?{subId:"oj-inputsearch-search"}:a.hasClass("oj-listbox-result")?{subId:"oj-listitem",value:a.data("ojinputsearch").value}:this._super(b));return a}});a.J.Ua("oj-combobox-one","editableValue",{properties:{converter:{type:"Object"},filterOnOpen:{type:"string",enumValues:["none","rawValue"]},minLength:{type:"number"},
optionRenderer:{},options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},required:{type:"boolean"},value:{type:"any",writeback:!0},validators:{type:"Array"}},events:{valueUpdated:{}},methods:{validate:{}},extension:{Kj:"input",
Ya:"ojCombobox"}});a.J.register("oj-combobox-one",{metadata:a.J.getMetadata("oj-combobox-one")});a.J.Ua("oj-combobox-many","editableValue",{properties:{converter:{type:"Object"},minLength:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},
rawValue:{type:"string",readOnly:!0,writeback:!0},required:{type:"boolean"},value:{type:"Array",writeback:!0},validators:{type:"Array"}},methods:{validate:{}},extension:{Kj:"input",Ya:"ojCombobox"}});a.J.register("oj-combobox-many",{metadata:a.J.getMetadata("oj-combobox-many")});a.J.Ua("oj-select-one","editableValue",{properties:{minimumResultsForSearch:{type:"number"},optionRenderer:{},options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},
childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},renderMode:{type:"string"},required:{type:"boolean"},value:{type:"any",writeback:!0}},methods:{validate:{}},extension:{Kj:"select",Ya:"ojSelect"}});a.J.register("oj-select-one",{metadata:a.J.getMetadata("oj-select-one")});a.J.Ua("oj-select-many","editableValue",{properties:{minimumResultsForSearch:{type:"number"},optionRenderer:{},
options:{},optionsKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"},childKeys:{type:"Object",properties:{label:{type:"string"},value:{type:"string"},children:{type:"string"}}}}},pickerAttributes:{type:"Object"},placeholder:{type:"string"},renderMode:{type:"string"},required:{type:"boolean"},value:{type:"Array",writeback:!0}},methods:{validate:{}},extension:{Kj:"select",Ya:"ojSelect"}});a.J.register("oj-select-many",{metadata:a.J.getMetadata("oj-select-many")})});