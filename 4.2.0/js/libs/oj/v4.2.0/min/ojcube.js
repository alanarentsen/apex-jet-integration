/**
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(a,g){a.hc=function(a,b){this.Init();this.Pa=a;this.og=b;this.AC()};o_("Cube",a.hc,a);a.f.ua(a.hc,a.f,"oj.Cube");a.hc.prototype.Init=function(){a.hc.N.Init.call(this)};a.hc.prototype.hv=function(){var a=this.Nma(),b=[];Array.prototype.push.apply(b,a?a.hv():this.Wk);for(a=2;a<this.Wk.length;a++)b.push(this.Wk[a]);return b};a.f.j("Cube.prototype.getAxes",{hv:a.hc.prototype.hv});a.hc.prototype.lv=function(a){var b=this.Nma();
a=b.jVa(a);for(a=b=b.bva(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};a.f.j("Cube.prototype.getValues",{lv:a.hc.prototype.lv});a.hc.prototype.setPage=function(a){this.K6=a instanceof Array?a:[a]};a.f.j("Cube.prototype.setPage",{setPage:a.hc.prototype.setPage});a.hc.prototype.dAa=function(c,b,d,e,f){var g=this.og,k=this.Tka(c);if(!k)return!1;c=null;d<g.length?c=this.Tka(d):(c={axis:d,levels:[]},g.push(c));d=k.levels;g=c.levels;c=b<d.length?d[b]:null;if(!c)return!1;
e>=g.length?(g.push(c),d.splice(b,1)):f===a.hc.BZ.SWAP?(d[b]=g[e],g[e]=c):(f===a.hc.BZ.AFTER&&e++,g.splice(e,0,c),g===d&&e<b&&b++,d.splice(b,1));this.AC();return!0};a.f.j("Cube.prototype.pivot",{dAa:a.hc.prototype.dAa});a.hc.prototype.Tka=function(a){for(var b=0;b<this.og.length;b++)if(this.og[b].axis===a)return this.og[b];return null};a.hc.prototype.wW=function(){return this.og};a.f.j("Cube.prototype.getLayout",{wW:a.hc.prototype.wW});a.hc.BZ={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",
a.hc.BZ,a);a.hc.prototype.bva=function(a,b,d){var e=[];if(0===a.length)return b=d.slice(0),this.qu(b);var f=a.slice(1),g=a[0].start;a=a[0].count;for(d[b]=g;d[b]<g+a;d[b]++)e.push(this.bva(f,b+1,d));return e};a.hc.prototype.jVa=function(a){var b=[];if(!a)return b;for(var d=Math.min(a.length,this.Wk.length),e=0;e<d;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.TR(f.start,f.count,e)):b.push(this.TR(f.start,
1,e)):b.push(this.TR(0,f.count,e)):b.push(this.TR(f,1,e))}return b};a.hc.prototype.TR=function(a,b,d){d=this.hv()[d].getExtent();if(a>=d||0>a)a=0;b=Math.min(b,d-a);return{start:a,index:a,count:b}};a.hc.prototype.qu=function(c){var b=this.NKa(c);return b&&(b=b.ez(),0<b.length&&(b=this.p[b[0].key]))?new a.Hk(b.value,c,b.FV,b.rows,b.Ry):new a.Hk(null,c,void 0,[])};a.hc.prototype.hCa=function(){var a=this.fPa();this.K6=[];for(var b=0;b<a.length;b++)this.gu(a[b].axis,a[b].levels),this.K6.push({axis:a[b].axis,
index:0});if(0===a.length)for(a=this.Hma(),b=0;b<a.length;b++)this.gu(a[b].axis,a[b].levels)};a.hc.prototype.fPa=function(){for(var a=[],b=0;b<this.og.length;b++)1<this.og[b].axis&&a.push(this.og[b]);return a};a.hc.prototype.Hma=function(){for(var a=[],b=0;b<this.og.length;b++)2>this.og[b].axis&&a.push(this.og[b]);return a};a.hc.prototype.AC=function(){this.Wk=[];this.p=[];this.h2=[];this.hCa();if(null!==this.Pa)for(var c=0;c<this.Pa.length;c++){for(var b=new a.hp,d=2;d<this.Wk.length;d++)b=this.Wk[d].zda(this.Pa[c],
b);for(var b=b.ez(),e=0;e<b.length;e++){var d=b[e].key,f=this.h2[d];f||(f=this.h2[d]=this.ZY(this.Hma()));for(var g=new a.hp,k=f.Wk.length,d=0;d<k;d++)g=f.Wk[d].zda(this.Pa[c],g);g=d=g.ez();if(void 0!==b[e].bwa)for(g=[],k=0;k<d.length;k++)g.push(b[e]);f.SZa(d,g,this.Pa[c])}}};a.hc.prototype.SZa=function(a,b,d){for(var e=0;e<a.length;e++)this.p[a[e].key]=this.tIa(b[e],this.p[a[e].key],d)};a.hc.prototype.Nma=function(){return this.h2[this.AOa(this.K6)]};a.hc.prototype.AOa=function(c){var b=new a.hp;
if(c&&0<c.length){c.sort(function(b,a){return b.axis-a.axis});for(var d=this.Wk,e=0;e<c.length;e++)b=d[c[e].axis].KO(c[e].index,b)}return b.ez()[0].key};a.hc.Jpa=function(a){return a?void 0!==a.value&&null!==a.value:!1};a.hc.prototype.$e=function(a,b,d,e,f){d.push(e);e={};for(var g in f)f.hasOwnProperty(g)&&(e[g]=f[g]);e.value=a;e.FV=b;e.rows=d;return e};a.hc.yi=function(c){return a.ab.Gd(c.value)?!1:!isNaN(c.value)};a.hc.prototype.tIa=function(c,b,d){var e=this.aZ(c.bwa),f=e.OF,g=a.hc.Jpa(b),k=a.hc.Jpa(c),
l=g&&a.hc.yi(b),m=k&&a.hc.yi(c);switch(f){case a.Gk.SUM:return g&&k?l&&m?this.$e(b.value+c.value,f,b.rows,d,{}):this.$e(NaN,f,b.rows,d,{}):k&&!g?m?this.$e(c.value,f,[],d,{}):this.$e(NaN,f,[],d,{}):b;case a.Gk.AVERAGE:return g&&k?l&&m?this.$e((b.gH+c.value)/(b.rows.length+1),f,b.rows,d,{gH:b.gH+c.value}):this.$e(NaN,f,b.rows,d,{gH:b.gH}):k&&!g?m?this.$e(c.value,f,[],d,{gH:c.value}):this.$e(NaN,f,[],d,{gH:NaN}):b;case a.Gk.VARIANCE:case a.Gk.STDDEV:return g&&k?l&&m?(g=b.value+(c.value-b.value)/(b.rows.length+
1),this.$e(g,f,b.rows,d,{Ry:b.Ry+(c.value-b.value)*(c.value-g)})):this.$e(NaN,f,b.rows,d,{Ry:NaN}):k&&!g?m?this.$e(c.value,f,[],d,{Ry:0}):this.$e(NaN,f,[],d,{Ry:NaN}):b;case a.Gk.NONE:return this.$e(null,f,g?b.rows:[],d,{});case a.Gk.FIRST:return g?this.$e(b.value,f,b.rows,d,{}):k?this.$e(c.value,f,[],d,{}):b;case a.Gk.MIN:return g&&k?l&&m?this.$e(Math.min(b.value,c.value),f,b.rows,d,{}):this.$e(NaN,f,b.rows,d,{}):k&&!g?m?this.$e(c.value,f,[],d,{}):this.$e(NaN,f,[],d,{}):b;case a.Gk.MAX:return g&&
k?l&&m?this.$e(Math.max(b.value,c.value),f,b.rows,d,{}):this.$e(NaN,f,b.rows,d,{}):k&&!g?m?this.$e(c.value,f,[],d,{}):this.$e(NaN,f,[],d,{}):b;case a.Gk.COUNT:return g&&k?this.$e(b.value+1,f,b.rows,d,{}):k&&!g?this.$e(1,f,[],d,{}):b;case a.Gk.CUSTOM:return c=e.Jc.call(this,g?b.value:void 0,k?c.value:void 0),this.$e(c,f,g?b.rows:[],d,{})}};a.hc.prototype.gu=function(c,b){c>=this.Wk.length&&Array.prototype.push.apply(this.Wk,Array(c-this.Wk.length+1));this.Wk[c]||(this.Wk[c]=new a.Bj(b,c,this));return this.Wk[c]};
a.hc.prototype.NKa=function(c){for(var b=this.hv(),d=new a.hp,e=0;e<c.length;e++)d=b[e].KO(c[e],d);return d};a.hc.prototype.WC=function(){a.C.gf()};a.hc.prototype.ZY=function(){a.C.gf()};a.hc.prototype.$Y=function(){a.C.gf()};a.hc.prototype.aZ=function(){a.C.gf();return{}};a.Gk={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",a.Gk,a);a.ce=function(a,b,d,e){this.Init();this.Ig=[];this.mc=e;this.FLa=
d;this.p={};this.p.value=a;this.p.label=b};o_("CubeAxisValue",a.ce,a);a.f.ua(a.ce,a.f,"oj.CubeAxisValue");a.ce.prototype.Init=function(){a.ce.N.Init.call(this)};a.ce.prototype.PB=function(){return this.FLa};a.f.j("CubeAxisValue.prototype.getLevel",{PB:a.ce.prototype.PB});a.ce.prototype.getDepth=function(){return 1};a.f.j("CubeAxisValue.prototype.getDepth",{getDepth:a.ce.prototype.getDepth});a.ce.prototype.rxa=function(){for(var a=[],b=this.mc;b&&b.mc;)a.unshift(b),b=b.mc;return a};a.f.j("CubeAxisValue.prototype.getParents",
{rxa:a.ce.prototype.rxa});a.ce.prototype.getChildren=function(){return this.Ig};a.f.j("CubeAxisValue.prototype.getChildren",{getChildren:a.ce.prototype.getChildren});a.ce.prototype.getExtent=function(){if(-1<this.gE)return this.gE;if(this.Ig&&0!==this.Ig.length)for(var a=this.gE=0;a<this.getChildren().length;a++)this.gE+=this.getChildren()[a].getExtent();else this.gE=1;return this.gE};a.f.j("CubeAxisValue.prototype.getExtent",{getExtent:a.ce.prototype.getExtent});a.ce.prototype.getStart=function(){if(-1<
this.lm)return this.lm;if(!this.mc)return 0;for(var a=this.mc.getStart(),b=this.mc.Rma(this);b;)a+=b.getExtent(),b=this.mc.Rma(b);return this.lm=a};a.f.j("CubeAxisValue.prototype.getStart",{getStart:a.ce.prototype.getStart});a.ce.prototype.vg=function(){return this.p.value};a.f.j("CubeAxisValue.prototype.getValue",{vg:a.ce.prototype.vg});a.ce.prototype.OB=function(){return this.p.label?this.p.label:this.vg()};a.f.j("CubeAxisValue.prototype.getLabel",{OB:a.ce.prototype.OB});a.ce.prototype.iCa=function(a){var b=
this.UNa();if(null===b)return null;if(b.xG())return this.hOa(a);if(a=a[b.attribute])for(b=0;b<this.Ig.length;b++)if(this.Ig[b].vg()===a)return this.Ig[b];return null};a.ce.prototype.hOa=function(a){for(var b=0;b<this.Ig.length;b++){var d=this.Ig[b].vg();if(a.hasOwnProperty(d)&&a[d]===d)return this.Ig[b]}return null};a.ce.prototype.UNa=function(){return this.Ig&&0<this.Ig.length?this.Ig[0].PB():null};a.ce.prototype.jCa=function(a){return this.R2(a,0,this.Ig.length-1)};a.ce.prototype.R2=function(a,
b,d){if(b>d)return null;var e=Math.floor((b+d)/2),f=this.Ig[e],g=f.getStart();return g>a?this.R2(a,b,e-1):g+f.getExtent()-1<a?this.R2(a,e+1,d):f};a.ce.prototype.CY=function(c,b,d){for(var e=0;e<this.Ig.length;e++)if(this.Ig[e].vg()===c)return this.Ig[e];c=new a.ce(c,b,d,this);this.Ig.push(c);return c};a.ce.prototype.kCa=function(){var a={};a[this.PB().attribute]=this.vg();return a};a.ce.prototype.Rma=function(a){for(var b=0;b<this.Ig.length;b++)if(this.Ig[b]===a){if(0<b)return this.Ig[b-1];break}return null};
a.Bj=function(c,b,d){this.Init();this.axis=b;this.Rpa=[];for(b=0;b<c.length;b++)this.Rpa.push(d.$Y(c[b],this));this.tJ=d;this.rg=new a.ce(null,null,null,null)};o_("CubeAxis",a.Bj,a);a.f.ua(a.Bj,a.f,"oj.CubeAxis");a.Bj.prototype.Init=function(){a.Bj.N.Init.call(this)};a.Bj.prototype.Cs=function(){return this.Rpa};a.f.j("CubeAxis.prototype.getLevels",{Cs:a.Bj.prototype.Cs});a.Bj.prototype.getExtent=function(){return this.rg.getExtent()};a.f.j("CubeAxis.prototype.getExtent",{getExtent:a.Bj.prototype.getExtent});
a.Bj.prototype.lv=function(a){for(var b=[],d=this.rg;d;)(d=d.jCa(a))&&b.push(d);return b};a.f.j("CubeAxis.prototype.getValues",{lv:a.Bj.prototype.lv});a.Bj.prototype.Kn=function(a){a=a?JSON.parse(a):{};for(var b=this.rg,d=null;b;)d=b,b=b.iCa(a);return d?d.getStart():-1};a.f.j("CubeAxis.prototype.getIndex",{Kn:a.Bj.prototype.Kn});a.Bj.prototype.KO=function(a,b){return this.Wca(a,this.Cs().length-1,b)};a.Bj.prototype.Wca=function(a,b,d){a=this.lv(a);b=this.Cs()[b];for(var e=0;e<a.length;e++){var f=
a[e];f.PB().xG()?d.BY(f.vg()):d.OZ(f);if(f.PB()===b)break}return d};a.Bj.prototype.zda=function(a,b){return this.tJ.WC(this,0,this.rg,a,b,!0)};a.Hk=function(a,b,d,e,f){this.Init();this.p={};this.p.value=a;this.p.v4a=b;this.p.FV=d;this.p.rows=e;this.p.Ry=f};o_("CubeDataValue",a.Hk,a);a.f.ua(a.Hk,a.f,"oj.CubeDataValue");a.Hk.prototype.Init=function(){a.Hk.N.Init.call(this)};a.Hk.prototype.vg=function(){switch(this.p.FV){case a.Gk.STDDEV:return Math.sqrt(this.zna());case a.Gk.VARIANCE:return this.zna();
default:return this.p.value}};a.f.j("CubeDataValue.prototype.getValue",{vg:a.Hk.prototype.vg});a.Hk.prototype.cxa=function(){return this.p.v4a};a.f.j("CubeDataValue.prototype.getIndices",{cxa:a.Hk.prototype.cxa});a.Hk.prototype.xxa=function(){return this.p.rows};a.f.j("CubeDataValue.prototype.getRows",{xxa:a.Hk.prototype.xxa});a.Hk.prototype.Cwa=function(){return this.p.FV};a.f.j("CubeDataValue.prototype.getAggregation",{Cwa:a.Hk.prototype.Cwa});a.Hk.prototype.zna=function(){if(isNaN(this.p.Ry))return NaN;
var a=this.p.rows.length;return 1<a?this.p.Ry/(a-1):0};a.Mm=function(c,b){var d=b.row?b.row.start:0,e=b.row?b.row.count:0,f=b.column?b.column.start:0,g=b.column?b.column.count:0;a.C.Uu(d,null);a.C.Uu(e,null);a.C.Uu(f,null);a.C.Uu(g,null);this.tJ=c;this.u8={row:d,column:f};this.rg=this.tJ.lv([{start:f,count:g},{start:d,count:e}]);g=(d=Array.isArray(this.rg))?this.rg.length:1;0<g&&(e=d?this.rg[0].length:1);this.IKa={row:e,column:g}};o_("CubeCellSet",a.Mm,a);a.Mm.prototype.getData=function(a){var b=
a.row;a=a.column;return(b=Array.isArray(this.rg)?this.rg[a-this.u8.column][b-this.u8.row]:this.rg)?b.vg():null};a.f.j("CubeCellSet.prototype.getData",{getData:a.Mm.prototype.getData});a.Mm.prototype.getMetadata=function(a){var b={keys:{}};b.keys.row=this.lla(a,"row",2);b.keys.column=this.lla(a,"column",1);return b};a.f.j("CubeCellSet.prototype.getMetadata",{getMetadata:a.Mm.prototype.getMetadata});a.Mm.prototype.lla=function(c,b,d){var e=this.tJ.hv();return void 0!==c[b]&&e.length>=d?(d=new a.hp,
d=e[a.vd.eja(b)].KO(c[b],d),d.ez()[0].key):null};a.Mm.prototype.getStart=function(a){return this.u8[a]};a.f.j("CubeCellSet.prototype.getStart",{getStart:a.Mm.prototype.getStart});a.Mm.prototype.getCount=function(a){return this.IKa[a]};a.f.j("CubeCellSet.prototype.getCount",{getCount:a.Mm.prototype.getCount});a.Mm.prototype.getExtent=function(){return{row:{extent:1,more:{before:!1,after:!1}},column:{extent:1,more:{before:!1,after:!1}}}};a.f.j("CubeCellSet.prototype.getExtent",{getExtent:a.Mm.prototype.getExtent});
a.Kk=function(c,b,d){this.Init();this.Ew=d;this.h1();a.Kk.N.constructor.call(this,c,b)};o_("DataValueAttributeCube",a.Kk,a);a.f.ua(a.Kk,a.hc,"oj.DataValueAttributeCube");a.Kk.prototype.Pa=null;a.Kk.prototype.Init=function(){a.Kk.N.Init.call(this)};a.Kk.prototype.AC=function(){a.Kk.N.AC.call(this)};a.Kk.prototype.aZ=function(a){return this.TD[a]};a.Kk.prototype.$Y=function(c,b){return c.dataValue?new a.El(null,b,!0):new a.El(c.attribute,b,!1)};a.Kk.prototype.ZY=function(c){return new a.Kk(null,c,this.Ew)};
a.Kk.prototype.WC=function(a,b,d,e,f,g){if(b>=a.Cs().length)return f;var k=a.Cs()[b];if(k.xG())return this.VVa(a,d,e,b,f);d=d.CY(e[k.attribute],null,k);g&&f.OZ(d);return this.WC(a,b+1,d,e,f,g)};a.Kk.prototype.VVa=function(a,b,d,e,f){for(var g=!0,k=0;k<this.Ew.length;k++){var l=this.Ew[k].attribute,m=this.Ew[k].label;d.hasOwnProperty(l)&&(m=b.CY(l,m,a.Cs()[e]),f.BY(l,d[l]),this.WC(a,e+1,m,d,f,g),g=!1)}return f};a.Kk.prototype.h1=function(){this.TD=[];for(var c=0;c<this.Ew.length;c++){var b=this.Ew[c];
this.TD[b.attribute]=b.aggregation?{OF:b.aggregation,Jc:b.callback}:{OF:a.Gk.SUM,Jc:b.callback}}};a.hp=function(){this.X5=[];this.p=[]};a.hp.prototype.OZ=function(a){this.X5.push(a)};a.hp.prototype.BY=function(a,b){this.p.push({name:a,value:b})};a.hp.prototype.ez=function(){var a=[],b=this.eJa();if(0===this.p.length)a.push({key:JSON.stringify(b)});else for(var d=0;d<this.p.length;d++){var e=g.extend(!0,{},b);e[this.p[d].name]=this.p[d].name;a.push({key:JSON.stringify(e),bwa:this.p[d].name,value:this.p[d].value})}return a};
a.hp.prototype.eJa=function(){for(var a={},b=0;b<this.X5.length;b++){var d=this.X5[b].kCa(),e;for(e in d)d.hasOwnProperty(e)&&(a[e]=d[e])}return a};a.Oi=function(a,b,d,e){this.tJ=b;this.YI=a;this.lm=void 0===d?0:d;this.GKa=void 0===e?this.YI.getExtent():Math.min(e,this.YI.getExtent()-d);this.yka=d+e-1};o_("CubeHeaderSet",a.Oi,a);a.Oi.prototype.getData=function(a,b){var d=this.qu(a,b);return d?d.OB():null};a.f.j("CubeHeaderSet.prototype.getData",{getData:a.Oi.prototype.getData});a.Oi.prototype.getMetadata=
function(c,b){var d=new a.hp,d=this.YI.Wca(c,b,d);return(d=d.ez())&&0<d.length?{key:d[0].key}:null};a.f.j("CubeHeaderSet.prototype.getMetadata",{getMetadata:a.Oi.prototype.getMetadata});a.Oi.prototype.getLevelCount=function(){return this.YI.Cs().length};a.f.j("CubeHeaderSet.prototype.getLevelCount",{getLevelCount:a.Oi.prototype.getLevelCount});a.Oi.prototype.getExtent=function(a,b){var d=this.qu(a,b),e=d.getExtent(),d=d.getStart(),f=d+e-1,g=a<d+e-1;d<this.lm&&(e-=this.lm-d);f>this.yka&&(e-=f-this.yka);
return{extent:e,more:{before:a>d,after:g}}};a.f.j("CubeHeaderSet.prototype.getExtent",{getExtent:a.Oi.prototype.getExtent});a.Oi.prototype.getDepth=function(a,b){return this.qu(a,b).getDepth()};a.f.j("CubeHeaderSet.prototype.getDepth",{getDepth:a.Oi.prototype.getDepth});a.Oi.prototype.getCount=function(){return this.GKa};a.f.j("CubeHeaderSet.prototype.getCount",{getCount:a.Oi.prototype.getCount});a.Oi.prototype.getStart=function(){return this.lm};a.f.j("CubeHeaderSet.prototype.getStart",{getStart:a.Oi.prototype.getStart});
a.Oi.prototype.qu=function(a,b){void 0===b&&(b=0);var d=this.YI.lv(a);return d&&d.length>b?d[b]:null};a.vd=function(c){a.vd.N.constructor.call(this,c)};o_("CubeDataGridDataSource",a.vd,a);a.f.ua(a.vd,a.Rv,"oj.CubeDataGridDataSource");a.vd.prototype.RAa=function(a){this.data=a;this.Zka()};a.f.j("CubeDataGridDataSource.prototype.setCube",{RAa:a.vd.prototype.RAa});a.vd.prototype.setPage=function(a){this.data.setPage(a);this.Zka()};a.f.j("CubeDataGridDataSource.prototype.setPage",{setPage:a.vd.prototype.setPage});
a.vd.prototype.Zka=function(){this.handleEvent("change",{source:this,operation:"refresh"})};a.vd.prototype.getCount=function(a){return(a=this.gu(a))?a.getExtent():0};a.f.j("CubeDataGridDataSource.prototype.getCount",{getCount:a.vd.prototype.getCount});a.vd.prototype.getCountPrecision=function(){return"exact"};a.f.j("CubeDataGridDataSource.prototype.getCountPrecision",{getCountPrecision:a.vd.prototype.getCountPrecision});a.vd.prototype.fetchHeaders=function(c,b,d){var e=new a.Oi(this.gu(c.axis),this.data,
c.start,c.count);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchHeaders",{fetchHeaders:a.vd.prototype.fetchHeaders});a.vd.prototype.fetchCells=function(c,b,d){for(var e={},f=0;f<c.length;f++){var g=void 0===c[f].start?0:c[f].start;if("row"===c[f].axis){var k=void 0===c[f].count?this.data.hv()[1].getExtent():c[f].count;e.row={start:g,count:k}}"column"===c[f].axis&&(k=void 0===c[f].count?this.data.hv()[0].getExtent():c[f].count,e.column={start:g,count:k})}e=new a.Mm(this.data,
e);b.success.call(d?d.success:void 0,e,c)};a.f.j("CubeDataGridDataSource.prototype.fetchCells",{fetchCells:a.vd.prototype.fetchCells});a.vd.prototype.keys=function(a){var b={},b=this.nb(a,"row",b),b=this.nb(a,"column",b);return Promise.resolve(b)};a.f.j("CubeDataGridDataSource.prototype.keys",{keys:a.vd.prototype.keys});a.vd.prototype.nb=function(c,b,d){var e=this.gu(b);c=c[b];var f=new a.hp,f=e?e.KO(c,f):"";d[b]=f.ez()[0].key;return d};a.vd.prototype.indexes=function(a){var b={},b=this.Ad(a,"row",
b),b=this.Ad(a,"column",b);return Promise.resolve(b)};a.f.j("CubeDataGridDataSource.prototype.indexes",{indexes:a.vd.prototype.indexes});a.vd.prototype.Ad=function(a,b,d){d[b]=this.gu(b).Kn(a[b]);return d};a.vd.prototype.sort=function(){a.C.gf()};a.f.j("CubeDataGridDataSource.prototype.sort",{sort:a.vd.prototype.sort});a.vd.prototype.move=function(){a.C.gf()};a.f.j("CubeDataGridDataSource.prototype.move",{move:a.vd.prototype.move});a.vd.prototype.moveOK=function(){return"invalid"};a.f.j("CubeDataGridDataSource.prototype.moveOK",
{moveOK:a.vd.prototype.moveOK});a.vd.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};a.f.j("CubeDataGridDataSource.prototype.getCapability",{getCapability:a.vd.prototype.getCapability});a.vd.eja=function(a){return"row"===a?1:0};a.vd.prototype.gu=function(c){c=a.vd.eja(c);var b=this.data.hv();return b.length>c?b[c]:null};a.Jk=function(c,b,d){this.Init();this.Ew=d;this.e0a=d.valueAttr;this.fUa=d.labelAttr;var e=d.defaultAggregation;this.Lja=
e?a.Jk.iOa(e):{OF:a.Gk.SUM};this.P0=d.aggregation;this.h1();a.Jk.N.constructor.call(this,c,b)};o_("DataColumnCube",a.Jk,a);a.f.ua(a.Jk,a.hc,"oj.DataColumnCube");a.Jk.prototype.Init=function(){a.Jk.N.Init.call(this)};a.Jk.prototype.AC=function(){a.Jk.N.AC.call(this)};a.Jk.prototype.aZ=function(a){return this.TD[a]?this.TD[a]:this.Lja};a.Jk.prototype.ZY=function(c){return new a.Jk(null,c,this.Ew)};a.Jk.prototype.$Y=function(c,b){return c.attribute===this.fUa?new a.El(c.attribute,b,!0):new a.El(c.attribute,
b,!1)};a.Jk.prototype.WC=function(a,b,d,e,f,g){if(b>=a.Cs().length)return f;var k=a.Cs()[b],l=e[k.attribute];d=d.CY(l,null,k);k.xG()?f.BY(l,e[this.e0a]):f.OZ(d);return this.WC(a,b+1,d,e,f,g)};a.Jk.iOa=function(c){return a.ab.Gd(c)?{OF:c}:{OF:c.aggregation,Jc:c.callback}};a.Jk.prototype.h1=function(){this.TD=[];if(this.P0)for(var a=0;a<this.P0.length;a++){var b=this.P0[a],d=b.aggregation;this.TD[b.value]=d?{OF:d,Jc:b.callback}:this.Lja}};a.El=function(a,b,d){this.Init();this.attribute=a;this.Nha=b;
this.axis=b.axis;this.Hja=d};o_("CubeLevel",a.El,a);a.f.ua(a.El,a.f,"oj.CubeLevel");a.El.prototype.Init=function(){a.El.N.Init.call(this)};a.El.prototype.vg=function(a){if(a=this.Nha.lv(a))for(var b=0;b<a.length;b++)if(a[b].PB()===this)return a[b];return null};a.f.j("CubeLevel.prototype.getValue",{vg:a.El.prototype.vg});a.El.prototype.xG=function(){return this.Hja};a.f.j("CubeLevel.prototype.isDataValue",{xG:a.El.prototype.xG});a.El.prototype.Hja=!1;a.El.prototype.Nha=null});