/**
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","ojs/ojcomponentcore","ojs/ojlabel"],function(a){var g={properties:{labelEdge:{type:"string",enumValues:["start","top"],value:"top"},labelWidth:{type:"string",value:"33%"},maxColumns:{type:"number",value:1}},extension:{CP:function(b){function d(a){s(q);s(a);v&&(v(),v=null);x&&(x(),x=null);throw Error("oj-form-layout component with id\x3d'"+q.id+"' has a child element "+a.tagName+" with id\x3d'"+a.id+"' that is not a supported child type.  See oj-form-layout tag documentation for more information.");
}function e(a){var b=null;if("labelHint"in a){s(a);b=document.createElement("oj-label");b.setAttribute(u,"");b.setAttribute("data-oj-internal","");b.setAttribute("data-oj-binding-provider","none");b.setAttribute("data-oj-context","");var c=document.createElement("span");c.id=a.id+"|hint";c.textContent=a.labelHint;b.appendChild(c);"labelledBy"in a?(b.id=a.id+r,a.labelledBy=b.id):b.setAttribute("for",a.id);a.parentElement.insertBefore(b,a);m(a,b);a.addEventListener("labelHintChanged",f);a.addEventListener("helpHintsChanged",
g);a.addEventListener("requiredChanged",k)}else d(a);return b}function f(a){var b=document.getElementById(a.target.id+"|hint");b&&(b.innerText=a.detail.value)}function g(a){var b=l(a.target);b&&(b.help=a.detail.value)}function k(a){var b=l(a.target);b&&(b.showRequired=a.detail.value)}function l(a){return"labelledBy"in a?q.getElementById(a.labelledBy):q.querySelector('oj-label[for\x3d"'+a.id+'"]')}function m(b,c){a.Context.getContext(c).Dc().whenReady().then(function(){var a=b.helpHints;a&&(a.definition||
a.source)&&(c.help=a);c.showRequired=b.required})}function n(a,b){var c,d;c=t("oj-flex");d=t("oj-flex-item");c.appendChild(d);d.appendChild(a);d.style.webkitFlex="0 1 "+B;d.style.T9a="0 1 "+B;d.style.maxWidth=B;d.style.width=B;d=t("oj-flex-item");c.appendChild(d);b.parentElement.insertBefore(c,b);d.appendChild(b)}function t(a){var b=document.createElement("div");b.setAttribute(u,"");b.setAttribute("data-oj-internal","");b.classList.add(a);return b}function s(a){a.id||(a.id="oflId_"+c++)}var p=this,
q=b.element,r="-labelled-by",u="data-oj-ofl-bonus-dom",w="["+u+"]",v,x,y,z=!0,A,B;p.CU=new MutationObserver(function(a){if(document.body.contains(q)){for(var b=a.length,c=0;c<b;c++){var d=a[c];if("attributes"===d.type&&"class"===d.attributeName){var r=A.indexOf(d.target);-1!==r&&d.target.classList.contains("oj-complete")&&(A.splice(r,1),(r=e(d.target))&&n(r,d.target))}}b=a.length;for(c=0;c<b;c++)if(d=a[c],"childList"===d.type)for(var r=d.addedNodes.length,l=0;l<r;l++){var m=d.addedNodes[l];m.parentNode===
q&&y.appendChild(m)}b=!0;c=a.length;for(d=0;d<c;d++){r=a[d];if(l="childList"===r.type)l=(r=r.target)&&"DIV"===r.tagName&&r.hasAttribute(u);if(l){b=!1;break}}if(!b){b=a.length;for(c=0;c<b;c++)if(d=a[c],"childList"===d.type)for(r=d.removedNodes.length,l=0;l<r;l++)m=d.removedNodes[l],1===m.nodeType&&(m.removeEventListener("labelHintChanged",f),m.removeEventListener("helpHintsChanged",g),m.removeEventListener("requiredChanged",k));q.refresh()}}else this.disconnect()});this.N9=function(){q.classList.add("oj-form-layout");
y=document.createElement("div");y.classList.add("oj-form");y.setAttribute("data-oj-context","");for(y.setAttribute("data-oj-internal","");q.firstChild;)y.appendChild(q.firstChild);q.appendChild(y)};this.oO=function(){x||(x=a.Context.getContext(q).Dc().Xc({description:"The oj-form-layout component with id \x3d '"+q.id+"' is being rendered."}));A=[];B="start"===q.labelEdge?q.labelWidth:"100%";a.Context.getContext(y).Dc().whenReady().then(function(){v||(v=a.Context.getContext(y).Dc().Xc({description:"The oj-form div for oj-form-layout component with id \x3d '"+
q.id+"' is being rendered."}));p.CU.disconnect();var b=q.maxColumns;"start"===q.labelEdge?(y.classList.add("oj-form-cols-labels-inline"),y.classList.add("oj-formlayout-labels-inline"),y.classList.remove("oj-form-cols")):(y.classList.add("oj-form-cols"),y.classList.remove("oj-form-cols-labels-inline"),y.classList.remove("oj-formlayout-labels-inline"));y.style.columnCount=b;y.style.webkitColumnCount=b;y.style.MozColumnCount=b;if(!z)for(var b=y.querySelectorAll(w),c=b.length,f=0;f<c;++f){var g=b[f];
if("OJ-LABEL"===g.tagName)g.parentElement.removeChild(g);else{for(;g.firstElementChild;)g.parentNode.insertBefore(g.firstElementChild,g);g.parentNode.removeChild(g)}}for(b=y.firstElementChild;b;)-1!==b.tagName.indexOf("-")?b.classList.contains("oj-complete")?e(b):A.push(b):d(b),b=b.nextElementSibling;var b=[],h,c=y.children.length,f=0,g=y.children;for(h=g.length;h--;)b[h]=g[h];for(;f<c;)g=b[f],-1===A.indexOf(g)&&(f++,h=b[f],n(g,h)),f++;p.CU.observe(q,{childList:!0,subtree:!0,attributes:!0});v&&(v(),
v=null);x&&(x(),x=null);z&&(z=!1)})}}}};Object.freeze(g);var c=0;a.J.Ua("oj-form-layout",null,g);a.J.register("oj-form-layout",{metadata:a.J.getMetadata("oj-form-layout")})});