/**
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","require","ojs/ojcomponentcore","ojs/ojdomscroller","ojs/ojanimation","promise","ojs/ojdataprovideradapter"],function(a,g){a.ee=function(a,b,d){this.ha=b;this.u=a;this.Rd=!1;this.Aba(d);this.Init()};a.f.ua(a.ee,a.f,"oj.DataSourceContentHandler");a.ee.prototype.Init=function(){a.ee.N.Init.call(this)};a.f.j("DataSourceContentHandler.prototype.Init",{Init:a.ee.prototype.Init});a.ee.prototype.Zn=function(){};a.ee.prototype.SG=function(){};a.ee.prototype.Ky=function(){};a.ee.prototype.Pi=
function(){null!=this.Waa&&(this.ha=this.Waa);g(this.ha).empty();this.Waa=this.ha=this.u=null};a.ee.prototype.Vv=function(){return!this.Rd};a.ee.prototype.Gba=function(){this.Al()?this.ha.setAttribute("role","grid"):this.Fj()?this.ha.setAttribute("role","tree"):this.ha.setAttribute("role","listbox")};a.ee.prototype.Hda=function(){var a,b;this.gc("rendering content");this.Gba();this.Al()&&this.Xg()&&!this.Fj()&&(a=document.createElement("li"),b=document.createElement("ul"),a.appendChild(b),g(a).attr("role",
"presentation").css("width","100%"),g(b).attr("role","row").addClass(this.u.Vg()),this.ha.appendChild(a),this.Waa=this.ha,this.ha=b);this.fv(!1);this.Yb()};a.ee.prototype.ve=function(a){return a.key};a.ee.prototype.od=function(c){var b,d,e;b=g(this.ha).find("."+this.u.vf());for(d=0;d<b.length;d++)if(e=b[d],c==this.ve(e)||a.f.Bb(c,this.ve(e)))return e;return null};a.ee.prototype.Aba=function(a){this.Gb=a};a.ee.prototype.Rya=function(){var c=this;return null!=this.tX?Promise.resolve(this.tX):null!=
this.u.exa()&&null==this.u.ima()?new Promise(function(b){a.ra.Xga().then(function(a){c.tX=a;b(a)},function(){b(null)})}):Promise.resolve(null)};a.ee.prototype.fv=function(){this.u.eH()};a.ee.prototype.q9=function(a,b,d,e,f){var h,k;h=document.createElement("li");g(h).uniqueId();-1===b?k=null:(k=g(a).children("."+this.u.vf()+", ."+this.u.aG()+", .oj-listview-temp-item"),k=b===k.length?null:k[b]);this.u.mH();a.insertBefore(h,k);k=g(a).children().index(h);this.kha(h,k,a,b,d,e,f)};a.ee.prototype.n6a=
function(a,b,d,e,f){var h,k,l;this.gc("replace item");h=a.parentNode;k=g(h).children().index(a);l=document.createElement("li");g(a).replaceWith(l);this.kha(l,k,h,b,d,e,f)};a.ee.prototype.kha=function(a,b,d,e,f,h,k){var l,m;void 0==k&&(k=this.zB.bind(this));e=this.M9(e,f,h,a);l=this.u.ima();h=this.u.exa();null!=l?(h=l.call(this,e),null!=h&&(null===h.parentNode||h.parentNode instanceof DocumentFragment?a.appendChild(h):null==h.parentNode&&h.toString&&(l=document.createElement("span"),l.appendChild(document.createTextNode(h.toString())),
a.appendChild(l)))):null!=h&&null!=this.tX?(l=this.u.tg()[0],m=this.bZ(e),h=this.tX.iW(l,h,m),h.forEach(function(b){a.appendChild(b)})):(l=document.createElement("span"),l.appendChild(document.createTextNode(null==f?"":f.toString())),a.appendChild(l));a=d.children[b];e.parentElement=a;g.data(a,"data",f);k(a,e)};a.ee.prototype.bZ=function(a){var b,d;b={};b.data=a.data;b.index=a.index;b.componentElement=a.componentElement;d={$current:b};a=this.u.pc("as");null!=a&&0<a.length&&(d[a]=b);return d};a.ee.prototype.zB=
function(a,b){var d;a.key=b.key;a=g(a);a.uniqueId();d=this.u.mG(a);this.Al()?void 0==b.leaf||b.leaf?this.Xg()?d.attr("role","gridcell"):(a.attr("role","row"),d!=a?d.attr("role","gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):a.attr("role","presentation"):(d.attr("role",this.Fj()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.u.Qo());this.zG(b)||a.addClass("oj-skipfocus");a.addClass(this.u.vf())};a.ee.prototype.M9=
function(a,b,d,e){var f,g;f={};f.parentElement=e;f.index=a;f.data=b;f.component=this.u.jN();f.datasource=this.Gb;this.u.Sk&&(f=this.u.Sk(f));for(g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return f};a.ee.prototype.zG=function(a){return this.u.u$(a)};a.ee.prototype.fX=function(a){return this.u.dxa(a)};a.ee.prototype.Xg=function(){return this.u.Xg()};a.ee.prototype.Al=function(){return this.u.pz()};a.ee.prototype.gc=function(a){this.u&&this.u.gc("DataSource ContentHandler "+a)};a.ee.prototype.Yb=function(){this.u&&
this.u.Yb()};a.Hb=function(c,b,d){a.Hb.N.constructor.call(this,c,b,d)};a.f.ua(a.Hb,a.ee,"oj.IteratingDataProviderContentHandler");a.Hb.prototype.Init=function(){a.Hb.N.Init.call(this)};a.Hb.prototype.Fj=function(){return!1};a.Hb.prototype.Yja=function(){null!=this.rv&&(this.rv.destroy(),this.Faa=this.rv=null)};a.Hb.prototype.Pi=function(){a.Hb.N.Pi.call(this);this.eF();this.Yja();this.NG=null};a.Hb.prototype.Zn=function(a,b){this.yn()&&void 0!=this.ty&&this.ty!=b&&(this.ty=b,this.checkViewport())};
a.Hb.prototype.SG=function(){this.yn()&&this.checkViewport()};a.Hb.prototype.Ky=function(){var a,b;a=this.C3();void 0!=a&&null!=this.rv&&(this.cl(),b=this.C3(),a!=b&&this.rv.L6a(b),this.checkViewport())};a.Hb.prototype.yn=function(){return"loadMoreOnScroll"==this.u.options.scrollPolicy?!0:!1};a.Hb.prototype.Gr=function(){return Math.max(0,this.u.options.scrollPolicyOptions.fetchSize)};a.Hb.prototype.cl=function(){var c=this.u.options.scrollPolicyOptions.scroller;return null!=c&&g.contains(c,this.ha)?
(void 0===this.uo&&(this.uo=a.di.X0a(c,this.ha)+this.oma()),c):this.u.tg()};a.Hb.prototype.C3=function(){void 0===this.uo&&(this.uo=this.oma());return this.uo};a.Hb.prototype.oma=function(){var a,b;a=g(document.createElement("div"));a.addClass(this.u.wf()).css({visibility:"hidden",overflow:"hidden",position:"absolute"});b=g(document.createElement("div"));b.addClass("oj-icon oj-listview-loading-icon");a.append(b);g(this.u.tg()).append(a);b=a.get(0).offsetHeight;a.remove();return b};a.Hb.prototype.S3=
function(){return this.u.options.scrollPolicyOptions.maxCount};a.Hb.prototype.Aba=function(c){this.eF();null!=c&&(this.fza=this.V3a.bind(this),this.gza=this.W3a.bind(this),c.addEventListener("mutate",this.fza),c.addEventListener("refresh",this.gza));a.Hb.N.Aba.call(this,c)};a.Hb.prototype.CIa=function(){var a,b;null==this.NG&&(a=g(document.createElement("li")),a.uniqueId().attr("role","presentation").addClass(this.u.wf()).addClass("oj-listview-loading-icon-container"),b=g(document.createElement("div")),
b.addClass("oj-icon oj-listview-loading-icon"),a.append(b),g(this.ha).append(a),this.NG=a)};a.Hb.prototype.k7=function(){null!=this.NG&&this.NG.remove();this.NG=null};a.Hb.prototype.fy=function(){return null!=this.NG};a.Hb.prototype.zB=function(c,b){var d;a.Hb.N.zB.call(this,c,b);g(c).addClass(this.u.wf());this.u.bd()&&this.fX(b)&&this.u.Hf(g(c)).attr("aria-selected",!1);this.yn()&&(d=Math.min(-1,this.S3()),-1===d&&(d=this.S3()),0<d&&g(c).attr("aria-setsize",d).attr("aria-posinset",b.index+1));this.u.XB(c,
b)};a.Hb.prototype.r0a=function(c,b){var d,e,f,h,k;this.gc("after render item from model insert event");c.setAttribute("data-oj-context","");this.zB(c,b);d=g(c);e=c.className;d.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e");c.className="oj-listview-temp-item oj-listview-item-add-remove-transition";f=d.children().first();f[0].className=e;f[0].key=c.key;f.attr("role",c.getAttribute("role"));d[0].hasAttribute("aria-selected")&&f.attr("aria-selected",c.getAttribute("aria-selected"));h=this;a.Context.getContext(c).Dc().whenReady().then(function(){null!=
h.u&&(h.gc("kick off animation for insert item"),k=h.u.qz(c,"add"),k.then(function(){c.removeAttribute("data-oj-context");h.gQa(b,c)}),h.Yb())})};a.Hb.prototype.g5=function(){a.D.error("max count reached")};a.Hb.prototype.eF=function(){var a=this.Gb;null!=a&&(a.removeEventListener("mutate",this.fza),a.removeEventListener("refresh",this.gza))};a.Hb.prototype.fv=function(c){var b,d,e,f,h=0;this.gc("fetching rows");this.Vv()&&(this.Rd=!0,a.Hb.N.fv.call(this,c),c=this.Rya(),this.gc("first fetch"),b={},
b.size=this.yn()?this.Gr():-1,d=this,this.Uya=this.Gb.fetchFirst(b)[Symbol.asyncIterator](),b=this.Uya.next(),Promise.all([b,c]).then(function(b){null!=d.u&&(e=b[0],f=d.Gb,f instanceof a.$C&&(h=f.offset),0==h&&g(d.ha).empty(),d.Qna(e))},function(b){d.Nr(b);d.Yb()}));this.Yb()};a.Hb.prototype.Nr=function(c){a.D.error(c);this.yn()&&this.k7();this.u.Py()};a.Hb.prototype.Ww=function(a,b){var d,e,f;d=this.ha.childElementCount;for(e=0;e<a.length;e++)f=a[e],this.q9(this.ha,d,f,this.getMetadata(d,b[e],f)),
d+=1};a.Hb.prototype.h7=function(){var c=this,b;this.Faa=function(b){null!=b?(c.gc("handle results when maxCountLimit reached"),c.k7(),c.Vv()&&c.gc("dummy task"),c.Qna(b),c.Yb()):c.k7();c.Yb()};b={fetchSize:this.Gr(),fetchTrigger:this.C3(),maxCount:this.S3(),asyncIterator:this.Uya,initialRowCount:this.ha.childElementCount,success:this.Faa,error:this.Yb.bind(this)};this.rv=new a.di(this.cl(),this.Gb,b);this.rv.h5=function(b,e){1>=e-b&&c.gc("starts highwatermark scrolling");a.di.prototype.h5.call(this,
b,e)}};a.Hb.prototype.hra=function(a){void 0==this.uX&&(this.uX=[]);this.uX.push(a)};a.Hb.prototype.PJa=function(){null!=this.uX&&(this.uX.length=0)};a.Hb.prototype.V3a=function(a){null!=a.detail.remove&&this.X3a(a);null!=a.detail.add&&this.T3a(a);null!=a.detail.update&&this.U3a(a)};a.Hb.prototype.Ad=function(a,b){var d;if(null==a||0==a.length||b>=a.length)return-1;d=this.od(a[b]);return null!=d?g(this.ha).children().index(d):-1};a.Hb.prototype.T3a=function(a){var b,d,e,f,g;if(null!=this.ha)if(this.Vv()){this.gc("handling model add event");
b=a.detail.add;a=b.data;d=[];b.keys.forEach(function(b){d.push(b)});b.afterKeys&&(e=[],b.afterKeys.forEach(function(b){e.push(b)}));b=b.indexes;if(null!=a&&null!=d&&0<d.length&&0<a.length&&d.length==a.length&&(null==b||b.length==a.length)){for(f=0;f<a.length;f++)this.gc("handling model add event for item: "+d[f]),g=null==b?this.Ad(e,f)+1:b[f],this.q9(this.ha,g,a[f],this.getMetadata(g,d[f],a[f]),this.r0a.bind(this)),this.Yb();this.Vv()&&this.gc("dummy task");this.owa()}this.Yb()}else this.hra({type:a.type,
event:a})};a.Hb.prototype.gQa=function(a,b){var d;null!=this.u&&(d=g(b).children().first().attr("class"),g(b).children().children().unwrap(),b.className=d,this.u.Iya(b,a));this.Yb()};a.Hb.prototype.X3a=function(a){var b,d,e=this,f,g,k;b=a.detail.remove.keys;if(null!=this.ha&&null!=b&&0!=b.size)if(this.Vv()){this.gc("handling model remove event");f=this.u.options.selection;g=f.slice(0);b.forEach(function(b){d=e.od(b);null!=d&&(e.gc("handling model remove event for item: "+b),e.cXa(d),e.Yb());e.u.NK()&&
(k=e.u.OO(f,b),-1<k&&g.splice(k,1))});if(f.length!=g.length){b=Array(g.length);for(a=0;a<g.length;a++)b[a]=this.od(g[a]);this.u.gs(g,null,b)}this.u.qH();this.Yb()}else this.hra({type:a.type,event:a})};a.Hb.prototype.cXa=function(a){var b,d=this;this.gc("removing an item");a=g(a);b=a.get(0).className;a.children().wrapAll("\x3cdiv class\x3d'"+b+"'\x3e\x3c/div\x3e");a.get(0).className="oj-listview-item-add-remove-transition";this.gc("kick off animation to remove an item");b=a.get(0);this.u.qz(b,"remove").then(function(){d.PRa(a)});
this.Yb()};a.Hb.prototype.PRa=function(a){if(null!=this.u){a=g(a);var b=a.parent();0!=b.length&&(this.u.paa(a.get(0)),a.remove(),0==b.get(0).childElementCount&&this.u.Py(),this.u.jwa())}this.Yb()};a.Hb.prototype.U3a=function(a){var b,d,e,f,g;if(null!=this.ha){this.gc("handling model update event");b=a.detail.update;a=b.data;d=[];b.keys.forEach(function(b){d.push(b)});b=b.indexes;for(e=0;e<d.length;e++)f=this.od(d[e]),null!=f&&(this.gc("handling model update event for item: "+d[e]),g=null==b?-1:b[e],
this.n6a(f,g,a[e],this.getMetadata(g,d[e],a[e]),this.q0a.bind(this)),this.Yb());this.u.qH();this.Yb()}};a.Hb.prototype.q0a=function(a,b){var d=this;this.gc("after render item for model change event");this.zB(a,b);this.u.qz(a,"update").then(function(){d.QRa(a)});this.Yb()};a.Hb.prototype.QRa=function(a){null!=this.u&&(g(a).removeClass("oj-listview-item-add-remove-transition"),this.u.w6a());this.Yb()};a.Hb.prototype.W3a=function(){null!=this.ha&&(this.gc("handling model reset event"),this.PJa(),this.u.qH(),
this.Yja(),this.fv(!0),this.Yb())};a.Hb.prototype.Qna=function(c){var b=!1,d;if(null!=this.ha&&null!=c.value&&(b=c.value.data,d=c.value.metadata.map(function(b){return b.key}),b.length==d.length)){this.Ww(b,d);if(this.yn()){if(b=!c.done&&this.yn())null!=d&&0==d.length&&a.D.info("handleFetchedData: zero data returned while done flag is false"),null==this.rv&&this.h7(),c.maxCountLimit||this.CIa();c.maxCountLimit&&this.g5()}this.owa()}};a.Hb.prototype.owa=function(){this.Rd=!1;this.u.Py();this.checkViewport();
this.Yb()};a.Hb.prototype.checkViewport=function(){var a=this,b;this.gc("checking viewport");null!=this.rv&&this.Vv()&&(b=this.rv.checkViewport(),null!=b&&(this.gc("got promise from checking viewport"),b.then(function(b){null!=b&&a.Faa(b);a.Yb()},null)));this.Yb()};a.Hb.prototype.getMetadata=function(a,b,d){d=d.context;null==d&&(d={});null==d.index&&(d.index=a);null==d.key&&(d.key=b);return d};a.Xi=function(c,b,d){a.Xi.N.constructor.call(this,c,b,d)};a.f.ua(a.Xi,a.ee,"oj.TreeDataSourceContentHandler");
a.Xi.prototype.Init=function(){a.Xi.N.Init.call(this)};a.Xi.prototype.Fj=function(){return!0};a.Xi.prototype.fv=function(c){this.gc("fetching rows");a.Xi.N.fv.call(this,c);this.fetchChildren(0,null,this.ha,null);this.Yb()};a.Xi.prototype.fetchChildren=function(a,b,d,e){var f,h,k,l=this;this.gc("fetching children from index: "+a);f=this.Rya();null!=b&&(h=d.parentNode.firstElementChild.firstElementChild.firstElementChild)&&(h=g(h),k=this.u.qq(),h.hasClass(k)&&h.removeClass(k).addClass("oj-listview-expanding-icon"));
this.Rd=!0;a={start:a,count:this.Gb.getChildCount(b)};this.gc("first fetch");this.Gb.fetchChildren(b,a,{success:function(a){f.then(function(){l.Ww(a,b,d,e);l.Yb()})},error:function(b){l.Nr(b);l.Yb()}});this.Yb()};a.Xi.prototype.Ww=function(a,b,d,e){var f,h,k,l,m;this.gc("handling successful fetch");f=a.getStart();h=a.getCount();for(k=0;k<h;k++)l=a.getData(f+k),m=a.getMetadata(f+k),this.q9(d,f+k,l,m);this.Al()&&this.Xg()&&null!=b&&1<h&&g(d.parentNode.firstElementChild.firstElementChild).attr("aria-colspan",
h);this.Rd=!1;null!=e&&e.call(null,d);this.u.Py();this.xk=!0;this.Yb()};a.Xi.prototype.bZ=function(c){var b,d;b=a.Xi.N.bZ.call(this,c);d=b.$current;d.depth=c.depth;d.leaf=c.leaf;d.parentKey=c.parentKey;return b};a.Xi.prototype.zB=function(c,b){var d,e,f,h,k,l;this.gc("after rendering an item");a.Xi.N.zB.call(this,c,b);d=this.u.Vg();e=this.u.wf();f=this.u.sg(!0);h=this.u.MB();l=this.u.qq();k=this.u.Qo();c=g(c);!1==b.leaf?(c.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e"),c.hasClass(k)?c.removeClass(k).children().first().addClass(k).attr("aria-expanded",
"false"):c.children().first().attr("role","presentation").find("."+k).attr("aria-expanded","false"),e=c.children().first(),e.uniqueId().addClass(f),this.u.yG()&&(c.addClass("oj-collapsed"),f=document.createElement("a"),g(f).attr("href","#").attr("aria-labelledby",e.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),e.prepend(f)),this.Al()&&(e.get(0).removeAttribute("aria-expanded"),e.removeClass(k),e.attr("role","row"),e.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+
k+"'\x3e\x3c/div\x3e")),k=document.createElement("ul"),g(k).addClass(d).addClass(h).attr("role",this.Al()?this.Xg()?"row":"presentation":"group"),c.append(k)):!0==b.leaf&&c.addClass(e);this.u.bd()&&this.fX(b)&&this.u.Hf(c).attr("aria-selected",!1);this.u.XB(c[0],b);this.Yb()};a.Xi.prototype.Nr=function(c){this.gc("handling fetch error: "+c);a.D.error(c);this.u.Py();this.Yb()};a.Xi.prototype.GC=function(a,b){var d,e;this.gc("expanding an item");d=this.ve(a[0]);e=a.children("ul")[0];this.fetchChildren(0,
d,e,b);this.Yb()};a.Xi.prototype.CC=function(a){a.empty()};a.le=function(a,b){this.u=a;this.ha=b};a.f.ua(a.le,a.f,"oj.StaticContentHandler");a.le.prototype.Init=function(){a.le.N.Init.call(this)};a.le.prototype.Pi=function(){this.ha.hasAttribute("role")&&(this.HAa(this.ha,0),this.A7a(),this.Al()&&this.Xg()&&!this.Fj()&&g(this.ha).children().first().children().unwrap().children().unwrap())};a.le.prototype.Vv=function(){return!0};a.le.prototype.Zn=function(){};a.le.prototype.SG=function(){};a.le.prototype.Ky=
function(){};a.le.prototype.Hda=function(){var a=this.ha;this.Al()&&this.Xg()&&!this.Fj()&&0<g(a).children("li").length&&(g(this.ha).children().wrapAll("\x3cli role\x3d'presentation' style\x3d'width:100%'\x3e\x3cul role\x3d'row' class\x3d'"+this.u.Vg()+"'\x3e\x3c/ul\x3e\x3c/li\x3e"),a=g(this.ha).children("li").first().children("ul").first().get(0));this.Iza(a,0);this.Gba();this.u.Py()};a.le.prototype.GC=function(a,b){var d;d="."+this.u.Vg();d=g(a).children(d)[0];g(d).css("display","");b.call(null,
d)};a.le.prototype.CC=function(){};a.le.prototype.Fj=function(){null==this.Kaa&&(this.Kaa=0<g(this.ha).children("li").children("ul").length);return this.Kaa};a.le.prototype.HAa=function(a,b){var d,e,f,h,k,l,m,n,t,s;d=this.u.Vg();e=this.u.MB();f=this.u.cG();h=this.u.sg(!0);k=this.u.wf();l=this.u.vf();m=a.children;for(n=0;n<m.length;n++)t=g(m[n]),t.hasClass(l)&&(this.y7a(t.get(0)),t.removeClass(l).removeClass(k).removeClass(this.u.o$(b)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),
s=t.children("ul"),0<s.length&&(t.children("."+h).children().unwrap(),this.Al()&&this.z7a(t),t.children(".oj-component-icon").remove(),t=g(s[0]),t.removeClass(d).removeClass(f).removeClass(e).removeAttr("role"),this.HAa(t[0],b+1)))};a.le.prototype.Iza=function(a,b){var d,e,f,h,k,l,m,n,t,s,p,q,r,u,w,v;d=this.u.wf();e=this.u.vf();f=this.u.Vg();h=this.u.sg(!0);k=this.u.MB();l=this.u.qq();m=this.u.Qo();n=a.children;t=this.u.yG();for(s=0;s<n.length;s++)p=g(n[s]),q=this.M9(p),this.H6a(p,q),p.uniqueId().addClass(e),
0<b&&p.addClass(this.u.o$(b)),this.zG(q)||p.addClass("oj-skipfocus"),r=p.children("ul"),0<r.length?(this.Kaa=!0,p.children(":not(ul)").wrapAll("\x3cdiv\x3e\x3c/div\x3e"),u=p.children().first(),u.addClass(h),v=this.L2a(r[0]),0<v&&(p.hasClass(m)?(p.removeClass(m),u.addClass(m).attr("aria-expanded","false")):(u.attr("role","presentation"),u.find("."+m).attr("aria-expanded","false")),t&&(p.addClass("oj-collapsed"),u.uniqueId(),w=document.createElement("a"),g(w).attr("href","#").attr("role","button").attr("aria-labelledby",
u.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),u.prepend(w))),this.Al()&&this.M6a(u,v),r=g(r[0]),r.addClass(f).addClass(k).attr("role",this.Al()?this.Xg()?"row":"presentation":"group").css("display","none"),this.Iza(r[0],b+1)):p.addClass(d),this.u.bd()&&this.fX(q)&&this.u.Hf(p).attr("aria-selected",!1),this.u.XB(p[0],q)};a.le.prototype.Gba=function(){this.Al()?this.ha.setAttribute("role","grid"):this.Fj()?this.ha.setAttribute("role","tree"):this.ha.setAttribute("role",
"listbox")};a.le.prototype.A7a=function(){this.ha.removeAttribute("role")};a.le.prototype.L2a=function(a){return g(a).children("li").length};a.le.prototype.M9=function(a){var b;b={};b.key=a.attr("id");b.parentElement=a.children().first()[0];b.index=a.index();b.data=a[0];b.component=this.u.jN();this.Fj()&&(b.leaf=0==a.children("ul").length,a=a.parents("li."+this.u.vf()),b.depth=a.length,b.parentKey=0==a.length?null:a.first().attr("id"));return b};a.le.prototype.H6a=function(a,b){var d=this.u.mG(a);
this.Al()?void 0==b.leaf||b.leaf?this.Xg()?d.attr("role","gridcell"):(a.attr("role","row"),d!=a?d.attr("role","gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):(a.attr("role","presentation"),d!=a&&d.attr("role","gridcell")):(d.attr("role",this.Fj()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.u.Qo())};a.le.prototype.M6a=function(a,b){var d=this.u.Qo();a.get(0).removeAttribute("aria-expanded");a.removeClass(d);
a.attr("role","row");a.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+d+"'\x3e\x3c/div\x3e");this.Xg()&&1<b&&a.children().first().attr("aria-colspan",b)};a.le.prototype.z7a=function(a){a.children("div").first().children().unwrap()};a.le.prototype.y7a=function(a){var b=this.u.mG(g(a));b.removeAttr("role");b.removeAttr("aria-selected");b.removeAttr("aria-expanded");b.removeClass(this.u.Qo());this.Al()&&!this.Xg()&&(b!=a?(g(a).removeAttr("role"),
b.children().first().children().unwrap()):b.children().first().children().unwrap().children().unwrap())};a.le.prototype.ve=function(a){return g(a).attr("id")};a.le.prototype.od=function(a){return document.getElementById(a)};a.le.prototype.zG=function(a){return this.u.u$(a)};a.le.prototype.fX=function(a){return this.u.dxa(a)};a.le.prototype.Xg=function(){return this.u.Xg()};a.le.prototype.Al=function(){return this.u.pz()};a.VO=function(){};a.VO.prototype.set=function(a,b){var d;void 0===this.XK&&void 0===
this.zu&&(this.XK=[],this.zu=[]);d=this.XK.indexOf(a);-1<d?this.zu.splice(d,1,b):(this.XK.push(a),this.zu.push(b))};a.VO.prototype.get=function(a){return this.XK&&this.zu&&(a=this.XK.indexOf(a),-1<a&&this.zu.length>a)?this.zu[a]:null};a.VO.prototype.S1a=function(a){for(var b=this.zu.indexOf(a);-1<b;)this.zu.splice(b,1),b=this.zu.indexOf(a,b)};a.A6=function(c,b){function d(){}a.f.ua(d,c,"");d.prototype=g.extend(d.prototype,b);return d}(Object,{Ve:37,Of:39,Ik:40,Qk:38,nP:9,SY:13,FO:27,WY:113,GZ:32,
pp:0,np:1,Ida:2,M7a:0,az:1,BCa:20,Ro:function(c){var b=this,d;this.Zs=[];this.element=c.element;this.ea=c.ea;this.wc=c.wc;this.options=c;this.gc("Initializing");this.element.uniqueId().addClass(this.zH()+" oj-component-initnode");this.mP();if(d=this.Tca())this.Kf=d,this.ea._on(this.element,{dragstart:function(b){return d.qK(b)},dragenter:function(b){return d.O4(b)},dragover:function(b){return d.Q4(b)},dragleave:function(b){return d.P4(b)},dragend:function(a){b.xy=!1;return d.N4(a)},drag:function(b){return d.FQa(b)},
drop:function(a){b.xy=!1;return d.R4(a)}});this.ea._on(this.element,{click:function(a){b.nZ(a)},touchstart:function(a){b.QO(a)},touchend:function(a){b.DH(a)},touchcancel:function(a){b.DH(a)},mousedown:function(a){0===a.button?b.mra()||b.QO(a):b.xy=!0},mouseup:function(a){b.Yna(a);b.xy=!1},mouseout:function(a){b.VS(a)},mouseover:function(a){b.Y4(a)},keydown:function(a){b.BH(a)},keyup:function(a){b.pCa(a)},ojpanmove:function(a){b.Yna(a)}});this.ea._on(this.ea.element,{focus:function(a){b.lt(a)},blur:function(a){b.kt(a)}});
a.Ja.rl().browser===a.Ja.Ag.HC&&this.Ng().attr("tabIndex",-1);this.az===this.az?this.ea._on(this.ea.element,{focusin:function(a){b.lt(a)},focusout:function(a){b.oCa(a)}}):this.ea._on(this.element,{focus:function(a){b.lt(a)},blur:function(a){b.kt(a)}});this.Cra();this.ea._focusable({applyHighlight:!0,recentPointer:b.Gda(),setupHandlers:function(a,c){b.Uj=a;b.fj=c}})},$Aa:function(){this.ea.document.bind("touchend.ojlistview touchcancel.ojlistview",this.DH.bind(this))},uAa:function(){this.ea.document.off(".ojlistview")},
NF:function(){var a;this.fJa();this.Goa();a=this.Ng();this.Zr(a[0]);this.Yb()},refresh:function(){this.csa();this.gc("Refresh");this.jP();this.Goa();this.Cra();this.Yb()},whenReady:function(){return this.oAa},destroy:function(){this.element.removeClass(this.zH()+" oj-component-initnode");this.Mo(this.Ng());this.csa();a.Q.unwrap(this.element,this.Ng())},csa:function(){var a=this;this.Wda();this.KJa(this.element);null!=this.Qc&&(this.Qc.Pi(),delete this.Qc,this.Qc=null);this.KG=this.sy=this.ba=null;
this.Zs=[];this.oAa=new Promise(function(b){a.pAa=b});this.qH();this.tm&&(this.tm(null),this.tm=null);null!=this.Kf&&this.Kf.reset()},Ky:function(){this.lO();null!=this.Qc&&this.Qc.Ky()},Rza:function(){this.Ng().removeClass("oj-focus-ancestor");null!=this.ba&&g(this.ba.elem).removeClass("oj-focus oj-focus-highlight");null!=this.Laa&&this.Qu(this.Laa,"oj-hover")},SG:function(){this.lO();null!=this.Qc&&this.Qc.SG()},getNodeBySubId:function(a){var b;if(null==a)return this.element?this.element[0]:null;
b=a.subId;if("oj-listview-disclosure"===b||"oj-listview-icon"===b){if(a=a.key,null!=a&&(a=this.od(a),null!=a&&(a=g(a).find(".oj-clickable-icon-nocontext").first(),this.wT(a))))return a.get(0)}else if("oj-listview-item"===b&&(a=a.key,null!=a))return this.od(a);return null},getSubIdByNode:function(a){return null!=a&&this.wT(a)&&(a=this.kp(a),null!=a&&0<a.length&&(a=this.ve(a[0]),null!=a))?{subId:"oj-listview-disclosure",key:a}:null},getContextByNode:function(a){var b,d,e;a=this.kp(a);return null!=a&&
0<a.length&&(b=this.ve(a[0]),null!=b)?(d=a.parent(),e=d.children("."+this.vf()).index(a),b={subId:"oj-listview-item",key:b,index:e},d.get(0)!=this.element.get(0)&&(b.parent=d.parent().get(0)),a.children().first().hasClass(this.sg())?b.group=!0:b.group=!1,b):null},getDataForVisibleItem:function(a){var b,d;b=a.key;null!=b&&(d=this.od(b));null==d&&(b=a.index,a=a.parent,a=null==a?this.element.get(0):g(a).children("ul."+this.Vg()).first(),d=g(a).children("li").get(b));return null!=d&&g(d).hasClass(this.wf())?
this.Ila(d):null},Ila:function(a){return null==this.pc("data")?a:g.data(a,"data")},Mo:function(c){c&&this.Ci&&a.Q.Hm(c,this.Ci)},Zr:function(c){c&&(null==this.Ci&&(this.Ci=this.Zn.bind(this)),a.Q.sm(c,this.Ci))},Tca:function(){if("undefined"!=typeof a.va)return new a.va(this)},Zn:function(a,b){0<a&&0<b&&null!=this.Qc&&this.Qc.Zn(a,b)},vDa:function(){return!0},Gda:function(){return function(){return!1}},Pda:function(a){return null!=a.data||null!=a.drillMode||null!=a.groupHeaderPosition||null!=a.item||
null!=a.scrollPolicy||null!=a.scrollPolicyOptions},dY:function(a){var b,d,e;if(this.Pda(a))return!0;if(null!=a.expanded&&this.Qc.Fj()&&(this.ur=void 0,d=a.expanded,Array.isArray(d))){this.gc("Set expanded option");this.fKa();this.woa=!0;try{b=this,g.each(d,function(a,c){b.V9(c,!0,!0,!0)})}finally{this.woa=void 0,this.Yb()}}null!=a.currentItem?(d=this.od(a.currentItem),null!=d&&(d=g(d),this.Vi(d)||((e=document.activeElement)&&this.element.get(0).contains(e)?this.zC(d,null):this.td(d,null,!0)))):null===
a.currentItem&&(this.SH(),this.ba=null,this.mP());this.RO(a);null!=a.selectionMode&&(this.Xk(!0),this.jP(),this.EDa(a.selectionMode));null!=a.scrollTop&&(d=this.cl(),e=a.scrollTop,null==e||isNaN(e)||(d.scrollTop=e));null!=a.scrollPosition&&(this.uYa(a.scrollPosition),delete a.scrollPosition);this.TU()&&null!=this.ba&&null!=a.dnd&&null!=a.dnd.reorder&&("enabled"===a.dnd.reorder.items?this.Kf.ata(this.ba.elem):"disabled"===a.dnd.reorder.items&&this.Kf.G_a(this.ba.elem));return!1},RO:function(a){var b,
d;if(null!=a.selection&&this.bd())for(a.selection=this.gNa(a.selection),b=a.selection,this.Xk(!1),d=0;d<b.length;d++)a=this.od(b[d]),null!=a&&this.Rz(a,b[d])},Yi:function(a,b,d){return this.ea._trigger(a,b,d)},Ll:function(a,b,d){this.ea.option(a,b,d)},pc:function(a){return this.ea.option(a)},ONa:function(a){return"The component identified by '"+(this.ea.$()?this.tg().attr("id"):this.element.attr("id"))+"', "+a},gc:function(c){var b=this,d;this.Zs&&(0==this.Zs.length&&(this.oAa=new Promise(function(a){b.pAa=
a}),d=a.Context.getContext(this.element[0]).Dc(),c=null!=c?{description:this.ONa(c)}:{},b.tm=d.Xc(c)),this.Zs.push(1))},Yb:function(){this.Zs&&0<this.Zs.length&&(this.Zs.pop(),0==this.Zs.length&&(this.pAa(null),this.tm(null),this.tm=null))},VB:function(){return null==this.tm},q7a:function(a){if(this.Zs)for(;0<this.Zs.length;)this.Yb();throw a;},vW:function(a){var b,d=this,e=[];g.each(a,function(a,c){b=d.od(c);null!=b&&e.push(b)});return e},Xg:function(){return(this.ea.$()?this.tg():this.element).hasClass("oj-listview-card-layout")},
pz:function(){return!0},KZ:function(){return this.pz()&&this.ea.$()},Goa:function(){var c;this.gc("Initialize ContentHandler");this.eH();c=this.pc("data");null!=c?"undefined"!==typeof a.ta&&c instanceof a.ta?this.Qc=new a.Hb(this,this.element[0],new a.$C(c)):"undefined"!==typeof a.bw&&c instanceof a.bw?this.Qc=new a.Xi(this,this.element[0],c):a.Pq.AG(c)?this.Qc=new a.Hb(this,this.element[0],c):this.q7a("Invalid data or missing module"):this.Qc=new a.le(this,this.element[0]);this.Qc.Hda();this.Yb()},
DDa:function(a){this.element.attr("aria-activedescendant",a.attr("id"))},jP:function(){this.Ur()?this.element.attr("aria-multiselectable",!0):this.bd()&&this.element.attr("aria-multiselectable",!1)},Wda:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},EDa:function(a){var b=this,d,e;"none"==a?(this.element.removeAttr("aria-multiselectable"),a=function(a){b.Hf(a).removeAttr("aria-selected")}):("single"==a?this.element.attr("aria-multiselectable",!1):this.element.attr("aria-multiselectable",
!0),a=function(a){b.Hf(a).attr("aria-selected","false")});d=this.Hr();for(e=0;e<d.length;e++)a(g(d[e]))},fJa:function(){var a,b;a=this.Ng();this.jP();this.Yya=this.element.get(0).offsetTop;b=this.iJa();a.append(b);this.Ak=b;b=this.$Ia();a.append(b);this.BG=b;this.Ho()&&null!=this.Kf&&a.append(this.aJa())},iJa:function(){var a,b;a=g(document.createElement("div"));a.addClass("oj-icon oj-listview-loading-icon");b=g(document.createElement("div"));b.addClass("oj-listview-status-message oj-listview-status").attr({id:this.Xt("status"),
role:"status"});b.append(a);return b},$Ia:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.Xt("info"),role:"status"});return a},aJa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.Xt("instr")});a.text(this.ea.T("accessibleReorderTouchInstructionText"));return a},Ei:function(a){""!=a&&this.BG.text()!=a&&this.BG.text(a)},eH:function(){var a,b=this,d,e,f;this.Bq||(this.Bq=setTimeout(function(){g(document.getElementById(b.Xt("empty"))).remove();
a=b.ea.T("msgFetchingData");e=b.Ng();b.Ak.attr("aria-label",a).css("left",Math.max(0,e.outerWidth()/2-b.Ak.outerWidth()/2)).css("top",Math.max(0,e.outerHeight()/2-b.Ak.outerHeight()/2)).show();void 0===b.g5a&&(d=b.Ak.get(0).offsetHeight,f=e.get(0).offsetHeight,e.css("minHeight",Math.max(f,d+b.nma())),b.g5a=!0);b.Bq=null},this.k4()))},k4:function(){var c;null==this.kq&&(this.kq=a.ic.ad(this.A$()));c=parseInt(this.kq.showIndicatorDelay,10);return isNaN(c)?0:c},Fs:function(){this.Bq&&(clearTimeout(this.Bq),
this.Bq=null);this.Ak.hide()},tg:function(){return this.Ng()},Ng:function(){null==this.xN&&(this.xN=this.eLa());return this.xN},eLa:function(){var a;this.wc?a=g(this.wc):(a=g(document.createElement("div")),this.element.parent()[0].replaceChild(a[0],this.element[0]));a.addClass(this.Oca()).addClass("oj-component");a.prepend(this.element);return a},Pla:function(){return this.ea.T("msgNoData")},aJ:function(){var a,b;a=this.Pla();b=document.createElement("li");b.id=this.Xt("empty");b.className=this.aG()+
" "+this.Swa();b.textContent=a;return b},Si:function(a){a=this.Hf(a).attr("aria-expanded");return"true"==a?this.pp:"false"==a?this.np:this.Ida},oz:function(a,b){var d=this.yG();b==this.pp?(this.Hf(a).attr("aria-expanded","true"),d&&a.removeClass("oj-collapsed").addClass("oj-expanded")):b==this.np&&(this.Hf(a).attr("aria-expanded","false"),d&&a.removeClass("oj-expanded").addClass("oj-collapsed"))},L3:function(a,b,d){a=this.pc("item")[a];return"function"==typeof a&&d?a.call(this,b):a},u$:function(a){return this.L3("focusable",
a,!0)},dxa:function(a){return this.u$(a)&&this.L3("selectable",a,!0)},ima:function(){var a=this.L3("renderer",null,!1);return"function"!=typeof a?null:this.Rl(a)},exa:function(){var c;void 0===this.Xaa&&(this.Xaa=null,this.ea.$()&&(c=a.J.sl(this.tg()[0]),(c=c.itemTemplate)&&0<c.length&&"template"===c[0].tagName.toLowerCase()&&(this.Xaa=c[0])));return this.Xaa},Iya:function(){},mH:function(){},paa:function(a){null!=this.ba&&this.ba.elem&&g(this.ba.elem).get(0)==a&&this.Ll("currentItem",null);null!=
a&&a.id&&null!=this.cC&&this.cC.S1a(a.id)},XB:function(c,b){var d,e,f,h,k;null!=this.Kf&&this.Kf.XB(c);this.zJ(c);d=b.key;if(this.bd())if(e=this.pc("selection"),this.Nm(c)){for(h=0;h<e.length;h++)if(e[h]==d||a.f.Bb(e[h],d))if(this.Rz(c,e[h]),!this.Ur()){1<e.length&&(f=this.od(d),this.gs([d],null,f));break}0==e.length&&this.NK()&&(this.Rz(c,d),this.gs([d],null,[c]))}else if(f=this.OO(e,d),-1<f){e=e.slice(0);e.splice(f,1);f=Array(e.length);for(h=0;h<e.length;h++)f[h]=this.od(e[h]);this.gs(e,null,f)}this.Qc.Fj()&&
void 0==this.woa&&this.Si(g(c))==this.np&&(e=this.pc("expanded"),this.GE()?void 0==this.ur&&this.$y(g(c),null,!1,null,!1,!1,!1):Array.isArray(e)&&(k=this,g.each(e,function(b,a){a!=d||void 0!=k.ur&&-1!=k.ur.indexOf(a)||k.$y(g(c),null,!1,null,!1,!1,!1)})));null!=this.ba&&d==this.ba.key&&null!=this.ba.elem&&c!=this.ba.elem.get(0)&&(this.ba.elem=g(c))},Py:function(){var a,b;this.Fs();g(document.getElementById(this.Xt("empty"))).remove();this.wX=this.MG=null;0==this.element[0].childElementCount?(a=this.aJ(),
this.element.append(a)):(this.KZ()&&null==this.KG&&(this.Qc.Fj()?(a=this.element.children("li."+this.vf()).first(),0<a.length&&(this.KG=a.get(0).firstElementChild.offsetHeight)):(a=g(this.Yma()).children("li."+this.wf()).first(),0<a.length&&(this.KG=a.get(0).offsetHeight))),a=this.pc("currentItem"),null!=a&&(b=this.od(a),null==b?this.Ll("currentItem",null):null!=this.ba||this.Vi(g(b))||this.zC(g(b),null)),this.Ng().hasClass("oj-focus-ancestor")&&null==this.ba&&null==a&&this.Loa(),this.Yaa&&null==
this.Ey||this.lO());this.Yi("ready",null,{})},iZa:function(a,b){this.rF||this.gc("waiting for scroll handler");this.rF=!0;a.scrollTop=b;this.c5()},qta:function(c,b){this.rF||this.gc("waiting for scroll handler");this.rF=!0;a.Q.fY(c,b)},FS:function(c){return a.Q.EW(c)},lO:function(a){var b,d,e,f,g;b=this.cl();if(b.scrollHeight!=b.clientHeight){if(this.KZ()&&(null!=this.Ey?a=this.Ey:void 0===a&&(a=this.pc("scrollPosition")),d=this.yPa(a),e=d.x,f=d.y,isNaN(e)&&isNaN(f))){null!=this.Ey&&(this.Ll("scrollPosition",
this.cS(g),{_context:{originalEvent:null,Sa:!0}}),this.Yb(),this.Ey=null);return}void 0===d&&(f=this.pc("scrollTop"));g=b.scrollTop;if(!isNaN(e)&&isNaN(f)||!isNaN(e)&&f==g&&e!=this.FS(b,e))this.qta(b,e),a=this.pc("scrollPosition"),e=this.FS(b),b={x:e,y:a.y,index:a.index,key:a.key,offsetX:e,offsetY:a.offsetY},a.parent&&(b.parent=a.parent),this.Ll("scrollPosition",b,{_context:{originalEvent:null,Sa:!0}});else if(f!=g){this.iZa(b,f);isNaN(e)||e==this.FS(b,e)||this.qta(b,e);g=b.scrollTop;if(1<=Math.abs(g-
f)&&this.Qc.fy&&this.Qc.fy()){null==this.Ey&&this.gc("Scroll position needs to resolve further");this.Ey=a;return}this.Ll("scrollPosition",this.cS(g),{_context:{originalEvent:null,Sa:!0}})}else a&&(null==a.key||isNaN(a.index))&&this.Ll("scrollPosition",this.cS(g),{_context:{originalEvent:null,Sa:!0}});null!=this.Ey&&(this.Yb(),this.Ey=null)}},w6a:function(){var a=this.pc("currentItem");null!=a&&(a=this.od(a),null==a||this.Vi(g(a))||this.zC(g(a),null))},qH:function(){this.wX=this.MG=null},qz:function(c,
b,d){null==d&&(d=this.Tx(b));return a.ca.Li(c,b,d,this.ea)},Qza:function(a,b,d){if(this.UO(g(b.target)))return!1;a=g(b.target).closest("."+this.vf());this.yda(a);0<a.length&&!this.Vi(g(a[0]))&&this.st(g(a[0]),null);a=this.element;2===b.button?a=this.mh(g(b.target)):null!=this.ba&&(a=this.ba.elem);a={launcher:a,initialFocus:"menu"};"keyboard"===d&&(a.position={my:"start top",at:"start bottom",of:this.ba.elem});this.ea.mi(b,d,a)},yda:function(){null!=this.Kf&&this.Kf.fAa(this.ea.co())},eda:function(a){return null!=
a.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},UO:function(a){for(;null!=a&&a[0]!=this.element[0]&&"LI"!=a.prop("nodeName");){if(3!=a[0].nodeType){var b=a.attr("tabIndex"),d=a.attr("data-oj-tabindex");if(null!=b&&0<=b&&!a.hasClass(this.Qo())&&!a.hasClass("oj-listview-cell-element")||this.eda(a)&&(-1!=b||-1!=d))return!0}a=a.parent()}return!1},zJ:function(a,b){var d,e;d=g(a);d.hasClass(this.wf())||(d=g(d.get(0).firstElementChild));d.children().first().hasClass("oj-listview-cell-element")&&
(d=g(d.get(0).firstElementChild));d.find("a, input, select, textarea, button, object, .oj-component-initnode, [tabIndex]").each(function(){g(this).removeAttr("data-first").removeAttr("data-last");e=parseInt(g(this).attr("tabIndex"),10);!(isNaN(e)||0<=e)||void 0!==b&&this==document.activeElement||g(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(e)?-1:e)})},cMa:function(a){var b,d;b=this.Hr();a=b.index(a);for(d=0;d<=a;d++)this.zJ(b[d],!0)},bMa:function(a){var b;b=this.Hr();a=b.index(a);if(-1!=a)for(;a<=
b.length-1;a++)this.zJ(b[a],!0)},LMa:function(a){var b;a=g(a).find("[data-tabmod]").each(function(){b=parseInt(g(this).attr("data-tabmod"),10);g(this).removeAttr("data-tabmod");-1==b?g(this).removeAttr("tabIndex"):g(this).attr("tabIndex",b)});a=a.filter(":visible");a.first().attr("data-first","true");a.last().attr("data-last","true")},KJa:function(a){g(a).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},Vi:function(a){return a.hasClass("oj-skipfocus")},
K5:function(a){return void 0===a.relatedTarget||null!=a.relatedTarget&&g.contains(this.ea.element.get(0),a.relatedTarget)?!0:!1},lt:function(a){var b;this.Ng().addClass("oj-focus-ancestor");null==this.ba?(b=this.mh(g(a.target)),this.xy||this.K5(a)||null!=b&&!this.Vi(b)||this.Loa(a)):(this.xy||a.target!==this.ea.element[0]||this.K5(a)||(this.MC(),this.MJ(this.ba.elem)),this.MH(),this.b8(this.ba.elem))},Loa:function(a){var b,d,e;b=this.Hr();for(d=0;d<b.length;d++)if(e=g(b[d]),!this.Vi(e)){this.st(e,
a);break}},oCa:function(a){this.kt(a)},XZa:function(){var c=a.Ja.rl();return c.browser==a.Ja.Ag.HC&&48>parseInt(c.browserVersion,10)?!1:!0},wTa:function(c){var b=a.Ja.rl();return null==c.relatedTarget&&b.browser==a.Ja.Ag.gz&&c.target==this.ea.element.get(0)?!0:!1},kt:function(a){this.XZa()&&!this.wTa(a)&&(this.K5(a)||this.xy||(this.Ng().removeClass("oj-focus-ancestor"),this.SH(),null!=this.ba&&(this.w7(this.ba.elem),this.Rra(this.ba.elem)),this.mP()),this.wT(a.target)&&this.fj(g(a.target)))},VS:function(a){a=
this.kp(a.target);null!=a&&(this.Laa=null,this.Qu(a,"oj-hover"))},Y4:function(a){this.mra()||(a=this.kp(a.target),null==a||this.Vi(a)||(this.Laa=a,this.kT(a,"oj-hover")))},mra:function(){return 500>Date.now()-this.hUa},BH:function(a){var b,d;if(this.yG()&&(b=a.keyCode,b===this.Ve||b===this.Of))if(d=this.ba.elem,b===this.Ve){if(this.Si(d)==this.pp){this.Qv(d,a,!0,this.ba.key,!0,!0);return}}else if(this.Si(d)==this.np){this.$y(d,a,!0,this.ba.key,!0,!0,!0);return}b=this.bda(a);null!=this.Kf&&(b=b||this.Kf.BH(a));
!0===b&&a.preventDefault();this.qza=b},pCa:function(a){a.keyCode==this.FO&&this.qza&&a.stopPropagation();this.qza=void 0},Yna:function(a){this.gC&&this.Qu(this.gC,"oj-focus");null!=this.Kf&&this.Kf.Kua(g(a.target))},QO:function(a){var b,d;d=g(a.target);null!=this.Kf&&this.Kf.Usa(d);b=this.mh(d,!0);null!=b&&this.cpa(b)&&(this.xy=!0,b=null);null==b||0==b.length||this.Vi(b)||d.hasClass("oj-listview-drag-handle")||(this.xy=!0,this.Ng().hasClass("oj-focus-ancestor")||this.Ng().addClass("oj-focus-ancestor"),
this.gC=b,this.kT(b,"oj-focus"),this.f6(b),b.get(0).contains(document.activeElement)||this.MJ(b),this.MH(),null!=this.ba&&this.w7(this.ba.elem),a.originalEvent.touches&&0<a.originalEvent.touches.length&&(this.GX={x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}))},DH:function(a){var b,d;null!=this.gC&&(this.Qu(this.gC,"oj-focus"),null!=this.GX&&(b=this.gC.offset(),d=this.Tx("pointerUp"),d.offsetX=this.GX.x-b.left+"px",d.offsetY=this.GX.y-b.top+"px",b=this.gC.children("."+
this.sg()),b=0<b.length?b.get(0):this.Hf(this.gC).get(0),this.qz(b,"pointerUp",d),this.GX=null));this.hUa=Date.now();this.VS(a)},GJ:function(){var a;a=this.ba.elem;this.zJ(a);this.LMa(a);0<a.find("[data-first]").length&&this.Isa(!0)},Hw:function(){this.Isa(!1);this.zJ(this.ba.elem)},nZ:function(a){var b,d,e,f;0===a.button&&(b=this.qq(),d=this.Yx(),e=this.sg(),f=g(a.target),f.hasClass(d)?(this.qi(a),a.preventDefault()):f.hasClass(b)?(this.ze(a),a.preventDefault()):(b=this.mh(f),null==b||0==b.length||
this.Vi(b)||(this.bpa()&&null!=this.ba&&this.ba.elem.get(0)!=b.get(0)&&this.Hw(),this.Ng().hasClass("oj-focus-ancestor")||this.Ng().addClass("oj-focus-ancestor"),this.bd()&&this.Nm(b[0])?(this.Ho()?this.eSa(b,a):this.nCa(b,a),this.pz()&&a.target==b.get(0)&&this.MJ(b),this.TU()&&this.Kf.R6a()):this.$ca(b,a),this.BTa(f.get(0))?this.GJ():this.yG()&&f.closest("."+e)&&(this.Si(b)==this.np?this.ze(a):this.Si(b)==this.pp&&this.qi(a)))))},TU:function(){return null!=this.Kf&&!this.Kf.iY()},Ho:function(){return a.Q.qe()},
ITa:function(){return this.Ho()&&a.Ja.rl().os!=a.Ja.Jl.cea},g2:function(c){return a.Q.Ks(c)},Xt:function(a){return[this.element.attr("id"),a].join(":")},kp:function(a){return g(a).closest("."+this.vf())},cpa:function(a){return a.hasClass("oj-clickthrough-disabled")},mh:function(a,b){for(var d=a;0<d.length;){if(this.cpa(d)){if(b)return d;break}if(d.hasClass(this.vf()))return d;d=d.parent()}return null},nma:function(){null==this.Tya&&(this.Tya=parseInt(this.Ng().css("border-top-width"),10)+parseInt(this.Ng().css("border-bottom-width"),
10));return this.Tya},scrollToItem:function(a){a=a.key;null!=a&&(a=this.od(a),null!=a&&(g(a).hasClass(this.wf())?this.HU(a):(a=g(a).children("."+this.sg()).first(),this.G7(a.get(0)))))},HU:function(a){var b,d,e,f,h,k,l=0;b=a.offsetTop;d=a.offsetHeight;a=this.Ng()[0];e=a.scrollTop;f=a.offsetHeight;null!=this.Ji&&(h=parseInt(this.Ji.style.top,10),k=g(this.Ji).outerHeight(),b<=h&&h<b+d?l=(d+b-h)/2:b>=h&&b<h+k&&(l=(h+k-b)/2));b>=e&&b+d<=e+f?0<l&&(a.scrollTop=e-l):(b=Math.max(0,Math.min(b-l,Math.abs(b+
d-f))),b>e&&(b+=this.nma()),a.scrollTop=b)},ve:function(a){return this.Qc.ve(a)},od:function(a){var b;return null!=this.cC&&(b=this.cC.get(a),null!=b)?document.getElementById(b):this.Qc.od(a)},OO:function(c,b){var d;for(d=0;d<c.length;d++)if(b==c[d]||a.f.Bb(b,c[d]))return d;return-1},wT:function(a){return g(a).hasClass(this.Yx())||g(a).hasClass(this.qq())},NC:function(a){return this.Xg()?a==this.Qk||a==this.Ik||a==this.Ve||a==this.Of:a==this.Qk||a==this.Ik},Hr:function(){var a,b,d;null==this.MG&&
(a=this.MB(),b="."+this.vf()+":visible",this.MG=this.element.find(b).filter(function(){return(d=g(this).parent().hasClass(a))?!g(this).parent().parent().hasClass("oj-collapsed"):!0}));return this.MG},vRa:function(a){var b=a.get(0).nextElementSibling;null!=b&&g(b).hasClass(this.vf())||this.Qc.Fj()&&a.parent().hasClass(this.Vg())&&null!=a.parent().parent().get(0).nextElementSibling||(a=this.cl(),a.scrollTop<a.scrollHeight&&(a.scrollTop=a.scrollHeight))},fz:function(a,b,d){var e,f;if(!this.Qc.Vv())return!0;
e=!b||this.uy?this.ba.elem:this.ge;f=!1;switch(a){case this.Qk:this.Xg()&&g(e).hasClass(this.wf())?this.aQa(e,b,d):this.D4(e,b,d);f=!0;break;case this.Ik:this.Xg()&&g(e).hasClass(this.wf())?this.bQa(e,b,d):this.C4(e,b,d);f=!0;break;case this.Ve:case this.Of:this.Xg()&&("rtl"==this.ea.Wc()&&(a=a==this.Ve?this.Of:this.Ve),a==this.Ve?this.D4(e,b,d):this.C4(e,b,d),f=!0)}return f},C4:function(a,b,d){var e,f;e=this.Hr();a=e.index(a);a++;if(a<e.length){for(f=g(e[a]);this.Vi(f);){a++;if(a==e.length)return;
f=g(e[a])}b?(this.fE(f,d),this.uy=!1):(this.st(f,d),this.uy=!0);this.vRa(f)}},D4:function(a,b,d){var e,f;e=this.Hr();a=e.index(a);a--;if(0<=a){for(f=g(e[a]);this.Vi(f);){a--;if(0>a)return;f=g(e[a])}b?(this.fE(f,d),this.uy=!1):(this.st(f,d),this.uy=!0)}},vla:function(a){var b,d,e;a.each(function(a){d=this.offsetTop;if(void 0===e)e=d;else if(e!=d)return!1;b=a});return b+1},Tua:function(a,b){var d,e;d=this.Xt("extra_info");null==this.xza&&(e=g(document.createElement("div")),e.addClass("oj-helper-hidden-accessible").attr("id",
d),this.Ng().append(e),this.xza=e);this.xza.text(this.ea.T("accessibleNavigateSkipItems",{numSkip:b}));e=this.Hf(a);e.uniqueId().attr("aria-labelledby",d+" "+e.prop("id"))},Rra:function(a){a=this.Hf(a);0<a.length&&a.get(0).removeAttribute("aria-labelledby")},aQa:function(a,b,d){var e,f,h,k,l,m;a.hasClass(this.wf())?(e=a.parent(),f=e.children("li."+this.wf()),h=this.vla(f),a=f.index(a),k=a-h,0>k?e.hasClass(this.Vg())&&(l=e.parent(),m=a):(l=g(f.get(k)),m=h-1),0<l.length&&!this.Vi(l)&&(b?(this.fE(l,
d),this.uy=!1):(void 0!=m&&0<m&&this.Tua(l,m),this.st(l,d),this.uy=!0))):this.D4(a)},bQa:function(a,b,d){var e,f,h,k,l,m;a.hasClass(this.wf())?(e=a.parent(),f=e.children("li."+this.wf()),h=this.vla(f),a=f.index(a),k=a+h,k>=f.length?(k=Math.ceil(f.length/h),m=f.length-1-a,a<Math.max(0,(k-1)*h)?(l=f.last(),m--):e.hasClass(this.Vg())&&(l=e.parent().next("li."+this.vf()))):(l=g(f.get(k)),m=h-1),0<l.length&&!this.Vi(l)&&(b?(this.fE(l,d),this.uy=!1):(void 0!=m&&0<m&&this.Tua(l,m),this.st(l,d),this.uy=!0))):
this.C4(a)},bpa:function(){return"actionable"==this.pza},Isa:function(a){this.pza=a?"actionable":"navigation";a||this.element[0].focus()},N7a:function(){return this.az},Hf:function(a){var b;return a.hasClass(this.Qo())?this.pz()&&"row"==a.attr("role")?(b=a.children(".oj-listview-cell-element").first(),0==b.length?a.children().first():b):a:g(a.find("."+this.Qo()).first())},mP:function(){this.element.attr("tabIndex",0)},MH:function(){this.element.removeAttr("tabIndex")},b8:function(a){this.Hf(a).attr("tabIndex",
0)},w7:function(a){var b;b=!0;"presentation"===a.attr("role")&&(b=!1);a=this.Hf(a);b?a.removeAttr("tabIndex"):a.attr("tabIndex",-1)},f6:function(a){this.az===this.az?this.b8(a):this.DDa(a)},mG:function(a){var b;b=a.children("a, input, select, textarea, button");return 1===b.length&&0===b.first().find("a, input, select, textarea, button").length?b.first():a},Qsa:function(a,b,d){d={item:this.ea.$()?d:g(d)};this.Ll("currentItem",a,{_context:{originalEvent:b,Sa:!0,oq:d},changed:!0})},td:function(a,b,
d){var e,f,g;if(null!=a){e=a[0];f=this.ve(e);if(null==this.ba||f!=this.ba.key){e={key:f,item:a};null!=this.ba&&(e.previousKey=this.ba.key,e.previousItem=this.ba.elem,this.TU()&&this.Ho()&&this.Kf.Kua(e.previousItem),this.Rra(e.previousItem));if(g=!this.Yi("beforeCurrentItem",b,e))return!1;this.ba=f={key:f,elem:a};this.TU()&&this.Ho()&&this.Kf.Usa(a);void 0!==d&&d||(this.f6(a),this.MC(),(null==b||b.originalEvent&&"click"!=b.originalEvent.type)&&this.MJ(a),this.MH(),e.previousItem&&this.w7(e.previousItem));
return!0}f==this.ba.key&&(this.ba=f={key:f,elem:a},void 0!==d&&d||(this.f6(a),this.MH()))}else this.ba=null;return!1},MJ:function(a){this.az==this.az&&this.Hf(a).focus()},MC:function(){var a;null!=this.ba&&this.Ng().hasClass("oj-focus-ancestor")&&(a=this.ba.elem,this.kT(a,"oj-focus"))},SH:function(){null!=this.ba&&this.Qu(this.ba.elem,"oj-focus")},$ca:function(a,b){var d=null!=this.ba?this.ba.elem.get(0):null;null==d||g(d).hasClass(this.wf())||(d=d.firstElementChild);null!=b&&null!=d&&d!=b.target&&
d.contains(b.target)||this.st(a,b,this.pz()?b.target!=a.get(0):!0)},st:function(a,b,d){this.zC(a,b,d)&&this.Qsa(this.ve(a[0]),b,a.get(0))},zC:function(a,b,d){var e=!1;this.HU(a[0]);this.SH();e=this.td(a,b,d);this.MC();return e},jwa:function(){var a;this.bd()&&this.NK()&&(a=this.pc("selection"),null!=a&&0!=a.length||this.Csa())},uOa:function(){var a=this.element[0].querySelector(".oj-listview-cell-element[aria-selected]");return null==a?null:a.parentNode},Csa:function(){var a,b;if(a=this.uOa())b=this.Qc.ve(a),
this.Rz(a,b),this.gs([b],null,[a])},bd:function(){return"none"!=this.pc("selectionMode")},NK:function(){return this.pc("selectionRequired")},Ur:function(){return"multiple"==this.pc("selectionMode")},Nm:function(a){a=this.Hf(g(a)).get(0);return a.hasAttribute("aria-selected")},gNa:function(a){var b,d,e;b=[];for(d=0;d<a.length;d++)if(e=this.od(a[d]),null==e||null!=e&&this.Nm(e))if(b.push(a[d]),!this.Ur())break;return b},gs:function(c,b,d){var e,f={key:null,data:null};e=this.pc("firstSelectedItem");
null==e||(null!=c&&0!=c.length||null==e.key)&&(c[0]==e.key||a.f.Bb(c[0],e.key))||(null!=c&&0<c.length&&(f={key:c[0],data:this.getDataForVisibleItem({key:c[0]})}),this.Ll("firstSelectedItem",f,{_context:{originalEvent:b,Sa:!0},changed:!0}));d={items:this.ea.$()?d:null==d?g({}):g(d)};this.Ll("selection",c,{_context:{originalEvent:b,Sa:!0,oq:d},changed:!0})},B_a:function(){var a,b;null!=this.cC&&(a=this,g.each(this.pc("selection"),function(d,e){b=a.od(e);null!=b&&a.Qu(b,"oj-selected")}))},kT:function(a,
b){this.EH(a,b,!0)},Qu:function(a,b){this.EH(a,b,!1)},EH:function(a,b,d){var e;a=g(a);"oj-selected"==b&&this.Hf(a).attr("aria-selected",d?"true":"false");e=a.children("."+this.sg());0<e.length&&(a=g(e[0]));"oj-focus"===b?d?"actionable"!=this.pza&&this.Uj(a):this.fj(a):d?a.addClass(b):a.removeClass(b)},nCa:function(a,b){var d,e;this.HU(a[0]);d=this.g2(b);e=b.shiftKey;this.Ur()?d||e?!d&&e?this.fE(a,b):this.b1(a,b):this.NH(a,b):this.NH(a,b)},eSa:function(a,b){this.Ur()?b.shiftKey?this.fE(a,b):this.b1(a,
b):this.NH(a,b)},Xk:function(a){this.B_a();a&&(this.NK()?this.Csa():this.gs([],null,null));this.ge=null},NH:function(a,b){this.Xk(!1);this.b1(a,b,[])},fE:function(a,b){var d;null!=this.ba&&(d=this.ge,d!=a&&(this.Qu(a,"oj-focus"),this.Eka(this.ba.elem,a,b)))},Eka:function(a,b,d){this.Xk(!1);this.ge=b;this.vSa(a,b,d);this.MC();this.HU(b[0])},vSa:function(a,b,d){var e,f,g,k,l;e=[];f=[];g=this.Hr();a=g.index(a);k=g.index(b);a>k?b=k:(b=a,a=k);for(;b<=a;b++)k=g[b],this.Nm(k)&&(l=this.Qc.ve(k),this.Rz(k,
l),e.push(l),f.push(k));this.gs(e,d,f)},Rz:function(c,b){null==this.cC&&(this.cC=new a.VO);this.cC.set(b,g(c).attr("id"));this.kT(c,"oj-selected")},b1:function(a,b,d){var e,f;f=!1;e=this.ve(a[0]);void 0==d&&(d=this.pc("selection").slice(0));f=null!=this.ba?this.ba.elem.get(0):null;null==f||g(f).hasClass(this.wf())||(f=f.firstElementChild);null==b||null!=f&&f!=b.target&&f.contains(b.target)||(this.SH(),(f=this.td(a,b))&&this.Qsa(e,b,a.get(0)),this.MC());f=null!=this.ba?this.ba.elem.get(0):null;if(null==
f||f!=a.get(0))null!=d&&0==d.length&&this.gs(d,b,[]);else{f=this.OO(d,e);-1<f?(this.Qu(a,"oj-selected"),d.splice(f,1)):(this.ge=a,this.Rz(a,e),d.push(e));a=Array(d.length);for(e=0;e<d.length;e++)a[e]=this.od(d[e]);this.gs(d,b,a)}},pP:function(a,b,d){var e,f,g,k;e=this.pc("selection").slice(0);f=this.ba.elem;g=this.ba.key;k=this.OO(e,g);if(-1<k){if(d||1==e.length&&this.NK())return;this.Qu(f,"oj-selected");e.splice(k,1);0==e.length&&(this.ge=null)}else this.Nm(f[0])&&(b||(this.Xk(!1),e.length=0),this.ge=
f,this.Rz(f,g),e.push(g));b=Array(e.length);for(d=0;d<e.length;d++)b[d]=this.od(e[d]);this.gs(e,a,b)},BTa:function(a){return null!=a.nodeName.match(/^INPUT|SELECT|OPTION|TEXTAREA/)&&!a.readOnly},bda:function(a){var b,d,e,f=!1;if(null==this.ba)return!1;b=a.keyCode;d=this.ba.elem;this.bpa()?b==this.FO?(this.Hw(),this.MC(),this.MJ(d),this.b8(d),f=!0):b===this.nP&&(b=d.find("[data-first]"),d=d.find("[data-last]"),a.shiftKey?0<b.length&&0<d.length&&b!=d&&a.target==b[0]&&(d[0].focus(),f=!0):0<b.length&&
0<d.length&&b!=d&&a.target==d[0]&&(b[0].focus(),f=!0)):b==this.WY?(this.GJ(),b=d.find("[data-first]"),0<b.length&&(b[0].focus(),this.wT(b)&&this.Uj(b),d.hasClass(this.wf())||(d=d.children("."+this.sg()).first()),d.removeClass("oj-focus-highlight"))):b==this.GZ&&this.bd()?(d=this.g2(a),(e=a.shiftKey)&&!d&&null!=this.ge&&this.Ur()?this.Eka(this.ge,this.ba.elem,a):this.pP(a,d&&!e&&this.Ur(),!1),f=!0):b==this.SY&&this.bd()?this.pP(a,!1,!0):this.NC(b)?(d=this.g2(a),e=a.shiftKey,d||(f=this.fz(b,e&&this.bd()&&
this.Ur(),a))):b===this.nP&&(a.shiftKey?this.cMa(d):this.bMa(d));return f},ipa:function(a){return a&&this.sy?-1<this.sy.indexOf(a):!1},MU:function(a,b){var d;if(null!=a)if(null==this.sy&&(this.sy=[]),b)this.sy.push(a);else for(d=this.sy.indexOf(a);-1<d;)this.sy.splice(d,1),d=this.sy.indexOf(a)},Tx:function(c){var b;null==this.kq&&(this.kq=a.ic.ad(this.A$()));b=this.kq.animation;return null==b?null:b[c]},yG:function(){return"none"!=this.pc("drillMode")},GE:function(){var a=this.pc("expanded");if("auto"===
a){if(!this.yG())return!0}else if("all"===a)return!0;return!1},V9:function(a,b,d,e,f){var h=this.od(a);null!=h&&this.$y(g(h),null,f,a,b,e,d)},ze:function(a){var b=this.kp(a.target);null!=b&&0<b.length&&this.$y(b,a,!0,null,!0,!0,!0)},$y:function(a,b,d,e,f,g,k){var l;if(this.Si(a)==this.np&&(null==e&&(e=this.ve(a[0])),!d||!this.ipa(e))){l={item:a,key:e};if(k&&(k=!this.Yi("beforeExpand",b,l))&&f)return;this.gc("Expand item: "+e);d&&this.MU(e,!0);this.Qc.GC(a,function(a){this.XMa(a,d,b,l,g)}.bind(this));
this.MG=null;null!=b&&b.stopPropagation();null!=this.ur&&(a=this.ur.indexOf(e),-1!=a&&this.ur.splice(a,1));this.Yb()}},XMa:function(a,b,d,e,f){var h,k,l,m=this;this.gc("Handle results from successful expand");a.key=e.key;b=this.GY(g(a),b,d);a=a.parentNode;a=g(a);this.oz(a,this.pp);h=this.qq();k=this.Yx();l=this.sg();a.children("."+l).find("."+h+", .oj-listview-expanding-icon").removeClass(h).removeClass("oj-listview-expanding-icon").addClass(k);f&&b.then(function(){m.Yi("expand",d,e)});b.then(function(){m.Yb()})},
uha:function(a,b){var d;a.parentsUntil("ul.oj-component-initnode","ul."+this.Vg()).each(function(){d=parseInt(g(this).css("maxHeight"),10);0<d&&g(this).css("maxHeight",d+b+"px")})},GY:function(a,b){var d=0,e,f,h=this,k;e=new Promise(function(b){f=b});b?(this.gc("Animate expand of group item"),a.children().each(function(){d+=g(this).outerHeight(!0)}),this.Ho()&&this.uha(a,d),a.css("maxHeight",d+"px"),this.gc("Kick off expand animation"),k=a.get(0),k=this.qz(k,"expand"),k.then(function(){h.NQa(a,f)}),
this.Yb()):(this.Ho()?(a.children().each(function(){d+=g(this).outerHeight(!0)}),a.css("maxHeight",d+"px"),this.uha(a,d)):a.css("maxHeight",""),this.HY(a),f(null));return e},NQa:function(a,b){this.Ho()||a.css("maxHeight","");this.HY(a);b(null);this.Yb()},HY:function(a){a.removeClass(this.MB()).addClass(this.cG());this.MU(a[0].key,!1)},Fva:function(a,b,d,e){var f=this.od(a);null!=f&&this.Qv(g(f),null,e,a,b,d)},qi:function(a){var b=this.kp(a.target);null!=b&&0<b.length&&this.Qv(b,a,!0,null,!0,!0)},
Qv:function(a,b,d,e,f,g){var k,l,m=this;this.Si(a)==this.pp&&(null==e&&(e=this.ve(a[0])),d&&this.ipa(e)||(k={item:a,key:e},l=!this.Yi("beforeCollapse",b,k),l&&f||(this.gc("Collapse item: "+e),d&&this.MU(e,!0),l=this.EY(a,e,d,b),this.oz(a,this.np),d=this.qq(),f=this.Yx(),a.find("."+f).first().removeClass(f).addClass(d),this.MG=null,null!=b&&b.stopPropagation(),g&&l.then(function(){m.Yi("collapse",b,k)}),void 0==this.ur&&(this.ur=[]),-1==this.ur.indexOf(e)&&this.ur.push(e),l.then(function(){m.Yb()}))))},
EY:function(a,b,d){var e=0,f,h,k,l=this;h=new Promise(function(b){k=b});f=a.children("ul").first();f[0].key=b;d?(this.gc("Animate collapse"),f.children().each(function(){e+=g(this).outerHeight()}),f.css("maxHeight",e+"px"),a=this.Tx("collapse"),a.persist="all",this.gc("Kick off collapse animation"),b=f.get(0),a=this.qz(b,"collapse",a),a.then(function(){l.qQa(f,k)}),this.Yb()):(f.css("maxHeight","0px"),this.FY(f),k(null));return h},qQa:function(a,b){this.FY(a);b(null);this.Yb()},FY:function(a){a.removeClass(this.cG()).addClass(this.MB());
null!=this.Qc&&this.Qc.CC(a);this.MU(a[0].key,!1)},fKa:function(){var a;this.gc("Collapse all");a=this;this.Hr().each(function(){a.Qv(g(this),null,!1,null,!1,!1)});this.Yb()},getExpanded:function(){var a,b,d;a=[];b=this;this.Hr().each(function(){d=g(this);b.Si(d)==b.pp&&a.push(b.ve(d[0]))});return a},jN:function(){return a.Components.qd(this.element)},Oca:function(){return this.ITa()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},zH:function(){return"oj-listview-element"},
wf:function(){return"oj-listview-item"},Qo:function(){return"oj-listview-focused-element"},vf:function(){return"oj-listview-item-element"},sg:function(a){return a&&this.S5()&&this.T5()?"oj-listview-group-item oj-sticky":"oj-listview-group-item"},Vg:function(){return"oj-listview-group"},cG:function(){return"oj-listview-collapsible-transition"},MB:function(){return this.cG()},qq:function(){return"oj-listview-collapse-icon"},Yx:function(){return"oj-listview-expand-icon"},W9a:function(){return"oj-listview-expanding-icon"},
aG:function(){return"oj-listview-no-data-message"},Swa:function(){return"oj-listview-empty-text"},o$:function(){return""},A$:function(){return"oj-listview-option-defaults"},T5:function(){return this.Ho()&&a.Ja.rl().os===a.Ja.Jl.TO},RVa:function(a,b){var d=b.originalEvent.wheelDelta;isNaN(d)||void 0===this.Qc.fy||(0>d?this.Qc.fy()&&a.scrollTop+a.clientHeight+Math.abs(d)>=a.scrollHeight&&(a.scrollTop=a.scrollHeight,b.preventDefault()):0<a.scrollTop&&0>=a.scrollTop-d&&(a.scrollTop=0,b.preventDefault()))},
ES:function(){var a=this.cl();return a==document.body||a==document.documentElement?window:a},uYa:function(c){var b=!0,d,e,f=this;(d=c.key)&&null==this.od(d)&&this.Qc instanceof a.Hb&&(e=this.Qc.Gb,e.containsKeys&&(b=new Set,b.add(d),e.containsKeys({keys:b}).then(function(b){0==b.results.size&&delete c.key;f.lO(c)}),b=!1));b&&this.lO(c)},jNa:function(a,b,d){var e,f,g,k,l,m=!1;if(!(0==a.length||b>=a.length)){e=a[b];f=e.offsetTop;g=d-f;k={index:b,elem:e,offsetTop:f,offset:g};if(1>Math.abs(g))return k;
for((l=0<g)?b++:b--;!m&&0<=b&&b<a.length;){e=a[b];f=e.offsetTop;g=Math.abs(d-f);if(m=1>g||(l?d<=f:d>=f)){if(1>g||!l)k={index:b,elem:e,offsetTop:f,offset:g};break}l&&k.offsetTop==f||(k={index:b,elem:e,offsetTop:f,offset:g});l?b++:b--}m||(b=l?a.length-1:0,k.index=b,k.elem=a[b]);return k}},Yma:function(){return this.Xg()?this.element.get(0).firstElementChild.firstElementChild:this.element.get(0)},cS:function(a){var b,d={},e,f,h,k;b=this.cl();void 0===a&&(a=b.scrollTop);d.x=this.FS(b);d.y=a;b=this.Qc.Fj();
!isNaN(this.KG)&&0<this.KG&&(e=b?this.Hr():g(this.Yma()).children("li."+this.vf()),f=this.pc("scrollPosition"),h=Math.abs(f.y-a),h<this.BCa&&null!=f.key&&!isNaN(f.index)&&(b?(f=this.od(f.key),null!=f&&(k=e.index(f))):k=f.index),isNaN(k)&&(k=Math.floor(a/this.KG)),a=this.jNa(e,k,a),null!=a&&(f=a.elem,b?(b=f.parentNode,b!=this.element.get(0)&&(d.parent=this.ve(b.parentNode)),d.key=this.ve(a.elem),d.index=g(b).children().index(f)):(d.index=a.index,d.key=this.ve(a.elem)),d.offsetY=a.offset,d.offsetX=
d.x));return d},Jma:function(a){var b=this.element.get(0).offsetTop;return isNaN(this.Yya)||this.Yya==b?a.offsetTop:Math.max(0,a.offsetTop-b)},APa:function(a,b){var d;null!=b?(d=this.od(b),null!=d&&(d=g(d).children("ul").first())):(d=this.element.get(0),this.Xg()&&(d=d.firstElementChild.firstElementChild));if(null!=d&&(d=g(d).children("."+this.vf())[a],null!=d))return this.Jma(d);if(this.Qc.fy&&this.Qc.fy())return this.cl().scrollHeight},BPa:function(a){a=this.od(a);if(null!=a)return this.Jma(a);
if(this.Qc.fy&&this.Qc.fy())return this.cl().scrollHeight},yPa:function(a){var b,d,e,f;this.cl();b=a.x;e=a.offsetX;isNaN(b)||isNaN(e)||(b+=e);e=a.key;isNaN(d)&&null!=e&&(d=this.BPa(e));e=a.parent;f=a.index;isNaN(d)&&!isNaN(f)&&(d=this.APa(f,e));e=a.offsetY;isNaN(d)||isNaN(e)||(d+=e);isNaN(d)&&!isNaN(a.y)&&(d=a.y);return{x:b,y:d}},f5:function(a){var b;null!=this.Qc&&(b=this.cl().scrollTop,this.ea.$()||this.Ll("scrollTop",b,{_context:{originalEvent:a,Sa:!0}}),this.KZ()&&this.Ll("scrollPosition",this.cS(b),
{_context:{originalEvent:a,Sa:!0}}),this.c5())},Cra:function(){var a=this,b;b=g(this.ES());this.ea._off(b,"scroll mousewheel");this.ea._on(b,{scroll:function(b){a.rF||a.Yaa||(window.requestAnimationFrame(function(){a.f5(b);a.Yaa=!1}),a.Yaa=!0);a.rF&&a.Yb();a.rF=!1}});"loadMoreOnScroll"==this.options.scrollPolicy&&this.ea._on(b,{mousewheel:function(b){a.RVa(a.cl(),b)}})},S5:function(){return"static"!=this.pc("groupHeaderPosition")&&this.Qc.Fj()},bK:function(){var a;null==this.wX&&(a="."+this.sg()+
":visible",this.wX=this.element.find(a).filter(function(){return!g(this).parent().hasClass("oj-collapsed")&&0<g(this).next().children().length?!0:!1}));return this.wX},T8:function(a){g(a).removeClass("oj-pinned");a.style.top="auto";a.style.width="auto"},Ema:function(a){var b;b=this.bK();a=b.index(a);return-1<a&&a<b.length-1?b[a+1]:null},CVa:function(a,b){var d,e,f;d=a.offsetWidth;e=a.offsetHeight;f=this.Ema(a);null!=f&&f.offsetTop<=b+e+5&&(b-=e);g(a).addClass("oj-pinned");a.style.top=b+"px";a.style.width=
d+"px"},c5:function(){var a,b,d,e,f,g,k,l;if(this.S5()&&!this.T5())if(a=this.cl(),a=a.scrollTop,null!=this.Ji&&0==a)this.T8(this.Ji),this.Ji=null;else{d=this.bK();e=0;null!=this.Ji&&(e=this.Ji.offsetHeight);for(f=0;f<d.length;f++)if(g=d[f],this.Ji!=g&&(k=d[f].offsetTop,l=k+g.parentNode.offsetHeight,k<a&&l>a+e)){b=g;break}null!=b&&b!=this.Ji?(null!=this.Ji&&this.T8(this.Ji),this.CVa(b,a),this.Ji=b):null!=this.Ji&&(b=this.Ema(this.Ji),this.Ji.style.top=null!=b&&b.offsetTop<=a+e?b.offsetTop-e+"px":a+
"px")}},cl:function(){var a;a=this.pc("scrollPolicyOptions");return null!=a&&(a=a.scroller,null!=a)?a:this.Ng().get(0)},G7:function(a){var b,d,e;b=this.cl();d=b.scrollTop;null!=this.Ji&&(this.T8(this.Ji),this.Ji=null);e=a.offsetTop;this.S5()&&this.T5()&&e<d&&(e=Math.max(0,e-a.parentNode.offsetHeight+a.offsetHeight));b.scrollTop=e;d==b.scrollTop&&this.c5();this.FYa(a)},FYa:function(a){var b=this,d;g(a).next().children().each(function(){d=g(this);if(!b.Vi(d))return b.Ll("currentItem",this.key),!1})}});
o_("_ojListView",a.A6,a);a.ib("oj.ojListView",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{as:"",currentItem:null,data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:"auto",firstSelectedItem:{key:null,data:null},groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollPosition:{x:0,y:0},scrollTop:0,selection:[],selectionMode:"none",selectionRequired:!1,animateStart:null,
animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,paste:null,ready:null,reorder:null},rc:function(){this._super();this.qb()},qb:function(){var c={};c.element=this.element;c.wc=this.wc;c.ea=this;c=g.extend(this.options,c);this.ya=new a.A6;this.ya.Ro(c)},Pf:function(){this._super();var a=this;this.ya.Sk=function(b){return a.Sk(b)};this.ya.Rl=function(b){return a.Rl(b)};this.ya.NF()},Bp:function(){this._super();this.ya.$Aa()},Ap:function(){this._super();
this.ya.uAa()},_destroy:function(){this.ya.destroy();this._super()},li:function(a,b,d){this.ya.Qza(a,b,d)},_setOptions:function(a,b){var d=this.ya.dY(a,b);this._super(a,b);d?this.ya.refresh():this.ya.jwa()},_setOption:function(a,b,d){var e=!0;"selectionMode"==a?e="none"==b||"single"==b||"multiple"==b:"drillMode"==a?e="collapsible"==b||"none"==b:"scrollPolicy"==a?e="auto"==b||"loadMoreOnScroll"==b:"groupHeaderPosition"==a?e="static"==b||"sticky"==b:"firstSelectedItem"==a&&(e=!1);if(e)"selection"==
a?(d=this.ya.vW(b),d={_context:{oq:{items:this.$()?d:g(d)}}}):"currentItem"==a&&(d=this.ya.vW([b])[0],d={_context:{oq:{items:this.$()?d:g(d)}}}),this._super(a,b,d);else throw"Invalid value: "+b+" for key: "+a;},io:function(){this.ya.Ky()},Ih:function(){this.ya.Rza()},hr:function(){this.ya.SG()},widget:function(){return this.ya.tg()},refresh:function(){this._super();this.ya.refresh()},whenReady:function(){return this.ya.whenReady()},getNodeBySubId:function(a){return this.ya.getNodeBySubId(a)},getSubIdByNode:function(a){return this.ya.getSubIdByNode(a)},
getContextByNode:function(a){return this.ya.getContextByNode(a)},getDataForVisibleItem:function(a){return this.ya.getDataForVisibleItem(a)},expand:function(a,b){this.ya.V9(a,b,!0,!0)},collapse:function(a,b){this.ya.Fva(a,b,!0)},getExpanded:function(){return this.ya.getExpanded()},getIndexerModel:function(){null==this.wya&&a.Il&&(this.wya=new a.Il(this.ya));return this.wya},scrollToItem:function(a){this.ya.scrollToItem(a)},Pl:function(c,b,d){switch(c){case "currentItem":case "selection":return a.f.Bb(b,
d);default:return this._super(c,b,d)}}});a.J.Ua("oj-list-view","baseComponent",{properties:{as:{type:"string"},currentItem:{type:"any",writeback:!0},data:{},dnd:{type:"object",properties:{drag:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},drag:{},dragEnd:{},dragStart:{}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}}}},reorder:{type:"object",
properties:{items:{type:"string",enumValues:["disabled","enabled"]}}}}},drillMode:{type:"string",enumValues:["collapsible","none"]},firstSelectedItem:{type:"object",writeback:!0,readOnly:!0},groupHeaderPosition:{type:"string",enumValues:["sticky","static"]},item:{type:"object",properties:{focusable:{},renderer:{},selectable:{}}},scrollPolicy:{type:"string"},scrollPolicyOptions:{type:"object",properties:{fetchSize:{type:"number"},maxCount:{type:"number"},scroller:{}}},scrollPosition:{type:"object",
writeback:!0,properties:{x:{type:"number"},y:{type:"number"},offsetX:{type:"number"},offsetY:{type:"number"},key:{type:"any"},index:{type:"number"},parent:{type:"any"}}},selection:{type:"Array\x3cany\x3e",writeback:!0},selectionMode:{type:"string",enumValues:["none","single","multiple"]},selectionRequired:{type:"boolean"}},events:{animateEnd:{},animateStart:{},beforeCollapse:{},beforeCurrentItem:{},beforeExpand:{},collapse:{},copy:{},cut:{},expand:{},paste:{},reorder:{}},methods:{getContextByNode:{},
getDataForVisibleItem:{},getIndexerModel:{},scrollToItem:{}},extension:{Kj:"ul",Ya:"ojListView"}});a.J.register("oj-list-view",{metadata:a.J.getMetadata("oj-list-view")})});