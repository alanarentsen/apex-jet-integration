/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(){}function D(a,f,e){this.Init(a,f,e)}function E(){this.Init({alta:E.If})}function v(a){this.Init(a)}a.Sa=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Sa,a.$b);a.Sa.DM="vertical";a.Sa.Si=function(){return a.m.eb()};a.Sa.Nc=function(a,f,e,g){e=(e-a)*g;a=f-a;return 0==e||0==a?0:e/a};a.Sa.Ch=function(a,f,e,g){f=e*(f-a);return 0==f||0==g?a:f/g+a};a.Sa.newInstance=function(c,f,e){return new a.Sa(c,f,e)};a.Sa.EZ="seconds minutes hours days weeks months quarters years".split(" ");a.Sa.prototype.Init=
function(c,p,e){a.Sa.C.Init.call(this,c,p,e);this.Wja=new v;this.li=f.Pxa;this.cJ(!1,!1,!1,!1);this.iG=c.dR().dateToIsoWithTimeZoneConverter;this.ys={aHa:[a.I.Ja(a.I.pa,"DAY_SHORT_SUNDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_MONDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_TUESDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_WEDNESDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_THURSDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_FRIDAY",null),a.I.Ja(a.I.pa,"DAY_SHORT_SATURDAY",null),a.I.Ja(a.I.pa,"DAY_SUNDAY",null),a.I.Ja(a.I.pa,"DAY_MONDAY",null),
a.I.Ja(a.I.pa,"DAY_TUESDAY",null),a.I.Ja(a.I.pa,"DAY_WEDNESDAY",null),a.I.Ja(a.I.pa,"DAY_THURSDAY",null),a.I.Ja(a.I.pa,"DAY_FRIDAY",null),a.I.Ja(a.I.pa,"DAY_SATURDAY",null)],Eca:[a.I.Ja(a.I.pa,"MONTH_SHORT_JANUARY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_FEBRUARY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_MARCH",null),a.I.Ja(a.I.pa,"MONTH_SHORT_APRIL",null),a.I.Ja(a.I.pa,"MONTH_SHORT_MAY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_JUNE",null),a.I.Ja(a.I.pa,"MONTH_SHORT_JULY",null),a.I.Ja(a.I.pa,"MONTH_SHORT_AUGUST",null),
a.I.Ja(a.I.pa,"MONTH_SHORT_SEPTEMBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_OCTOBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_NOVEMBER",null),a.I.Ja(a.I.pa,"MONTH_SHORT_DECEMBER",null),a.I.Ja(a.I.pa,"MONTH_JANUARY",null),a.I.Ja(a.I.pa,"MONTH_FEBRUARY",null),a.I.Ja(a.I.pa,"MONTH_MARCH",null),a.I.Ja(a.I.pa,"MONTH_APRIL",null),a.I.Ja(a.I.pa,"MONTH_MAY",null),a.I.Ja(a.I.pa,"MONTH_JUNE",null),a.I.Ja(a.I.pa,"MONTH_JULY",null),a.I.Ja(a.I.pa,"MONTH_AUGUST",null),a.I.Ja(a.I.pa,"MONTH_SEPTEMBER",null),a.I.Ja(a.I.pa,"MONTH_OCTOBER",
null),a.I.Ja(a.I.pa,"MONTH_NOVEMBER",null),a.I.Ja(a.I.pa,"MONTH_DECEMBER",null)]};this.Ff=new E};a.Sa.prototype.ne=function(a){this.J=this.Ff.mo(a)};a.Sa.prototype.gv=function(a){this.Oo=new F;return this.Oo.parse(a)};a.Sa.prototype.lp=function(c){var f=c.orientation;this.Ic=f&&f==a.Sa.DM?!0:!1;this.Nwa(this.Ic);this.JB=c.Q6;this.OD=c.ULa?c.ULa.reverse():[c.scale];this.ND=c.W6;this.wh=c.dI;this.St=c.cI;this.Va=c.start;this.ob=c.end;this.UO=c.qy;this.$c=c.scale;this.Qt=c.era;this.zu()};a.Sa.prototype.Qz=
function(a,f){if("undefined"===typeof f||null===f)f=this.Wd;this.Bc=f<a?a:f};a.Sa.prototype.cg=function(){return a.m.ea(this.a)};a.Sa.prototype.Ea=function(){return this.Ic};a.Sa.prototype.ia=function(a,f,e){a&&(this.Oa=f,this.cb=e,this.XEa(),this.T4(a,this.Wd));this.eB(f,e);this.ml()};a.Sa.prototype.T4=function(a,f){this.ne(a);this.Lk=this.J._resources;null==this.Lk&&(this.Lk=[]);this.qx=this.J._locale?this.J._locale:"en-US";var e=this.Lk.firstDayOfWeek;null==e&&(e=0);this.Wja.Y7a(e);this.iG||(this.iG=
this.a.dR().dateToIsoWithTimeZoneConverter);e=this.gv(this.J);this.lp(e);this.$c&&this.C6a(this.Va,this.ob,f);return this.Bc};a.Sa.prototype.Vp=function(){var c=this.$c&&-1!=a.Y.ac(a.Sa.EZ,this.$c),f=this.$c&&this.wh&&this.wh[this.$c],e=this.Va&&this.ob&&this.ob>this.Va;return(c||f)&&e};a.Sa.prototype.vk=function(){return this.JB?this.JB:a.I.Ja(a.I.pa,"TIMEAXIS")};a.Sa.prototype.zu=function(){this.s9=new a.j(f.V1a(this.J));this.s9.fl(this.UO);var c=this.s9.Rh();this.s9.fl("border:"+2*c+"px;");this.G7a(c)};
a.Sa.prototype.XEa=function(){this.Ic?(this.Wd=this.cb,this.Je=this.Oa):(this.Wd=this.Oa,this.Je=this.cb)};a.Sa.prototype.d_a=function(){null!==this.Je&&this.ada(this.Je-this.pta());this.SJ=this.Bc+this.pta()-f.cNa};a.Sa.prototype.F_a=function(a,f){this.Oa=a;this.cb=f;this.XEa();this.Qz(this.Wd);this.d_a()};a.Sa.prototype.eB=function(a,f){this.F_a(a,f);x.f7a(this)};a.Sa.prototype.C6a=function(a,f,e){this.nwa(this.Qt);this.um("short",this.ys);this.oCa=[];this.yn=[];this.FK=[];this.Ic?this.OV(this.Lk.converterVert):
this.OV(this.Lk.converter);this.ND&&this.gxa(this.ND);for(var g=this.$c,u=0;u<this.OD.length;u++){var t=this.OD[u],v=this.vYa(t,g,a,f);this.xYa(u,t,a,f,v,e)}this.Qu(g)};a.Sa.prototype.vYa=function(c,p,e,g){this.Qu(c);var u=Infinity,t=0,v;if(this.wh&&this.wh[c])v=this.wh[c],c=v.times,v=v.labels;else if(this.St&&this.St[c])v=this.St[c],c=v.times,v=v.labels;else for(c=[],v=[],e=this.UH(e).getTime(),c.push(e);e<g;)v.push(this.Os(new Date(e))),e=this.sI(e).getTime(),c.push(e);g=[];for(var y=0;y<v.length;y++){e=
c[y];var n=new a.M(this.a,v[y],0,0,"s_label"+e);n.ub(f.T1a(this.J));n.time=e;var z=c[y+1],w=n.V();if(this.Ic)var A=w.i,w=w.b,d=f.Rxa;else A=w.b,w=w.i,d=f.Txa;e=(z-e)/Math.max(d,A+2*f.Sxa);e<u&&(u=e);w>t&&(t=w);g.push(n)}this.ada(t+2*f.Sxa);this.oCa.push(c);this.yn.push(g);this.Qu(p);return u};a.Sa.prototype.xYa=function(a,f,e,g,u,t){e=null!==this.Je?t:(g-e)/u;this.FK.push(e);f==this.$c&&(this.al=a,this.Qz(e,t));0==a&&(this.lP=this.yn[this.yn.length-1].length*t)};a.Sa.prototype.Qu=function(a){this.$c=
a};a.Sa.prototype.gxa=function(a){this.ND=a};a.Sa.prototype.lca=function(){for(var a=0;a<this.OD.length-1;a++)if(this.OD[a]==this.$c){this.$c=this.OD[a+1];break}};a.Sa.prototype.$aa=function(){for(var a=1;a<this.OD.length;a++)if(this.OD[a]==this.$c){this.$c=this.OD[a-1];break}};a.Sa.prototype.nwa=function(a){this.Qt=a};a.Sa.prototype.OV=function(a){this.Nka=a};a.Sa.prototype.ada=function(a){a>this.tl&&(this.tl=a)};a.Sa.prototype.xR=function(){null==this.Y2&&(this.Y2=30);return this.Y2};a.Sa.prototype.G7a=
function(a){this.li=a};a.Sa.prototype.cJ=function(a,f,e,g){this.HBa=(a|0)*this.li;this.pUa=(f|0)*this.li;this.EBa=(e|0)*this.li;this.oUa=(g|0)*this.li};a.Sa.prototype.I0a=function(){for(var a=this.Ic?{top:this.ve(),right:this.SJ,bottom:this.ve(),left:this.SJ}:{top:this.SJ,right:this.ve(),bottom:this.SJ,left:this.ve()},f=[],e=0,g=1,u=["top","right","bottom","left"],t=0;t<u.length;t++)0<this.Rh(u[t])==g?e+=a[u[t]]:(f.push(e),e=a[u[t]],g=Math.abs(g-1));f.push(e);return f.toString()};a.Sa.prototype.pta=
function(){return this.HBa+this.EBa};a.Sa.prototype.Rh=function(a){switch(a){case "top":return this.HBa;case "right":return this.pUa;case "bottom":return this.EBa;case "left":return this.oUa;default:return this.li}};a.Sa.prototype.ve=function(){return this.tl+this.pta()};a.Sa.prototype.um=function(a,f){this.bWa=new D("short"==a?D.SHORT:D.oOa,f,this.qx)};a.Sa.prototype.UH=function(a){return this.Wja.UH(new Date(a),this.$c)};a.Sa.prototype.sI=function(a){return this.Wja.sI(a,this.$c)};a.Sa.prototype.Os=
function(a,f,e){var g=this.$c;if("axis"==(e||"axis"))(f=f||this.Qt)&&(f[g]?f=f[g]:f["default"]&&(f=f["default"])),f&&(f.format||f.getAsString)||!this.Nka||!this.Nka[g]||(f=this.Nka[g]);else if(!f)if(f="hours"==g||"minutes"==g||"seconds"==g?{formatType:"datetime",dateFormat:"medium",timeFormat:"medium"}:{formatType:"date",dateFormat:"medium"},e=this.Lk.converterFactory)f=e.createConverter(f);else{f="toLocaleDateString";e={year:"numeric",month:"short",day:"numeric"};if("hours"==g||"minutes"==g||"seconds"==
g)f="toLocaleString",e={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};try{return a[f](this.qx,e)}catch(u){}return a[f]()}if(f){if(f.format)return f.format(this.iG?this.iG(a):a);if(f.getAsString)return f.getAsString(a)}return this.bWa.format(a,g,this.ND)};a.Sa.prototype.Nwa=function(a){this.tl=a?f.Txa:f.Rxa};a.Sa.prototype.Yca=function(){this.Je=null};a.Sa.prototype.vE=function(a){this.al=a};a.f.v(v,a.f);v.prototype.Init=function(){this.AVa=864E5;this.JCa=
0};v.prototype.Y7a=function(a){this.JCa=a};v.prototype.UH=function(a,f){var e=new Date(a.getTime());if("weeks"==f){e.setHours(0,0,0);var g=(a.getDay()-this.JCa+7)%7;0<g&&e.setTime(e.getTime()-g*this.AVa)}else"months"==f?e.setDate(1):"days"==f?e.setHours(0,0,0):"hours"==f?e.setMinutes(0,0,0):"minutes"==f?e.setSeconds(0,0):"seconds"==f?e.setMilliseconds(0):"quarters"==f?(e.setDate(1),g=2-(a.getMonth()+11)%3,0<g&&e.setMonth(e.getMonth()+g)):"halfyears"==f?(e.setDate(1),g=5-(a.getMonth()+11)%6,0<g&&e.setMonth(e.getMonth()+
g)):"years"==f?(e.setMonth(0),e.setDate(1)):"twoyears"==f&&(e.setMonth(0),e.setDate(1));return e};v.prototype.sI=function(a,f){if("seconds"==f)return new Date(a+1E3);if("minutes"==f)return new Date(a+6E4);if("hours"==f)return new Date(a+36E5);var e=new Date(a);"days"==f?e.setDate(e.getDate()+1):"weeks"==f?e.setDate(e.getDate()+7):"months"==f?e.setMonth(e.getMonth()+1):"quarters"==f?e.setMonth(e.getMonth()+3):"halfyears"==f?e.setMonth(e.getMonth()+6):"years"==f?e.setFullYear(e.getFullYear()+1):"twoyears"==
f?e.setFullYear(e.getFullYear()+2):e.setYear(e.getYear()+1);return e};a.f.v(E,a.ka,"DvtTimeAxisDefaults");E.If={backgroundColor:"rgba(255,255,255,0)",borderColor:"#d9dfe3",separatorColor:"#bcc7d2",labelStyle:new a.j(a.ka.cp+"color: #333333;")};a.f.v(D,a.f);D.oOa=0;D.SHORT=1;D.prototype.Init=function(a,f,e){this.Se=a;this.ys=f;this.qx=e;this.Mm=[];this.Mm[0]={};this.Mm[0].seconds="HH:MM:ss";this.Mm[0].minutes="HH:MM";this.Mm[0].hours="HH:MM";this.Mm[0].days="dddd";this.Mm[0].weeks="m/dd";this.Mm[0].months=
"mmmm";this.Mm[0].quarters="mmmm";this.Mm[0].halfyears="yyyy";this.Mm[0].years="yyyy";this.Mm[0].twoyears="yyyy";this.Mm[1]={};this.Mm[1].seconds="HH:MM:ss";this.Mm[1].minutes="HH:MM";this.Mm[1].hours="HH:MM";this.Mm[1].days="m/dd";this.Mm[1].weeks="m/dd";this.Mm[1].months="mmm";this.Mm[1].quarters="mmm";this.Mm[1].halfyears="yy";this.Mm[1].years="yy";this.Mm[1].twoyears="yy"};D.prototype.format=function(a,f,e){f=this.Mm[this.Se][f];if(null!=f){var g=!1;if(e){a=a.getTime();for(var g=Object.keys(e),
u=0,t=0;t<g.length;t++)a>=parseInt(g[t],10)&&(u=e[g[t]]);a=new Date(a+u);g=!0}if(-1!=f.indexOf(":"))var v=":";else-1!=f.indexOf("/")&&(v="/");if(v){f=f.split(v);e=this.asa(a,f[0],g);for(t=1;t<f.length;t++)e+=v+this.asa(a,f[t],g);return e}return this.asa(a,f,g)}try{return a.toLocaleString(this.qx)}catch(y){}return a.toLocaleString()};D.prototype.asa=function(a,f,e){if(e)switch(f){case "ss":return a=a.getUTCSeconds(),10>a?"0"+a:a;case "HH":return a=a.getUTCHours(),10>a?"0"+a:a;case "MM":return a=a.getUTCMinutes(),
10>a?"0"+a:a;case "dd":return a=a.getUTCDate(),10>a?"0"+a:a;case "dddd":return this.ys.aHa[a.getUTCDay()+7];case "m":return a.getUTCMonth()+1;case "mmm":return this.ys.Eca[a.getUTCMonth()];case "mmmm":return this.ys.Eca[a.getUTCMonth()+12];case "yy":return a.getUTCFullYear().toString().substring(2,4);default:return a.getUTCFullYear()}else switch(f){case "ss":return a=a.getSeconds(),10>a?"0"+a:a;case "HH":return a=a.getHours(),10>a?"0"+a:a;case "MM":return a=a.getMinutes(),10>a?"0"+a:a;case "dd":return a=
a.getDate(),10>a?"0"+a:a;case "dddd":return this.ys.aHa[a.getDay()+7];case "m":return a.getMonth()+1;case "mmm":return this.ys.Eca[a.getMonth()];case "mmmm":return this.ys.Eca[a.getMonth()+12];case "yy":return a.getFullYear().toString().substring(2,4);default:return a.getFullYear()}};a.f.v(F,a.f,"DvtTimeAxisParser");F.prototype.parse=function(a){this.tu=new Date(a.start);this.$A=new Date(a.end);var f=this.eT();f.qy=a.style;f.id=a.id;f.Q6=a.shortDesc;f.W6=a._tzo;f.Cca=a._ip;f.dI=a._cts;f.cI=a._cfs;
f.scale=a.scale;f.era=a.converter;f.ULa=a.zoomOrder?a.zoomOrder:null;f.orientation=a.orientation?a.orientation:"horizontal";return f};F.prototype.eT=function(){var a={};a.start=this.tu.getTime();a.end=this.$A.getTime();return a};var x={};a.f.v(x,a.f,"DvtTimeAxisRenderer");x.f7a=function(a){if(a.Vp()){var p=a.ve();x.VYa(a,p,f.zra(a.J))}};x.VYa=function(c,p,e){var g=0,u=c.a;if(null==c.uf){var t=new a.fc;c.Ea()?(c.uf=new a.Rect(u,g,-c.Rh("top"),p,c.SJ,"axis"),t.se(g,0,p,c.Bc)):(c.uf=new a.Rect(u,-c.Rh("left"),
g,c.SJ,p,"axis"),t.se(0,g,c.Bc,p));c.uf.ub(c.s9);c.uf.Wc(!0);c.uf.ce(t);c.B(c.uf);(p=f.R1a(c.J))&&c.uf.Sp().ja().setAttribute("class",p)}else c.uf.ce(null),t=new a.fc,c.Ea()?(c.uf.na(g),c.uf.Qa(-c.Rh("top")),c.uf.jb(p),c.uf.Mb(c.SJ),t.se(g,0,p,c.Bc)):(c.uf.na(-c.Rh("left")),c.uf.Qa(g),c.uf.jb(c.SJ),c.uf.Mb(p),t.se(0,g,c.Bc,p)),c.uf.ce(t);c.uf.Ih();c.uf.Sp().ja().setAttribute("stroke-dasharray",c.I0a());e=new a.j(e);c.BH=new a.ma(e.N(a.j.od));p=c.tl;g=g+c.Ea()?c.Rh("left"):c.Rh("top");x.WYa(c,c.Je,
c.uf,c.Bc,g+p,g,g)};x.WYa=function(c,p,e,g,u,t,v){var y=c.a,n=a.m.ea(y),z=new a.ca(y,"block_0_"+p);z.jda=0;z.dba=p;e.B(z);p=f.S1a(c.J);e=f.U1a(c.J);for(var w=c.tl,A=c.oCa[c.al],d=c.yn[c.al],h=0;h<A.length-1;h++){var B=A[h],r=A[h+1],l=d[h],C=a.Sa.Nc(c.Va,c.ob,B,g),r=a.Sa.Nc(c.Va,c.ob,r,g);0!=C&&((c.Ea()?x.qja(y,z,u,t,C,C,c.BH,"s_tick"+B,e):n?x.qja(y,z,g-C,g-C,u,t,c.BH,"s_tick"+B,e):x.qja(y,z,C,C,u,t,c.BH,"s_tick"+B,e)).time=B);l.Zo()&&l.Ge(l.fn());B=!1;if(c.Ea())l.$f(),x.eBa(z,l,v+(u-v)/2,C+(r-C)/
2,u-v,r-C,p);else{if(0===h&&0>C){var D=l.V().b,E=r-Math.max(0,(r-C-D)/2);n||l.dh();C=Math.max(0,E);B=!0}else h===A.length-2&&r>g?(D=l.V().b,E=g-C-Math.max(0,(r-C-D)/2),n&&l.dh(),C=Math.max(C,C+(r-C)/2-D/2)):(E=r-C,C+=(r-C)/2,l.$f());x.eBa(z,l,n?g-C:C,v+(u-v)/2,E,w,p,B)}}};x.eBa=function(c,f,e,g,u,t,v,y){c=a.ga.Xc(f,u,t,c);y&&f.Zo()&&c&&(y=f.fn(),f.Vc()!==y&&(c=y.length,f.Ge(a.M.vJ+y.substring(Math.max(0,c-(f.Vc().length-1)),c))));f.na(e);a.ga.yQ(f,g);v&&f.Sp().ja().setAttribute("class",v)};x.qja=
function(c,f,e,g,u,t,v,y,n){c=new a.Gb(c,e,u,g,t,y);c.Ha(v);c.Wc(!0);f.B(c);n&&c.Sp().ja().setAttribute("class",n);return c};var f={};a.f.v(f,a.f,"DvtTimeAxisStyleUtils");f.Pxa=1;f.cNa=1;f.Txa=50;f.Rxa=21;f.Sxa=2;f.V1a=function(a){var p="",e=f.W1a(a);e&&(p=p+"background-color:"+e+";");(e=f.oo(a))&&(p=p+"border-color:"+e+";");(e=f.Rh())&&(p=p+"border-width:"+e+";");return p};f.W1a=function(a){return a.backgroundColor};f.oo=function(a){return a.borderColor};f.Rh=function(){return f.Pxa};f.T1a=function(a){return a.labelStyle};
f.cta=function(a){return a.separatorColor};f.zra=function(a){var p="";(a=f.cta(a))&&(p=p+"color:"+a+";");return p};f.R1a=function(a){return a._resources?a._resources.axisClass:void 0};f.dab=function(a){return a._resources?a._resources.axisBorderClass:void 0};f.S1a=function(a){return a._resources?a._resources.axisLabelClass:void 0};f.U1a=function(a){return a._resources?a._resources.axisSeparatorClass:void 0};f.rab=function(a){return a._resources?a._resources.borderTopVisible:!1};f.qab=function(a){return a._resources?
a._resources.borderRightVisible:!1};f.oab=function(a){return a._resources?a._resources.borderBottomVisible:!1};f.pab=function(a){return a._resources?a._resources.borderLeftVisible:!1};a.K(a,"TimeAxis",a.Sa);a.K(a.Sa,"newInstance",a.Sa.newInstance);a.K(a.Sa.prototype,"render",a.Sa.prototype.ia)})(dvt);
  return dvt;
});
