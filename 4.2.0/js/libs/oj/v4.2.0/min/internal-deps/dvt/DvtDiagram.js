/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['jquery','./DvtToolkit', './DvtPanZoomCanvas'], function($, dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(a,p,e,g,u){F.C.Init.call(this,a);this.Init(a,p,e,g,u)}function D(a,p,e,g){this.Init(a,p,e,g)}function E(a,p){this.Init(a,p)}function v(){this.Init()}function x(){this.Init()}function f(){this.Init()}a.f.v(f,a.f,"DvtDiagramLayoutContext");f.prototype.Init=function(){this.hP=this.zD=0;this.e_=!1;this.oi={};this.xh={};this.RN=[];this.QN=[];this.UA={}};f.prototype.xsa=function(){return this.Cs};f.prototype.hJ=function(a){this.$t=a};f.prototype.Gu=function(){return this.$t};f.prototype.Paa=
function(a){this.Ib(a.getId())||(this.zD++,this.RN.push(a));this.oi[a.getId()]=a};f.prototype.xGa=function(a){this.oi[a.getId()]=a};f.prototype.removeNode=function(c,p){p&&(c?a.Y.removeItem(c.Of(),p):(a.Y.removeItem(this.RN,p),this.zD--),delete this.oi[p.getId()])};f.prototype.Ib=function(a){return this.oi[a]};f.prototype.uI=function(a){return this.RN[a]};f.prototype.Aj=function(){return this.zD};f.prototype.Maa=function(a){this.mg(a.getId())||(this.hP++,this.QN.push(a));this.xh[a.getId()]=a};f.prototype.Pca=
function(c){c&&(this.mg(c.getId())&&(a.Y.removeItem(this.QN,c),this.hP--),delete this.xh[c.getId()])};f.prototype.mg=function(a){return this.xh[a]};f.prototype.qI=function(a){return this.QN[a]};f.prototype.fC=function(){return this.hP};f.prototype.Jua=function(c,p){var e=this.cfa(p);return new a.it(c.x+e.x,c.y+e.y)};f.prototype.cfa=function(c){for(var p=new a.it(0,0);c;)if(p.x+=c.aA.x+c.Th().x,p.y+=c.aA.y+c.Th().y,c=c.bo){if((c=this.Ib(c))&&c.gd()){var e=c.bi();e&&(p.x+=e.left,p.y+=e.top)}}else c=
null;return p};f.prototype.Rwa=function(a){this.e_=a};f.prototype.lua=function(){return this.e_};f.prototype.$ca=function(a){this.dka=a};f.prototype.Sra=function(){return this.dka};f.prototype.lxa=function(a){this.Ks=a};f.prototype.nL=function(){return this.Ks};f.prototype.w6=function(a){this.bo=a};f.prototype.QQ=function(){return this.bo};f.prototype.dt=function(a,p,e,g){this.bo&&(this.aj={},"number"!==typeof a&&"string"!==typeof a&&(g=a.left,p=a.right,e=a.bottom,a=a.top),this.aj.top=a,this.aj.right=
p,this.aj.bottom=e,this.aj.left=g)};f.prototype.bi=function(){return this.aj};f.prototype.WKa=function(a){this.mD=a};f.prototype.Xra=function(){return this.mD};f.prototype.Rra=function(a,p){function e(a,c){for(var e=[],g=c.Ib(a)?c.Ib(a).bo:null;g;)e.push(g),g=c.Ib(g)?c.Ib(g).bo:null;e.reverse();return e}for(var g=e(a,this),u=e(p,this),t=null,f=0;f<g.length&&f<u.length&&g[f]==u[f];f++)t=g[f];return t};f.prototype.fsa=function(){return this.fla};f.prototype.Ewa=function(a){this.fla=a};f.prototype.uwa=
function(a){this.UA=a};a.f.v(x,a.f,"DvtDiagramLayoutContextLink");x.prototype.Init=function(){this.Q_=this.R2=0;this.S0=1;this.$F=this.Ai=!1};x.prototype.setId=function(a){this.lc=a};x.prototype.getId=function(){return this.lc};x.prototype.dxa=function(a){this.Tpa=a};x.prototype.Ri=function(){return this.Tpa};x.prototype.Bwa=function(a){this.dla=a};x.prototype.Ah=function(){return this.dla};x.prototype.Vh=function(c){this.yh="string"==typeof c?a.G.ZH(c):c;this.nj()};x.prototype.Df=function(){return this.yh};
x.prototype.zo=function(a){this.dP=a;this.nj()};x.prototype.vg=function(){return this.dP};x.prototype.as=function(a){this.RG=a};x.prototype.Mg=function(){return this.RG};x.prototype.cxa=function(a){this.R2=a};x.prototype.kL=function(){return this.R2};x.prototype.Awa=function(a){this.Q_=a};x.prototype.VK=function(){return this.Q_};x.prototype.E6=function(a){this.S0=a};x.prototype.zz=function(){return this.S0};x.prototype.hJ=function(a){this.$t=a};x.prototype.Gu=function(){return this.$t};x.prototype.hc=
function(a){this.Ai=a};x.prototype.uR=function(){return this.Ai};x.prototype.bs=function(a){this.xi=a;this.nj()};x.prototype.dC=function(){return this.xi};x.prototype.cs=function(a){this.yi=a;this.nj()};x.prototype.eC=function(){return this.yi};x.prototype.WV=function(a){this.$F=a};x.prototype.Il=function(){return this.$F};x.prototype.CC=function(a){this.qr=a;this.nj()};x.prototype.BC=function(a){this.zv=a;this.nj()};x.prototype.bR=function(){return this.qr};x.prototype.Fu=function(){return this.zv};
x.prototype.y6=function(a){this.gG=a;this.nj()};x.prototype.Wra=function(){return this.gG};x.prototype.setData=function(a){this.sb=a};x.prototype.getData=function(){return this.sb};x.prototype.nj=function(){this.ot&&(this.ot.UA[this.getId()]=!0)};x.prototype.NU=function(a){a&&(this.Vh(a.Df()),this.zo(a.vg()),this.bs(a.xi),this.cs(a.yi),this.CC(a.qr),this.BC(a.Fu()),this.y6(a.gG))};a.f.v(v,a.f,"DvtDiagramLayoutContextNode");v.prototype.Init=function(){this.Jt=this.Ai=this.Lja=!1;this.Sy=!0;this.aA=
new a.it(0,0)};v.prototype.setId=function(a){this.lc=a};v.prototype.getId=function(){return this.lc};v.prototype.dS=function(a){this.Um=this.Sb=a};v.prototype.Kv=function(){!this.Sb&&this.Iq&&this.Iq.wS(this);return this.Sb};v.prototype.eS=function(a){this.Vm=this.iO=a};v.prototype.po=function(){!this.iO&&this.Iq&&this.Iq.wS(this);return this.iO};v.prototype.setPosition=function(a){this.qU=a;this.LJ();this.nj()};v.prototype.Th=function(){return this.qU};v.prototype.Vsa=function(c){var p=this.ot;if(p){for(var e=
new a.it(0,0),g=this,u=!1;g;){var t=g.bo;if(t){var f=p.Ib(t);f&&this.Iq&&!f.Sy&&this.Iq.IV(f,!0)}e.x+=g.aA.x+g.Th().x;e.y+=g.aA.y+g.Th().y;if(t!=c)if((g=p.Ib(t))&&g.gd()){if(t=g.bi())e.x+=t.left,e.y+=t.top}else g=null;else u=!0,g=null}u||(e=null);return e}};v.prototype.zo=function(a){this.dP=a;this.nj()};v.prototype.vg=function(){return this.dP};v.prototype.as=function(a){this.RG=a};v.prototype.Mg=function(){!this.RG&&this.Iq&&this.Iq.wS(this);return this.RG};v.prototype.hJ=function(a){this.$t=a};
v.prototype.Gu=function(){return this.$t};v.prototype.sua=function(){return this.Lja};v.prototype.w6=function(a){this.bo=a};v.prototype.QQ=function(){return this.bo};v.prototype.hc=function(a){this.Ai=a};v.prototype.uR=function(){return this.Ai};v.prototype.bs=function(a){this.xi=a;this.nj()};v.prototype.dC=function(){return this.xi};v.prototype.cs=function(a){this.yi=a;this.nj()};v.prototype.eC=function(){return this.yi};v.prototype.I8=function(c){this.gd()&&(this.aj=c)&&(this.Um&&(this.Um=new a.Kq(this.Um.x,
this.Um.y,this.Um.w-(c.left+c.right),this.Um.h-(c.top+c.bottom))),this.Vm&&(this.Vm=new a.Kq(this.Vm.x,this.Vm.y,this.Vm.w-(c.left+c.right),this.Vm.h-(c.top+c.bottom))))};v.prototype.dt=function(c,f,e,g){this.gd()&&(this.aj={},"number"!==typeof c&&"string"!==typeof c&&(g=c.left,f=c.right,e=c.bottom,c=c.top),this.aj.top=c,this.aj.right=f,this.aj.bottom=e,this.aj.left=g,this.Um&&(this.Sb=new a.Kq(this.Um.x,this.Um.y,this.Um.w+g+f,this.Um.h+c+e)),this.Vm&&(this.iO=new a.Kq(this.Vm.x,this.Vm.y,this.Vm.w+
g+f,this.Vm.h+c+e)),this.nj())};v.prototype.bi=function(){return this.aj};v.prototype.ln=function(a){this.Jt=a};v.prototype.gd=function(){return this.Jt};v.prototype.CL=function(a){this.$ja=a};v.prototype.Of=function(){return this.$ja};v.prototype.qLa=function(a){this.Q1=a};v.prototype.Ssa=function(){return this.Q1};v.prototype.LJ=function(){var a=this.Q1;a&&a.Sy&&(a.gT(),a.LJ())};v.prototype.gT=function(){this.Sy=!1;this.dS(null);this.eS(null);this.as(null)};v.prototype.CC=function(a){this.qr=a;
this.nj()};v.prototype.BC=function(a){this.zv=a;this.nj()};v.prototype.bR=function(){return this.qr};v.prototype.Fu=function(){return this.zv};v.prototype.setData=function(a){this.sb=a};v.prototype.getData=function(){return this.sb};v.prototype.nj=function(){this.ot&&(this.ot.UA[this.getId()]=!0)};v.prototype.NU=function(a){a&&(this.setPosition(a.Th()),this.zo(a.vg()),this.bs(a.xi),this.cs(a.yi),this.CC(a.qr),this.BC(a.Fu()),a.bi()&&this.dt(a.bi()))};a.f.v(E,a.f,"DvtDiagramPoint");E.prototype.Init=
function(a,f){this.x=null===a||isNaN(a)?0:a;this.y=null===f||isNaN(f)?0:f};a.f.v(D,a.f,"DvtDiagramRectangle");D.prototype.Init=function(a,f,e,g){this.x=null===a||isNaN(a)?0:a;this.y=null===f||isNaN(f)?0:f;this.w=null===e||isNaN(e)?0:e;this.h=null===g||isNaN(g)?0:g};a.it=E;a.Kq=D;a.Bb=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Bb,a.Ed,"dvt.BaseDiagram");a.Bb.prototype.Init=function(c,f,e){a.Bb.C.Init.call(this,c,f,e);this.a.Gc.ja().setAttributeNS(null,"text-rendering","geometricPrecision");this.iB=
new a.ca(c);this.hu=new a.ca(c);this.jQ=new a.ca(c);this.Cfa()};a.Bb.prototype.Iya=function(){var a=this.mc;a.Uz(this.hC());a.Tz(this.gy());a.NV(this.Lb());a.Zc.B(this.iB);a.Zc.B(this.hu);a.Zc.B(this.jQ)};a.Bb.prototype.Lb=function(){return a.jd.uea};a.Bb.prototype.Tz=function(a){this.ux=a;this.mc&&this.mc.Tz(a)};a.Bb.prototype.gy=function(){return this.ux};a.Bb.prototype.Uz=function(a){this.wx=a;this.mc&&this.mc.Uz(a)};a.Bb.prototype.hC=function(){return this.wx};a.Bb.prototype.Cfa=function(){this.Tz(2);
this.Uz(0)};a.Bb.prototype.Ib=function(){return null};a.Bb.prototype.mg=function(){return null};a.Bb.prototype.BJ=function(){return[]};a.Bb.prototype.KS=function(){return[]};a.Bb.prototype.J7=function(){return[]};a.Bb.prototype.dza=function(c){c&&this.jk?this.hr?(this.hr.na(this.Oa/2),this.hr.Qa(this.cb/2),a.ga.Xc(this.hr,this.getWidth()-2*a.ga.IW,Infinity,this)):this.hr=this.hea(this.jk):this.hr&&((c=this.hr.getParent())&&c.removeChild(this.hr),this.hr=null)};a.Bb.prototype.hea=function(c){var f=
this.A();return a.ga.tm(this,c,new a.U(0,0,this.getWidth(),this.getHeight()),this.Ob(),f._statusMessageStyle)};a.Bb.prototype.bda=function(a){this.jk=a};a.Bb.prototype.Bza=function(a){this.pU=a};a.Bb.prototype.oS=function(a){this.nU=a;this.mc&&this.mc.oS(a)};a.Bb.prototype.eL=function(){return this.nU};a.Bb.prototype.Cza=function(a){this.Kaa=a};a.Bb.prototype.Ue=function(){return this.Fd};a.Bb.prototype.rS=function(c){this.Fd="single"==c?new a.Hb(a.Hb.iv):"multiple"==c?new a.Hb(a.Hb.os):null;this.Ob().Ey(this.Fd)};
a.Bb.prototype.Kl=function(){return this.Fd?!0:!1};a.Bb.prototype.mLa=function(a){this.hu=a};a.Bb.prototype.eLa=function(a){this.iB=a};a.Bb.prototype.zLa=function(a){this.jQ=a};a.Bb.prototype.v7=function(){var c=new f;c.Rwa(a.m.ea(this.a));c.$ca(new a.Kq(0,0,this.getWidth(),this.getHeight()));return c};a.Bb.prototype.y7=function(c,f,e,g){f=new v;f.setId(c.getId?c.getId():c.getData().getId());f.dS(a.Yh.Au(c.cR()));f.eS(a.Yh.Au(c.po()));var u=c.Gu?c.$t:c.getData()._origData;f.hJ(u);f.setData(u);f.as(a.Yh.Au(c.Mg()));
f.zo(a.Yh.E3(c.vg()));f.hc(1==c.gb());c.gd()&&(f.ln(!0),f.I8(a.Bb.Cba(c.bi())));f.w6(c.lj());f.Iq=this;f.Sy=!e;f.ot=g;return f};a.Bb.prototype.x7=function(c,f,e,g,u){g=new x;g.setId(c.getId?c.getId():c.getData().getId());g.dxa(f?f:c.getData().Ri());g.Bwa(e?e:c.getData().Ah());f=c.Gu?c.$t:c.Il()?c.getData()._links:c.getData()._origData;g.hJ(f);g.setData(f);g.as(a.Yh.Au(c.Mg()));g.zo(a.Yh.E3(c.vg()));g.cxa(c.kL());g.Awa(c.VK());g.E6(c.zz());g.hc(1==c.gb());g.WV(1==c.Il());g.ot=u;return g};a.Bb.prototype.zda=
function(c,f){var e=c.bi();if(e){var g=c.bo;g&&(g=this.Ib(g))&&g.dt(a.Bb.bi(e))}for(var u=g=Number.MAX_VALUE,e=0;e<c.Aj();e++){var t=c.uI(e),H=t.Th();H&&(g=Math.min(g,H.x),u=Math.min(u,H.y));var y=t.Mg(),t=t.vg();y&&t&&(g=Math.min(g,t.x+y.x),u=Math.min(u,t.y+y.y))}for(e=0;e<c.fC();e++){var t=c.qI(e),n=t.Df();if(n)for(y=a.Qd.hX(n),H=0;H<y.length;H++)var z=y[H],g=Math.min(g,z.x),u=Math.min(u,z.y);y=t.Mg();t=t.vg();y&&t&&(g=Math.min(g,t.x+y.x),u=Math.min(u,t.y+y.y))}y=new a.P(-g,-u);g=y.x;u=y.y;z=c.UA;
for(e=0;e<c.Aj();e++)t=c.uI(e),t.bo&&(t.aA=new a.it(y.x,y.y)),z[t.getId()]&&(n=this.Ib(t.getId()),(H=t.Th())&&n.eha(H.x+g,H.y+u),this.eW(t,n,a.Yh.D3(H)),n.gd()&&(t=t.bi())&&n.dt(a.Bb.bi(t)));for(e=0;e<c.fC();e++)if(t=c.qI(e),z[t.getId()]){var w=this.mg(t.getId()),H=this.hfa(w,t,y),A=H.x,d=H.y;if(n=t.Df()){0<n.length&&!isNaN(n[0])&&(n=a.Qd.rW(n));for(var h=[],H=0;H<n.length;)isNaN(n[H])?(h.push(n[H]),H++):(h.push(n[H]+A),h.push(n[H+1]+d),H+=2);w.Vh(h)}this.eW(t,w,new a.P(-A,-d))}if(e=c.nL())this.VG=
new a.U(e.x+g,e.y+u,e.w,e.h);f&&(this.N0=new a.P(g,u))};a.Bb.prototype.hfa=function(c,f,e){var g=new a.P(0,0);if(!c.lj())g=e;else if(c.lj()!=f.gG){f=f.gG;for(c=this.Ib(c.lj());c;){var u=c.bi();g.x-=u.left-c.lX().x;g.y-=u.top-c.lX().y;c=c.lj();c=c!=f?this.Ib(c):null}f||(g.x+=e.x,g.y+=e.y)}return g};a.Bb.prototype.YS=function(){return this.VG?!0:!1};a.Bb.prototype.Oxa=function(){this.VG=null};a.Bb.prototype.vda=function(a){if(0==this.hC()){var f=this.mc;a=a?a:this.OS();f.Uz(1*Math.min(this.Yda(a),f.gy()));
return a}return null};a.Bb.prototype.Yda=function(a){if(!a)return 0;var f=this.mc;return Math.min((this.Oa-2*f.SH)/a.b,(this.cb-2*f.SH)/a.i)};a.Bb.prototype.OS=function(){for(var a=null,f,e,g,u=this.J7(),t=0;t<u.length;t++)f=u[t],(g=this.Ib(f))&&g.Wy&&(f=g.ifa(),e=g.bc(),g=g.qc(),f.x+=e,f.y+=g,a?(e=a.x,g=a.y,a.x=Math.min(a.x,f.x),a.y=Math.min(a.y,f.y),a.b=Math.max(e+a.b,f.x+f.b)-a.x,a.i=Math.max(g+a.i,f.y+f.i)-a.y):a=f);u=this.BJ();for(t=0;t<u.length;t++)f=u[t],(e=this.mg(f))&&e.Wy&&(f=e.gfa(),e.lj()||
(a?(e=a.x,g=a.y,a.x=Math.min(a.x,f.x),a.y=Math.min(a.y,f.y),a.b=Math.max(e+a.b,f.x+f.b)-a.x,a.i=Math.max(g+a.i,f.y+f.i)-a.y):a=f));return a};a.Bb.BY=function(c,f,e){if(null==f&&!e)return c;var g=new a.P(c.x,c.y),u=new a.P(c.x+c.b,c.y),t=new a.P(c.x,c.y+c.i);c=new a.P(c.x+c.b,c.y+c.i);var H=new a.Da;null!=f&&(e&&H.translate(-e.x,-e.y),H.rotate(f),e&&H.translate(e.x,e.y));f=H.wm(g);u=H.wm(u);t=H.wm(t);c=H.wm(c);H=Math.min(Math.min(f.x,u.x),Math.min(t.x,c.x));e=Math.min(Math.min(f.y,u.y),Math.min(t.y,
c.y));return new a.U(H,e,Math.max(Math.max(f.x,u.x),Math.max(t.x,c.x))-H,Math.max(Math.max(f.y,u.y),Math.max(t.y,c.y))-e)};a.Bb.prototype.Zda=function(a,f,e,g,u){var t=this.mc,H=t.ve().b/2,y=t.ve().i/2;e=H-(e+a)*u;g=y-(g+f)*u;a=H-a*u;f=y-f*u;this.YS()&&(y=this.VG,-y.x*u<e?(H=e+y.x*u,e-=H,a+=H):-y.x*u>a&&(H=-y.x*u-a,e-=H,a+=H),-y.y*u<g?(u=g+y.y*u,g-=u,f+=u):-y.y*u>f&&(u=-y.y*u-f,g-=u,f+=u));t.H6(e);t.I6(g);t.F6(a);t.G6(f)};a.Bb.prototype.iKa=function(a){this.jQ.B(a)};a.Bb.prototype.jKa=function(a){this.iB.B(a)};
a.Bb.prototype.kKa=function(a){this.hu.B(a)};a.Bb.bi=function(a){var f={};f.top=a.top;f.right=a.right;f.bottom=a.bottom;f.left=a.left;return f};a.Bb.Cba=function(a){var f={};f.top=a.top;f.right=a.right;f.bottom=a.bottom;f.left=a.left;return f};a.Bb.prototype.eW=function(c,f,e){var g=c.Mg(),g=a.Yh.dra(g),u=c.vg();if(g&&u){e=new a.P(u.x-e.x,u.y-e.y);var u=c.xi,t=a.Yh.D3(c.yi);f.as(g);f.zo(e);f.mS(c.Fu(),c.qr);null!=u&&f.bs(u);t&&f.cs(t)}};a.Bb.prototype.ysa=function(){return this.N0?this.N0:new a.P(0,
0)};a.Bb.prototype.b4=function(c){c=c.ja().getBoundingClientRect();var f=this.mc.Zc.ja().getBoundingClientRect(),e=this.mc.Zc.Wa();return new a.U(c.left-f.left+e.zc,c.top-f.top+e.tc,c.width,c.height)};a.yf=function(a,f){this.Init(a,f)};a.f.v(a.yf,a.GJ,"dvt.BaseDiagramKeyboardHandler");a.yf.Nia=0;a.yf.Bia=1;a.yf.prototype.Init=function(c,f){a.yf.C.Init.call(this,c,f);this.wa=c};a.yf.prototype.Jz=function(c){return c.keyCode==a.KeyboardEvent.rg?!1:this.Uh(c)&&!c.ctrlKey};a.yf.prototype.xo=function(c){return c.keyCode==
a.KeyboardEvent.Kj&&c.ctrlKey};a.yf.prototype.k4=function(c,f,e){f=f.keyCode;if(!e||1>e.length||!c)return null;var g=e[0];c=c.md();c=c.x+c.b/2;for(var u=0;u<e.length;u++){var t=e[u],H=t.md(),H=H.x+H.b/2;if(f==a.KeyboardEvent.Ty&&H<=c||f==a.KeyboardEvent.gw&&H>=c){g=t;break}}return g};a.yf.prototype.Gsa=function(c,f,e,g){if(!g)return null;if(!f)return g[0];if(!c)return f;this.pja(c,g);g.sort(this.Xla());this.Loa(g);c=e.keyCode==a.KeyboardEvent.kf?!0:!1;for(var u=e=0;u<g.length;u++)if(g[u]===f){e=c?
u==g.length-1?0:u+1:0==u?g.length-1:u-1;break}return g[e]};a.yf.prototype.Py=function(){return null};a.yf.prototype.Fla=function(a,f){var e=this.Py(f.Ri?f.Ri():f.getData().Ri()),g=this.Py(f.Ah?f.Ah():f.getData().Ah()),g=a==e?g:e,e=this.wG(a),g=this.wG(g),e=Math.atan2(g.y-e.y,g.x-e.x);return e=0>e?e+2*Math.PI:e};a.yf.prototype.wG=function(c){c=c.md();return new a.P(c.x+c.b/2,c.y+c.i/2)};a.yf.prototype.ama=function(a){var f=this.Py(a.Ri?a.Ri():a.getData().Ri());a=this.Py(a.Ah?a.Ah():a.getData().Ah());
f=this.wG(f);a=this.wG(a);return Math.sqrt(Math.pow(a.x-f.x,2)+Math.pow(a.y-f.y,2))};a.yf.prototype.Yla=function(c,f){return c==this.Py(f.Ah?f.Ah():f.getData().Ah())?a.yf.Bia:a.yf.Nia};a.yf.prototype.Xla=function(){return function(c,f){var e=c.HN,g=f.HN,u=-1;!a.yf.PZ(e,g)&&e>g?u=1:a.yf.PZ(e,g)&&(c.Ft>f.Ft?u=1:f.Ft==c.Ft&&c.AA>f.AA?u=1:f.Ft==c.Ft&&c.AA==f.AA&&(u=0));return u}};a.yf.prototype.Loa=function(a){for(var f=0;f<a.length;f++){var e=a[f];e.HN=void 0;e.Ft=void 0;e.AA=void 0}};a.yf.prototype.pja=
function(a,f){for(var e=0;e<f.length;e++){var g=f[e];g.HN=this.Fla(a,g);g.Ft=this.ama(g);g.AA=this.Yla(a,g)}};a.yf.PZ=function(a,f){var e=1E-7>=Math.abs(a-f);e||(e=1E-7>=Math.abs(2*Math.PI+Math.min(a,f)-Math.max(a,f)));return e};a.ic=function(a,f,e){this.Init(a,f,e)};a.f.v(a.ic,a.ca,"dvt.BaseDiagramNode");a.ic.prototype.Init=function(c,f,e){a.ic.C.Init.call(this,c,null,f);this.wa=e;this.Ai=this.Jt=!1;this.Jx=!0};a.ic.prototype.getData=function(){return null};a.ic.prototype.cR=function(a){return this.po(a)};
a.ic.prototype.po=function(){return null};a.ic.prototype.zo=function(c){c&&(this.cP=c,a.ic.st(this.yd,c,this.Mg(!0),this.xi,this.yi))};a.ic.prototype.vg=function(){return this.cP};a.ic.prototype.Mg=function(){return null};a.ic.prototype.as=function(){};a.ic.prototype.bi=function(){return null};a.ic.prototype.dt=function(){};a.ic.prototype.gd=function(){return this.Jt};a.ic.prototype.ln=function(a){this.Jt=a};a.ic.prototype.gb=function(){return this.Ai};a.ic.prototype.hc=function(a){this.Ai=a};a.ic.prototype.Jn=
function(a){this.Jx=a};a.ic.prototype.ab=function(){return this.wa.Kl()&&this.Jx};a.ic.prototype.bs=function(c){this.xi=c;a.ic.st(this.yd,this.vg(),this.Mg(!0),c,this.yi)};a.ic.prototype.dC=function(){return this.xi};a.ic.prototype.cs=function(c){this.yi=c;a.ic.st(this.yd,this.vg(),this.Mg(!0),this.xi,c)};a.ic.prototype.eC=function(){return this.yi};a.ic.prototype.ifa=function(){var c=this.cR(!0),f=new a.U(c.x,c.y,c.b,c.i),e=e=this.vg(),g=this.xi,u=this.yi,t=this.Mg(!0);e&&t&&(null!=g&&(t=a.Bb.BY(t,
g,u)),f.x=Math.min(c.x,t.x+e.x),f.y=Math.min(c.y,t.y+e.y),f.b=Math.max(c.x+c.b,t.x+e.x+t.b)-f.x,f.i=Math.max(c.y+c.i,t.y+e.y+t.i)-f.y);return f};a.ic.RL=function(c,f,e,g){f=new a.Da;null!=e&&(g&&f.translate(-g.x,-g.y),f.rotate(e),g&&f.translate(g.x,g.y));c&&f.translate(c.x,c.y);return f};a.ic.st=function(c,f,e,g,u){c&&(f=a.ic.RL(f,e,g,u),c.mb(f))};a.ic.prototype.eha=function(a,f){this.ib(a,f)};a.ic.prototype.lX=function(){return new a.P(this.bc(),this.qc())};a.ic.prototype.Kd=function(){return null};
a.ic.prototype.md=function(c){if(this.ik)return this.wa.b4(this);var f=this.po(c);c=this.sm(new a.P(f.x,f.y));f=this.sm(new a.P(f.x+f.b,f.y+f.i));return new a.U(c.x,c.y,f.x-c.x,f.y-c.y)};a.ic.prototype.$j=function(){return this.ja()};a.ic.prototype.rh=function(){};a.ic.prototype.mf=function(){};a.ic.prototype.Ae=function(){};a.ic.prototype.rd=function(){return null};a.ic.prototype.xqa=function(a){this.Ax||(this.Ax=[]);this.Ax.push(a)};a.ic.prototype.Ova=function(c){this.Ax&&(c=a.Y.ac(this.Ax,c),-1!=
c&&this.Ax.splice(c,1))};a.ic.prototype.sqa=function(a){this.mx||(this.mx=[]);this.mx.push(a)};a.ic.prototype.Nva=function(c){this.mx&&(c=a.Y.ac(this.mx,c),-1!=c&&this.mx.splice(c,1))};a.ic.prototype.mS=function(){};a.ic.prototype.lj=function(){return null};a.Ab=function(a,f,e){this.Init(a,f,e)};a.f.v(a.Ab,a.ca,"dvt.BaseDiagramLink");a.Ab.prototype.Init=function(c,f,e){a.Ab.C.Init.call(this,c,null,f);this.wa=e;this.Ai=!1;this.Jx=!0};a.Ab.prototype.Ts=function(){return null};a.Ab.prototype.yLa=function(a){this.X=
a};a.Ab.prototype.yg=function(){return this.X};a.Ab.prototype.bs=function(c){this.xi=c;a.Ab.st(this.yd,this.vg(),this.Mg(),c,this.yi)};a.Ab.prototype.dC=function(){return this.xi};a.Ab.prototype.cs=function(c){this.yi=c;a.Ab.st(this.yd,this.vg(),this.Mg(),this.xi,c)};a.Ab.prototype.eC=function(){return this.yi};a.Ab.prototype.vg=function(){return this.cP};a.Ab.prototype.zo=function(c){c&&(this.cP=c,a.Ab.st(this.yd,c,this.Mg(),this.xi,this.yi))};a.Ab.prototype.Mg=function(){return null};a.Ab.prototype.as=
function(){};a.Ab.prototype.kL=function(){return 0};a.Ab.prototype.VK=function(){return 0};a.Ab.prototype.Jn=function(a){this.Jx=a};a.Ab.prototype.ab=function(){return this.wa.Kl()&&this.Jx};a.Ab.prototype.gb=function(){return this.Ai};a.Ab.prototype.hc=function(a){this.Ai=a};a.Ab.prototype.WV=function(a){this.$F=a};a.Ab.prototype.Il=function(){return this.$F};a.Ab.prototype.E6=function(){};a.Ab.prototype.zz=function(){return 1};a.Ab.prototype.iV=function(){return"solid"};a.Ab.prototype.bL=function(){return null};
a.Ab.prototype.K7=function(){return this.iV()};a.Ab.prototype.Ny=function(){return this.zz()};a.Ab.prototype.uW=function(c,f,e,g){if(f||g){var u;g||(u=this.X.fe().clone(),u.um(a.Pa.Sk),u.We(!1));if(u=a.La.vW(this.a,f,g,u,this))this.X.B(u),a.La.Dw(u,f,g,c,e);return u}};a.Ab.prototype.gfa=function(){var c=new a.U(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),f=this.Df();if(f)for(var f=a.Qd.hX(f),e,g,u,t,H=0;H<f.length;H++)e=f[H],g=Math.max(c.x+c.b,e.x),u=Math.max(c.y+c.i,e.y),
t=Math.min(c.x,e.x),e=Math.min(c.y,e.y),c.x=t,c.y=e,c.b=g-t,c.i=u-e;f=new a.U(c.x,c.y,c.b,c.i);g=this.vg();u=this.xi;t=this.yi;H=this.Mg();g&&H&&(null!=u&&(H=a.Bb.BY(H,u,t)),f.x=Math.min(c.x,H.x+g.x),f.y=Math.min(c.y,H.y+g.y),f.b=Math.max(c.x+c.b,H.x+g.x+H.b)-f.x,f.i=Math.max(c.y+c.i,H.y+g.y+H.i)-f.y);return f};a.Ab.prototype.Vh=function(c){this.Nw=c;a.Qd.IX(c)?(this.Dx=c,this.yh=a.Qd.sW(c)):(this.yh=c,this.Dx=a.Qd.rW(c));this.X&&this.X instanceof a.Jb&&(this.X.Cy(this.Dx),this.sD?a.La.Dw(this.sD,
this.Ts(),null,this.yh,1):this.sD=this.uW(this.yh,this.Ts(),1,null),this.KD?a.La.Dw(this.KD,this.Qv(),null,this.yh,0):this.KD=this.uW(this.yh,this.Qv(),0,null));var f=c=null;this.Qm&&this.Qm.Np instanceof a.Jb&&this.Qm.Np.Cy(this.Dx);this.Qm&&(c=this.Qm.Hr)&&a.La.Dw(c,this.Qv(),null,this.yh,0);this.Qm&&(f=this.Qm.Gr)&&a.La.Dw(f,this.Ts(),null,this.yh,1);this.LO&&this.LO.Np instanceof a.Jb&&this.LO.Np.Cy(this.Dx);this.Spa&&this.Spa.setPosition(this.Iba());this.cla&&this.cla.setPosition(this.Hba())};
a.Ab.prototype.Df=function(){return this.Nw};a.Ab.prototype.Iba=function(){return this.yh?new a.P(this.yh[0],this.yh[1]):null};a.Ab.prototype.Hba=function(){if(!this.yh)return null;var c=this.yh.length;return new a.P(this.yh[c-2],this.yh[c-1])};a.Ab.RL=function(c,f,e,g){f=new a.Da;null!=e&&(g&&f.translate(-g.x,-g.y),f.rotate(e),g&&f.translate(g.x,g.y));c&&f.translate(c.x,c.y);return f};a.Ab.st=function(c,f,e,g,u){c&&(f=a.Ab.RL(f,e,g,u),c.mb(f))};a.Ab.prototype.z7=function(c,f,e,g,u){f||0==f||(f=1);
e||0==e||(e=0);e=this.Ny()+e;c=new a.ma(c,f,e);return new F(this.a,this.Dx,c,g,u)};a.Ab.prototype.iea=function(a,f,e,g,u){a=this.z7(a,f,e,g,u);this.KD&&this.Qv()&&a.Fqa(this.yh,this.Qv(),null,this);this.sD&&this.Ts()&&a.Eqa(this.yh,this.Ts(),null,this);return a};a.Ab.prototype.h7=function(c,f){var e=this.K7(),e=a.Qd.sJ(e);c.um(e,a.Qd.kM(e,f),a.Qd.lM(e,f))};a.Ab.prototype.RM=function(a,f){if(a){var e=null;f.Zb&&(e=f.Zb());if(e){var g=a.fe()?a.fe().clone():null,u=a.Hd()?a.Hd().clone():null;g&&g.Yp&&
(g.Yp(e),a.Ha(g));u&&u.Yp&&(u.Yp(e),a.Ia(u))}}};a.Ab.prototype.Kd=function(){return null};a.Ab.prototype.md=function(a){return this.lj()&&this.wa.A().renderer?this.wa.b4(this):this.V(a)};a.Ab.prototype.$j=function(){return this.ja()};a.Ab.prototype.rh=function(){};a.Ab.prototype.mf=function(){};a.Ab.prototype.Ae=function(){};a.Ab.prototype.Pwa=function(a){this.B$=a};a.Ab.prototype.rd=function(){return null};a.Ab.prototype.mS=function(){};a.Ab.prototype.lj=function(){return null};a.Yh={};a.f.v(a.Yh,
a.f,"dvt.DiagramLayoutUtils");a.Yh.Au=function(c){return void 0===c||null==c?null:new a.Kq(c.x,c.y,c.b,c.i)};a.Yh.E3=function(c){return void 0===c||null==c?null:new a.it(c.x,c.y)};a.Yh.dra=function(c){return c?new a.U(c.x,c.y,c.w,c.h):null};a.Yh.D3=function(c){return c?new a.P(c.x,c.y):null};a.f.v(F,a.ca,"DvtDiagramLinkUnderlay");F.prototype.Init=function(c,f,e,g,u){f||(f=["M",0,0,"L",1,0]);this.Uj=e;this.Uj||(this.Uj=new a.ma("#ffffff",1,1));e.We(!0);this.Np=new a.Jb(c,f);this.Np.Ha(e);this.Np.Ia(null);
this.Np.Ma(g).sc(u);this.B(this.Np);this.oQ=this.Gr=this.pQ=this.Hr=null};F.prototype.Fqa=function(a,f,e,g){a=this.wW(a,f,e,g,0);this.Hr&&this.removeChild(this.Hr);this.Hr=a;this.pQ=f;this.B(this.Hr)};F.prototype.Eqa=function(a,f,e,g){a=this.wW(a,f,e,g,1);this.Gr&&this.removeChild(this.Gr);this.Gr=a;this.oQ=f;this.B(this.Gr)};F.prototype.wW=function(c,f,e,g,u){var t=this.Uj.clone();t.We(!1);g=a.La.vW(this.a,f,e,t,g);a.La.Dw(g,f,e,c,u);return g};F.prototype.Ha=function(c,f){this.Uj=c;c.We(!0);this.Np.Ha(c);
if(this.Hr){var e=c.clone();e.um(a.Pa.Sk);e.We(!1);if(this.pQ==a.La.HE||this.pQ==a.La.IE)e.jb(f),this.Hr.bb(c.Zb());this.Hr.Ha(e)}if(this.Gr){e=c.clone();e.um(a.Pa.Sk);e.We(!1);if(this.oQ==a.La.HE||this.oQ==a.La.IE)e.jb(f),this.Gr.bb(c.Zb());this.Gr.Ha(e)}};F.prototype.fe=function(){return this.Uj};a.Qd={};a.f.v(a.Qd,a.f,"dvt.DiagramLinkUtils");a.Qd.sJ=function(c){var f=a.Pa.Sk;switch(c){case "dash":f=a.Pa.Zu;break;case "dot":f=a.Pa.cA;break;case "dashDot":f=a.Pa.UL}return f};a.Qd.kM=function(c,f){if(a.Pa.Sk==
c)return null;if(a.Pa.Zu==c)return f?"8,2":"6,4";if(a.Pa.cA==c)return f?"4,1":"2,3";if(a.Pa.UL==c)return f?"10,1,4,1":"8,3,2,3"};a.Qd.lM=function(c,f){return f&&a.Pa.Sk!=c?1:null};a.Qd.lJa=function(c,f){var e=a.Qd.sJ(c);return{_type:c,strokeDasharray:a.Qd.kM(e,f),strokeDashoffset:a.Qd.lM(e,f)}};a.Qd.DKa=function(a){return a?(a=a.split(/[\s,]+/),0<a.length%2&&(a=a.concat(a)),a.toString()):a};a.Qd.SHa=function(c){if(c){c=c.split(/[\s,]+/);for(var f="",e=0;e<c.length;e++){var g=a.j.Xe(a.cc.trim(c[e])),
f=f+(0==e%2?g+2:2<=g?g-2:0);e<c.length-1&&(f+=", ")}return f}return null};a.Qd.rW=function(a){var f=[];if(a)for(var e=0;e<a.length;e+=2)0==e?f.push("M"):f.push("L"),f.push(a[e]),f.push(a[e+1]);return f};a.Qd.sW=function(a){var f=[];if(a)for(var e=0;e<a.length;e++)isNaN(a[e])||f.push(a[e]);return f};a.Qd.IX=function(a){return a&&0<a.length?isNaN(a[0]):!1};a.Qd.hX=function(c){var f=[];c=a.Qd.IX(c)?a.Qd.sW(c):c;for(var e=0;e<c.length;e+=2)f.push(new a.P(c[e],c[e+1]));return f};a.La={};a.f.v(a.La,a.f,
"dvt.DiagramLinkConnectorUtils");a.La.kNa="endConnector";a.La.tPa="startConnector";a.La.jW="arrowOpen";a.La.HE="arrow";a.La.IE="arrowConcave";a.La.lW="rectangle";a.La.mW="rectangleRounded";a.La.kW="circle";a.La.vW=function(c,f,e,g,u){if(e)return a.La.gea(c,e,u);e=u.Ny();switch(f){case a.La.HE:return a.La.jea(c,e,u.bL());case a.La.IE:return a.La.kea(c,e,u.bL());case a.La.jW:return a.La.pea(c,e,g);case a.La.kW:return a.La.dea(c,e,g);case a.La.lW:return a.La.xW(c,e,g);case a.La.mW:return a.La.sea(c,
e,g)}return null};a.La.Dw=function(c,f,e,g,u){f=a.La.Vda(c,f,e,g,u);c.mb(f)};a.La.Vda=function(c,f,e,g,u){f=-1;var t=0,H=0,y=0;g&&(t=g.length,1===u?(2<=t&&(H=g[t-2],y=g[t-1]),4<=t?(f=g[t-4],t=g[t-3]):(f=H-1E-4,t=y)):(2<=t&&(H=g[0],y=g[1]),4<=t?(f=g[2],t=g[3]):(f=H+1E-4,t=y)));g=H;u=y;f=a.La.Uda(f,t,H,y);H=c.fka;H||(H=c.Wa().clone(),c.fka=H);y=new a.Da;e&&(e=a.La.Z_(c),t=c.ng(),c=c.gh(),y.translate(-.5*e.b*t,-.5*e.i*c));y.rotate(f);y.translate(g,u);y.concat(H);return y};a.La.Z_=function(a){var f=a.Tja;
f||(f=a.V(),a.Tja=f);return f};a.La.Uda=function(a,f,e,g){return Math.atan2(g-f,e-a)};a.La.kea=function(c,f,e){f=6*a.La.yG(f,.5);var g=.8*f;c=new a.Sf(c,[-.22*f,-.5*g,.78*f,0,-.22*f,.5*g,0,0]);c.bb(e);return c};a.La.jea=function(c,f,e){f=5*a.La.yG(f,.5);var g=.8*f;c=new a.Sf(c,[0,-.5*g,f,0,0,.5*g]);c.bb(e);return c};a.La.yG=function(a,f){return 1>=a?a:1+(a-1)*f};a.La.pea=function(c,f,e){f*=3;var g=e.getWidth();c=new a.Co(c,[-f+g*Math.sqrt(2)/2,-f,g*Math.sqrt(2)/2,0,-f+g*Math.sqrt(2)/2,f]);c.Ha(e);
c.Ia(null);return c};a.La.Y3=function(a){return 2*a};a.La.X4=function(a){return 3*a};a.La.dea=function(c,f,e){f=a.La.Y3(f);c=new a.Ui(c,f,0,f);c.Ha(e);c.Ia(null);return c};a.La.xW=function(c,f,e){f=a.La.X4(f);c=new a.Rect(c,0,-f/2,f,f);c.Ha(e);c.Ia(null);return c};a.La.sea=function(c,f,e){c=a.La.xW(c,f,e);c.Rz(f);return c};a.La.gea=function(c,f,e){c=e.wa.W0a();c.zwa(e.getData().S2a());c.N7a(e,e.w1a);c.L8a(e.q4a());return a.g7.mva(c,f,e)};a.La.FNa=function(c,f,e,g,u){return e?(f=a.La.Z_(c),c=c.ng(),
.5*f.b*c):a.La.c5(f,u.Ny(),g.getWidth())};a.La.c5=function(c,f,e){switch(c){case a.La.jW:return e*Math.sqrt(2);case a.La.HE:return c=a.La.yG(f,.5),5*c;case a.La.IE:return c=a.La.yG(f,.5),4.68*c;case a.La.kW:return 2*a.La.Y3(e)+e/2;case a.La.lW:case a.La.mW:return a.La.X4(e)+e/2;default:return 0}};a.K(f.prototype,"getLayout",f.prototype.xsa);a.K(f.prototype,"getLayoutAttributes",f.prototype.Gu);a.K(f.prototype,"getNodeById",f.prototype.Ib);a.K(f.prototype,"getNodeByIndex",f.prototype.uI);a.K(f.prototype,
"getNodeCount",f.prototype.Aj);a.K(f.prototype,"getLinkById",f.prototype.mg);a.K(f.prototype,"getLinkByIndex",f.prototype.qI);a.K(f.prototype,"getLinkCount",f.prototype.fC);a.K(f.prototype,"localToGlobal",f.prototype.Jua);a.K(f.prototype,"isLocaleR2L",f.prototype.lua);a.K(f.prototype,"getComponentSize",f.prototype.Sra);a.K(f.prototype,"setViewport",f.prototype.lxa);a.K(f.prototype,"getViewport",f.prototype.nL);a.K(f.prototype,"getContainerId",f.prototype.QQ);a.K(f.prototype,"setContainerPadding",
f.prototype.dt);a.K(f.prototype,"getContainerPadding",f.prototype.bi);a.K(f.prototype,"getCurrentViewport",f.prototype.Xra);a.K(f.prototype,"getCommonContainer",f.prototype.Rra);a.K(f.prototype,"getEventData",f.prototype.fsa);a.K(v.prototype,"getId",v.prototype.getId);a.K(v.prototype,"getBounds",v.prototype.Kv);a.K(v.prototype,"getContentBounds",v.prototype.po);a.K(v.prototype,"setPosition",v.prototype.setPosition);a.K(v.prototype,"getPosition",v.prototype.Th);a.K(v.prototype,"getRelativePosition",
v.prototype.Vsa);a.K(v.prototype,"setLabelPosition",v.prototype.zo);a.K(v.prototype,"getLabelPosition",v.prototype.vg);a.K(v.prototype,"getLabelBounds",v.prototype.Mg);a.K(v.prototype,"getLayoutAttributes",v.prototype.Gu);a.K(v.prototype,"isReadOnly",v.prototype.sua);a.K(v.prototype,"getContainerId",v.prototype.QQ);a.K(v.prototype,"getSelected",v.prototype.uR);a.K(v.prototype,"setLabelRotationAngle",v.prototype.bs);a.K(v.prototype,"getLabelRotationAngle",v.prototype.dC);a.K(v.prototype,"setLabelRotationPoint",
v.prototype.cs);a.K(v.prototype,"getLabelRotationPoint",v.prototype.eC);a.K(v.prototype,"setContainerPadding",v.prototype.dt);a.K(v.prototype,"getContainerPadding",v.prototype.bi);a.K(v.prototype,"setDisclosed",v.prototype.ln);a.K(v.prototype,"isDisclosed",v.prototype.gd);a.K(v.prototype,"setChildNodes",v.prototype.CL);a.K(v.prototype,"getChildNodes",v.prototype.Of);a.K(v.prototype,"getParentNode",v.prototype.Ssa);a.K(v.prototype,"setLabelValign",v.prototype.CC);a.K(v.prototype,"setLabelHalign",v.prototype.BC);
a.K(v.prototype,"getLabelValign",v.prototype.bR);a.K(v.prototype,"getLabelHalign",v.prototype.Fu);a.K(v.prototype,"getData",v.prototype.getData);a.K(x.prototype,"getId",x.prototype.getId);a.K(x.prototype,"getStartId",x.prototype.Ri);a.K(x.prototype,"getEndId",x.prototype.Ah);a.K(x.prototype,"setPoints",x.prototype.Vh);a.K(x.prototype,"getPoints",x.prototype.Df);a.K(x.prototype,"setLabelPosition",x.prototype.zo);a.K(x.prototype,"getLabelPosition",x.prototype.vg);a.K(x.prototype,"getLabelBounds",x.prototype.Mg);
a.K(x.prototype,"getStartConnectorOffset",x.prototype.kL);a.K(x.prototype,"getEndConnectorOffset",x.prototype.VK);a.K(x.prototype,"getLinkWidth",x.prototype.zz);a.K(x.prototype,"getLayoutAttributes",x.prototype.Gu);a.K(x.prototype,"getSelected",x.prototype.uR);a.K(x.prototype,"setLabelRotationAngle",x.prototype.bs);a.K(x.prototype,"setLabelRotationAngle",x.prototype.dC);a.K(x.prototype,"setLabelRotationPoint",x.prototype.cs);a.K(x.prototype,"getLabelRotationPoint",x.prototype.eC);a.K(x.prototype,
"isPromoted",x.prototype.Il);a.K(x.prototype,"setLabelValign",x.prototype.CC);a.K(x.prototype,"setLabelHalign",x.prototype.BC);a.K(x.prototype,"getLabelValign",x.prototype.bR);a.K(x.prototype,"getLabelHalign",x.prototype.Fu);a.K(x.prototype,"setCoordinateSpace",x.prototype.y6);a.K(x.prototype,"getCoordinateSpace",x.prototype.Wra);a.K(x.prototype,"getData",x.prototype.getData);a.K(a,"DiagramPoint",a.it);a.K(a,"DiagramRectangle",a.Kq)})(dvt);
(function(a){function F(a){this.Init(a)}function D(a,c,e){this.Init(a,c,e)}function E(a,c,e,g){this.Init(a,c,e,g)}function v(a,c){this.Init(a,c)}function x(a,c,e){this.Init(a,c,e);this.wa=e;this.G$=this.F$=null}function f(a,c,e,g){this.Init(a,c,e,g)}function c(a,c,e){this.Init(a,c,e)}function p(){this.Init({skyros:p.If,alta:p.Rg})}function e(a,c){e.C.constructor.call(this,a,c);this.bLa(e.rZ);this.wa=c}var g={};a.f.v(g,a.f);g.Mca=function(c,e){!c||null==c[e]||c[e]instanceof Object||(c[e]=a.j.IK(c[e]))};
g.tva=function(c){c&&null!=c.style&&(c.style instanceof Object?null==c.style._type&&(c.style._type=E.s7):c.style=a.Qd.lJa(c.style))};g.JIa=function(a){a=a.A().styleDefaults.nodeDefaults;g.Mca(a,"backgroundStyle");g.Mca(a,"containerStyle");return a};g.NIa=function(c,e,f){var p=D.NMa(e);c.A().nodeProperties&&(c=a.Za.clone(c.A().nodeProperties(e)),g.Mca(c,"backgroundStyle"),g.Mca(c,"containerStyle"),p=a.Za.be(p,c,{_origData:!0}));return a.Za.be(p,f,{_origData:!0})};g.lIa=function(c,e){var f=c.A().styleDefaults[e];
g.tva(f);f.style=a.Za.be(f[c.a.sp?"svgStyle":"style"],f._style);c.a.sp&&a.Y.forEach(["_type"],function(a){delete f.style[a]});return f};g.s3a=function(c,e,f){var p=E.MMa(e);c.A().linkProperties&&(c=a.Za.clone(c.A().linkProperties(e)),g.tva(c),p=a.Za.be(p,c,{_origData:!0}));return a.Za.be(p,f,{_origData:!0})};g.Lb=function(c){return a.$a.zq(c.A().styleDefaults.animationDuration)/1E3};g.R3=function(a){return a.A().animationOnDisplay};g.OQ=function(a){return a.A().animationOnDataChange};a.Nb=function(a,
c,e){this.Init(a,c,e)};a.f.v(a.Nb,a.Bb);a.Nb.prototype.Init=function(c,e,g){a.Nb.C.Init.call(this,c,e,g);this.Ff=new p;this.u=new x(c,this.Ef,this);this.u.Lf(this);a.m.eb()||this.u.$r(new v(this,this.u));this.oi={};this.CT=[];this.eD=[];this.xh={};this.BT=[];this.J_=this.Fs=0;this.NZ={};this.qQ=[];this.o1=[]};a.Nb.newInstance=function(c,e,g){return new a.Nb(c,e,g)};a.Nb.prototype.i8=function(){!this.hB&&this.er&&("none"!=g.OQ(this)&&(this.oz=new c(this)),this.mD=this.mc.nL(),this.er=!1,this.uK=this.mc,
this.Epa(this.A().data,!1));this.hB?this.wD&&(this.wD.Ewa(null),this.wD.$ca(new a.Kq(0,0,this.getWidth(),this.getHeight()))):(this.cPa(),this.vP=this.wD,this.wD=null)};a.Nb.prototype.cPa=function(){this.eLa(new a.ca(this.a));this.mLa(new a.ca(this.a));this.zLa(new a.ca(this.a));this.oi={};this.CT=[];this.eD=[];this.xh={};this.BT=[];this.KT=this.rr=this.oH=this.vD=null;this.A().nodes=[];this.A().links=[];this.NZ={};this.qQ=[]};a.Nb.prototype.rq=function(){this.mh&&(this.removeChild(this.mh),this.mh.Ec());
this.mh=null;this.Cb&&this.Ob().Lf(this);this.Bj||this.ml();this.Cb=null;this.Bj=!1;this.er&&(this.oz=null)};a.Nb.prototype.Mf=function(c,e){var g=new a.td(this.a,null,c.Lb()),p=e.SOa,n=this.mc.Zc.Wa();p.nc(n)||(this.mc.Zc.mb(p),g.da.aa(a.L.ji,this.mc.Zc,this.mc.Zc.Wa,this.mc.Zc.mb,n));p=e.HX?e.m1:this.M7();n=e.HX?e.P$:this.lya();c.En(e.oi,p);c.En(e.xh,n);c.add(g,f.tj)};a.Nb.prototype.EFa=function(a,c){if(null==c||this.z$(c.id)||this.BVa(a,c)){var e=a.getData(c);this.J_++;var g=this,n=this.Fs;e.then(function(e){g.sFa(n,
a,c?c:g.A(),e)},function(){g.sFa(n,a,c?c:g.A(),null)})}};a.Nb.prototype.sFa=function(a,c,e,g){if(a===this.Fs){if(null!=g){if(e.nodes=g.nodes,Array.isArray(g.links)&&(this.A().links=this.A().links.concat(g.links)),this.UVa(g),Array.isArray(e.nodes))for(this.o1=this.o1.concat(e.nodes);0<this.o1.length;)this.EFa(c,this.o1.shift())}else e.nodes=null;this.J_--;0===this.J_&&this.Gga()}};a.Nb.prototype.UVa=function(a){if("none"!==this.A().promotedLinkBehavior){if(Array.isArray(a.nodes))for(var c=0;c<a.nodes.length;c++)this.NZ[a.nodes[c].id]=
!0;for(c=this.qQ.length-1;0<=c;c--)this.NZ[this.qQ[c]]&&this.qQ.splice(c,1);if(Array.isArray(a.links))for(c=0;c<a.links.length;c++){var e=a.links[c];this.NZ[e.startNode]||this.qQ.push(e.startNode);this.NZ[e.endNode]||this.qQ.push(e.endNode)}}};a.Nb.prototype.BVa=function(a,c){var e=this.A().promotedLinkBehavior;return"none"===e||0==this.qQ.length||"lazy"==e&&0>=a.getChildCount(c)?!1:"disjoint"!=a.getDescendantsConnectivity(c)};a.Nb.prototype.Epa=function(a,c){a&&(this.Jka||(this.Jka=this.Mta.bind(this,
"add")),this.Lka||(this.Lka=this.Mta.bind(this,"remove")),this.Kka||(this.Kka=this.Mta.bind(this,"change")),c?(a.on("add",this.Jka),a.on("remove",this.Lka),a.on("change",this.Kka)):(a.off("add",this.Jka),a.off("remove",this.Lka),a.off("change",this.Kka)))};a.Nb.prototype.Fm=function(){a.Nb.C.Fm.call(this);this.Iya();this.J_=0;this.o1=[];if(this.er||this.hB)0===this.J_&&this.Gga();else{this.Fs++;var c=this.A().data;c?(this.Epa(c,!1),this.EFa(c,null)):this.Gga()}};a.Nb.prototype.Gga=function(){var a=
!1;this.er||this.hB||(this.Epa(this.A().data,!0),this.B6a(this.A().nodes),this.Vva(this.A().links),this.a.EL([this]));if(a=0===Object.keys(this.oi).length)this.haa(a);else{this.contains(this.uK)||this.B(this.uK);var c=this.qE(),e=this,g=this.Fs;c.then(function(){g===e.Fs&&e.haa(a)},function(){g===e.Fs&&(e.removeChild(e.uK),e.uK=null,e.er=!0,this.mD=null)})}};a.Nb.prototype.haa=function(c){var e;if(!c){this.removeChild(this.uK);this.rU();this.yK();this.IU();if(e=null==this.OA)this.OA=this.OS();this.VVa()}if(!this.er){var p=
this.mc;p.VV(this.pU);p.oS(this.eL());p.P6(this.Kaa);p.mxa(this.Kaa)}this.uK=null;this.Vq(!0);var p=g.R3(this),y=g.OQ(this);this.er||"none"===p||this.oz?"none"!==y&&this.oz&&(this.mh=new a.ca(this.a,"Delete Container"),this.B(this.mh),p=new f(this.a,this.mh,this.oz,this),p.En([this.oz],[this]),this.Cb=p.uz()):this.Cb=a.Ra.ZD(this.a,a.Ra.Wz,this,null,g.Lb(this));this.Cb?(this.Ob().ed(),this.Ob().kn(this),this.Cb.pg(this.rq,this),this.Cb.play()):this.rq();this.er=!0;this.mD=null;this.dza(c);this.pU&&
(c=this.OA,null!=c&&(p=this.mc.Vo(),this.Zda(c.x,c.y,c.b,c.i,p)));this.Oxa();e&&(this.OA=null)};a.Nb.prototype.VVa=function(){var a=this.mc;if(!this.er){this.vda(this.OA);var c=this.YS(),e=c?this.VG:this.OA;c&&a.CLa();a.oJ(null,e)}else if(this.hB||this.UEa)e=this.vda(this.OA),e=(c=this.YS())?this.VG:e?e:this.OA,c&&a.CLa(),a.mxa(!0),a.oJ(null,e),a.mxa(this.Kaa)};a.Nb.prototype.ne=function(c){a.Nb.C.ne.call(this,c);this.J.nodes=[];this.J.links=[];this.tKa(this.J);this.Bza("none"!=this.J.panning);this.Cza("none"!=
this.J.zooming);this.P7a();this.rS(this.J.selectionMode);this.bda(this.J.emptyText?this.J.emptyText:a.I.Yc(this.J,"labelNoData",a.I.pa,"NO_DATA"))};a.Nb.Uo=function(a){return(new p).Uo(a)};a.Nb.prototype.gy=function(){var a=this.A().maxZoom,a=parseFloat(a);return 0<a?a:1};a.Nb.prototype.hC=function(){var a=this.A().minZoom;if(a){var c=parseFloat(a);0<c&&(a=Math.min(c,this.gy()));return a}return 0};a.Nb.prototype.eL=function(){return this.A().panDirection};a.Nb.prototype.Lb=function(){return g.Lb(this)};
a.Nb.prototype.Ef=function(a){var c=a.type;"categoryHighlight"==c?this.rU(!0):"selection"==c&&(this.A().selection=a.selection);a&&this.dispatchEvent(a)};a.Nb.prototype.B6a=function(a){a&&(this.gaa(null,a),a=this.A().expanded,a&&(a.has||this.My)||(this.My=a?"all"===a?this.CT:a:[]))};a.Nb.prototype.Vva=function(c){if(c){for(var e=g.lIa(this,"linkDefaults"),f=0;f<c.length;f++){var p=c[f];if(!this.CXa(p)){var p=g.s3a(this,p,e),p=E.newInstance(this,p,!1),n=p.getId();this.BT.push(n);if(!p.hua()){var z=
this.Ib(p.Ri()),w=this.Ib(p.Ah());z.xqa(n);w.sqa(n);p.ia();this.xh[n]=p}}}if(this.oH){c=g.lIa(this,"promotedLink");for(var A in this.oH)this.xh[A]||(p=this.oH[A],p=a.Za.be(p,c),p=E.newInstance(this,p,!0),n=p.getId(),z=this.Ib(p.Ri()),w=this.Ib(p.Ah()),z.xqa(n),w.sqa(n),p.ia(),this.BT.push(n),this.xh[n]=p)}}};a.Nb.prototype.qE=function(){var c=this.A().layout,e=this.QWa();e.uwa({});if(this.mD){var g=this.mD,f=this.ysa(),g=new a.Kq(g.x-f.x,g.y-f.y,g.b,g.i);e.WKa(g)}if(c&&"function"==typeof c){g=e.Aj();
for(f=0;f<g;f++)this.MKa(e.uI(f));var n=this;(c=c(e))||(c={then:function(a){a()}});this.MV(0);var z=this.Fs;c.then(function(){if(n.Fs===z||n.hB){n.MV(1);n.oz&&n.oz.PLa(e);for(var a=e.Aj(),c=0;c<a;c++)n.IV(e.uI(c),!0);n.zda(e,!0)}},function(){});return c}this.Sfa("dvt.Diagram: Layout function is not defined")};a.Nb.prototype.MV=function(a){this.er||(this.iB.qa(a),this.hu.qa(a))};a.Nb.prototype.Ib=function(a){return this.oi[a]};a.Nb.prototype.mg=function(a){return this.xh[a]};a.Nb.prototype.BJ=function(){return this.BT};
a.Nb.prototype.CNa=function(){var a={};if(this.xh)for(var c in this.xh)a[c]=this.xh[c];return a};a.Nb.prototype.lya=function(){var a=[];if(this.xh)for(var c in this.xh)a.push(this.xh[c]);return a};a.Nb.prototype.KS=function(){return this.CT};a.Nb.prototype.ENa=function(){var a={};if(this.oi)for(var c in this.oi)a[c]=this.oi[c];return a};a.Nb.prototype.DNa=function(){var a=[];if(this.oi)for(var c in this.oi)a.push(this.oi[c]);return a};a.Nb.prototype.J7=function(){return this.eD};a.Nb.prototype.M7=
function(){for(var a=[],c=0;this.eD&&c<this.eD.length;c++){var e=this.oi[this.eD[c]];e&&a.push(e)}return a};a.Nb.prototype.Bo=function(c){a.Nb.C.Bo.call(this,c);switch(c.Dn){case a.vd.y8:if(this.pU){c=c.iU;var e=this.OA?this.OA:this.OS();this.Zda(e.x,e.y,e.b,e.i,c)}break;case a.vd.bha:this.YS()||(e=this.OA?this.OA:this.OS(),c.BLa(e));break;case a.vd.OY:if(this.A().zoomRenderer&&c.doa!==c.iU)for(e in this.oi)this.Ib(e).i7a(c)}};a.Nb.prototype.nV=function(a){var c=[],e;for(e in this.xh){var g=this.mg(e),
n=g.Ri(),f=g.Ah();n!=a&&f!=a||!g.Wy||c.push(g)}return c};a.Nb.prototype.vk=function(){return a.I.Ja(a.I.pa,"DIAGRAM")};a.Nb.prototype.yK=function(){if(this.J.selection&&this.Kl()){var a=[],c;for(c in this.oi)a.push(this.Ib(c));for(var e in this.xh)a.push(this.mg(e));this.Ue().Wr(this.J.selection,a)}};a.Nb.prototype.rU=function(c){c&&this.u.kn(this,!0);this.vD&&(this.gGa(!1,this.vD),this.vD=null);var e=this.J.highlightedCategories;if(e&&0!==e.length){var g="any"==this.J.highlightMatch;this.vD={};var f=
[],n;for(n in this.oi){var z=this.Ib(n),w=g?a.Y.$s(z.rd(),e):a.Y.CR(z.rd(),e);w&&(this.vD[z.getId()]=z,f.push(z))}this.GYa(f);var f=[],p;for(p in this.xh)if(n=this.mg(p),w=g?a.Y.$s(n.rd(),e):a.Y.CR(n.rd(),e))this.vD[n.getId()]=n,f.push(n);"linkAndNodes"==this.J.linkHighlightMode&&this.cFa(f);this.gGa(!0,this.vD);if(c){var d=this;setTimeout(function(){d.Ob().Lf(d)},0)}}else c&&this.u.Lf(this)};a.Nb.prototype.GYa=function(a){var c=this.J.nodeHighlightMode;if("node"!=c){for(var e="nodeAndIncomingLinks"==
c||"nodeAndLinks"==c,c="nodeAndOutgoingLinks"==c||"nodeAndLinks"==c,g=[],n=0;n<a.length;n++)for(var f=a[n],w=e&&f.mx?f.mx:[],w=c&&f.Ax?w.concat(f.Ax):w,f=0;f<w.length;f++){var p=w[f];this.vD[p]=this.mg(p);g.push(this.mg(p))}this.cFa(g)}};a.Nb.prototype.cFa=function(a){for(var c=0;c<a.length;c++){var e=a[c],g=e.Ri(),e=e.Ah();this.vD[g]=this.Ib(g);this.vD[e]=this.Ib(e)}};a.Nb.prototype.gGa=function(a,c){var e;if(this.CT.length==this.eD.length){e=a?this.J.styleDefaults._highlightAlpha:1;this.iB.qa(e);
this.hu.qa(e);for(var g in c)a?this.iKa(c[g]):c[g]instanceof E?this.jKa(c[g]):c[g]instanceof D&&this.kKa(c[g])}else if(a){e=this.J.styleDefaults._highlightAlpha;var n={};for(g in c)c[g].qa(1),n[g]=!0;for(var f in this.oi)n[f]||this.Ib(f).qa(e);for(var w in this.xh)n[w]||this.mg(w).qa(e)}else{for(f in this.oi)this.Ib(f).qa(1);for(w in this.xh)this.mg(w).qa(1)}};a.Nb.prototype.Zd=function(c){this.J.highlightedCategories=a.Za.clone(c);this.rU()};a.Nb.prototype.select=function(c){this.J.selection=a.Za.clone(c);
this.yK()};a.Nb.prototype.Bi=function(){this.Lc||(this.Lc=new F(this));return this.Lc};a.Nb.prototype.Sfa=function(a){var c=this.A()._logger;if(c)switch(1){case 1:c.error&&c.error(a);break;case 2:c.warn&&c.warn(a);break;case 3:c.info&&c.info(a);break;default:c.log&&c.log(a)}};a.Nb.prototype.yy=function(a,c){var e=this.Ib(a);e&&e.yy(c)};a.Nb.prototype.RI=function(a,c){var e=this.Ib(a);e&&e.RI(c)};a.Nb.prototype.vC=function(a,c){var e=this.Ib(a);e&&e.vC(c)};a.Nb.prototype.wS=function(c){if(c.Sy){var e=
this.Ib(c.getId());c.dS(a.Yh.Au(e.cR(!0)));c.eS(a.Yh.Au(e.po(!0)));c.as(a.Yh.Au(e.Mg(!0)))}else this.IV(c,!0)};a.Nb.prototype.MKa=function(a){if(this.Ib(a.getId()).gd()){a=a.Of();for(var c=0;c<a.length;c++)this.MKa(a[c])}else this.IV(a,!1)};a.Nb.prototype.IV=function(c,e){if(!c.Sy){var g=this.Ib(c.getId());if(g.gd()){var f=this.v7();f.uwa(c.ot?c.ot.UA:null);this.oz&&this.oz.PLa(f);for(var n=c.Of(),z=0;z<n.length;z++){var w=n[z];this.IV(w,!1);f.Paa(w)}for(z=0;z<n.length;z++)this.wS(n[z]);this.zda(f)}g.ia();
(f=g.gd()?g.bi():null)&&c.dt(f.top,f.right,f.bottom,f.left);c.dS(a.Yh.Au(g.cR(e)));c.eS(a.Yh.Au(g.po(e)));c.as(a.Yh.Au(g.Mg(e)));c.Sy=!0}};a.Nb.prototype.gaa=function(a,c){if(c)for(var e=g.JIa(this),f=0;f<c.length;f++){var n=g.NIa(this,c[f],e),z=D.newInstance(this,n),w=z.getId();a?(a.b0a(w),z.Iwa(a.getId())):this.eD.push(w);this.CT.push(w);n.nodes&&0<n.nodes.length&&(this.z$(w)?(z.ln(!0),this.gaa(z,n.nodes)):this.MTa(z));z.hua()||(a&&a.eX()?a.eX().B(z):this.hu.B(z),this.oi[w]=z)}};a.Nb.prototype.lLa=
function(c,e){e!=this.z$(c)&&this.dispatchEvent(new a.la.ad(e?"beforeExpand":"beforeCollapse",c))};a.Nb.prototype.expand=function(c){var e=!1,g=this.A().expanded;g&&g.has&&!g.has(c)?(e=!0,g=g.add([c]),this.x3({expanded:g})):(this.My||(this.My=[]),0>a.Y.ac(this.My,c)&&(this.My.push(c),e=!0));e&&(this.ia(this.A(),this.Oa,this.cb),this.dispatchEvent(new a.la.ad("expand",c)))};a.Nb.prototype.collapse=function(c){var e=!1,g=this.A().expanded;g&&g.has&&g.has(c)?(e=!0,g=g["delete"]([c]),this.x3({expanded:g})):
(g=-1,this.My&&(g=a.Y.ac(this.My,c)),-1<g&&(this.My.splice(g,1),e=!0));e&&(this.ia(this.A(),this.Oa,this.cb),this.dispatchEvent(new a.la.ad("collapse",c)))};a.Nb.prototype.nja=function(a,c,e,g){a.gd()&&(a=this.gCa(c,e,a.kD,g),c.CL(a))};a.Nb.prototype.eUa=function(c,e,g,f,n){c.gd()&&(f=f.reduce(function(a,c){a.push(c.id);return a},[]),g=this.gCa(e,g,f,!0),f=e.Of()||[],g=a.Y.Yta(f,g,n),e.CL(g),e.ln(!0),e.I8(a.Bb.Cba(c.bi())),e.LJ())};a.Nb.prototype.gCa=function(a,c,e,g){for(var n=[],f=0;f<e.length;f++){var w=
this.Ib(e[f]);if(w.Wy){var p=this.y7(w,null,g,c);p.NU(this.vP?this.vP.Ib(e[f]):null);c.xGa(p);p.qLa(a);n.push(p);this.nja(w,p,c,g)}}return n};a.Nb.prototype.z$=function(c){var e=this.A().expanded;return e&&e.has?e.has(c):(e=this.My?this.My:e)&&-1<a.Y.ac(e,c)||e&&-1<a.Y.ac(e,"all")};a.Nb.prototype.CXa=function(a){var c=this.Ib(a.startNode),e=this.Ib(a.endNode);if(c&&e||!this.KT)return!1;if("none"===this.A().promotedLinkBehavior)return!0;c=c?c.getId():this.GCa(a.startNode);e=e?e.getId():this.GCa(a.endNode);
if(!c||!e||c===e)return!1;var g=E.tya(c,e);this.oH||(this.oH={});this.oH[g]?this.oH[g]._links.push(a):this.oH[g]={id:g,startNode:c,endNode:e,_links:[a]};this.rr||(this.rr={});this.rr[a.id]=g;return!0};a.Nb.prototype.MTa=function(a){this.KT||(this.KT=[]);this.KT.push(a)};a.Nb.prototype.GCa=function(a){function c(a,e){if(a)for(var g=0;g<a.length;g++)if(a[g].id===e||c(a[g].nodes,e))return!0;return!1}for(var e=0;e<this.KT.length;e++){var g=this.KT[e];if(c(g.getData().nodes,a))return g.getId()}return null};
a.Nb.prototype.IU=function(){var a=this.Ob().Fe(),c=!1;if(a){var e;a instanceof D?e=this.Ib(a.getId()):a instanceof E&&(e=this.mg(a.getId()));c=a.Ae();e&&c&&e.rh();this.Ob().Pu(e)}};a.Nb.prototype.S0a=function(){this.My=null};a.Nb.prototype.EPa=function(c){if(this.Ob().$S)if(c=this.a.nf(c.pageX,c.pageY),c=this.mc.Zc.pf({x:c.x,y:c.y}),this.Q0){var e=this.Q0.Df();this.Q0.Vh([e[0],e[1],c.x,c.y])}else{var f=this.Ob().vc.eo;if(f instanceof D){var e=this.Ob().vc.a$,e=this.mc.Zc.pf({x:e.x,y:e.y}),p=this.A().styleDefaults.linkDefaults;
g.tva(p);var n=this.A().dnd.drag.ports.linkStyle;n&&"function"===typeof n&&(n=n({dataContext:f.zj(),portElement:f.e9}))&&(p.style=a.Za.be(n.svgStyle,p.style),p.svgClassName=n.svgClassName||p.className);f={id:"linkFeedback",startNode:f.getId(),endNode:f.getId()};f=a.Za.be(f,p);f=E.newInstance(this,f,!1);this.hu.B(f);f.cd(!1);f.Vh([e.x,e.y,c.x,c.y]);this.Q0=f}}};a.Nb.prototype.gOa=function(){this.hu.removeChild(this.Q0);this.Q0=null};a.Nb.prototype.Mta=function(a,e){"none"!==g.OQ(this)&&(this.oz=new c(this,
a,e));this.mD=this.mc.nL();if(this.pU){var f=this.mc;f.I6(null);f.G6(null);f.H6(null);f.F6(null)}var f=e.data.nodes,p=e.data.links,n,z;if("add"==a)(z=(n=e.parentId)?this.Ib(n):null)?(z.s0a(f,e.index),this.z$(n)&&(z.ln(!0),this.gaa(z,f))):this.gaa(null,f),this.Vva(p);else if("change"==a){if(f)for(n=g.JIa(this),z=0;z<f.length;z++){var w=this.Ib(f[z].id);if(w){var A=g.NIa(this,f[z],n);w.setData(A)}}p&&(this.Ioa(p),this.Vva(p))}else"remove"==a&&((z=(n=e.parentId)?this.Ib(n):null)?(this.Koa(z,f),z.S6a(f),
z.getData().nodes&&0!==z.getData().nodes.length||z.ln(!1)):this.Koa(null,f),this.Ioa(p));this.oz&&this.oz.p9a(a,e);this.G_a(a,e);if(f=0===this.KS().length)this.haa(f);else{this.Fs++;var f=this.qE(),d=this,h=this.Fs;f.then(function(){h===d.Fs&&(d.UEa=!0,d.haa(!1),d.UEa=!1)},function(){h===d.Fs&&(d.removeChild(d.uK),d.uK=null,d.er=!0,this.mD=null)})}};a.Nb.prototype.G_a=function(a,c){this.wD||(this.wD=this.v7());var e=this.wD;e.Ewa({type:a,data:c});var g=c.data.nodes,n=c.data.links,f,w,p,d,h;c.parentId&&
(d=e.Ib(c.parentId),h=this.Ib(c.parentId));if("add"==a){if(g)if(d&&h)d.gT(),this.eUa(h,d,e,g,c.index);else for(f=0;f<g.length;f++)p=g[f].id,this.Ib(p)&&(w=this.y7(this.Ib(p),null,!0,e),this.nja(this.Ib(p),w,e,!0),e.Paa(w));if(n)for(f=0;f<n.length;f++)g=n[f].id,(g=this.mg(g)||this.mg(this.rr[g]))&&!e.mg(g.getId())&&(w=g.getData().startNode,p=g.getData().endNode,e.Ib(w)&&e.Ib(p)&&e.Maa(this.x7(g,w,p,null,e)))}else if("change"==a){if(g)for(f=0;f<g.length;f++)p=g[f].id,w=e.Ib(p),w.gT(),w.LJ();if(n){for(f=
e.fC()-1;0<=f;f--)g=e.qI(f),this.xh[g.getId()]||e.Pca(g);for(f=0;f<n.length;f++)if(g=n[f].id,g=this.mg(g)||this.mg(this.rr[g]))e.Pca(e.mg(g.getId())),w=g.getData().startNode,p=g.getData().endNode,e.Ib(w)&&e.Ib(p)&&e.Maa(this.x7(g,w,p,null,e))}}else if("remove"==a){if(g){for(f=0;f<g.length;f++)p=g[f].id,w=e.Ib(p),e.removeNode(d,w);d&&h&&(d.gT(),d.LJ(),d.ln(h.gd()))}for(f=e.fC()-1;0<=f;f--)g=e.qI(f),this.xh[g.getId()]||e.Pca(g)}};a.Nb.prototype.QWa=function(){if(!this.wD){for(var a=this.v7(),c=0;c<
this.eD.length;c++){var e=this.eD[c];if(this.Ib(e)){var g=this.er?!1:!0,n=this.Ib(e),f=this.y7(n,null,g,a);f.NU(this.vP?this.vP.Ib(e):null);this.nja(n,f,a,g);a.Paa(f)}}for(var w in this.xh)if(c=this.mg(w))e=c.getData().startNode,g=c.getData().endNode,a.Ib(e)&&a.Ib(g)&&(c=this.x7(c,e,g,null,a),c.NU(this.vP?this.vP.mg(w):null),a.Maa(c));this.wD=a;this.vP=null}return this.wD};a.Nb.prototype.Koa=function(c,e){if(e&&(!c||c.gd())){for(var g=[],f=0;f<e.length;f++){var n=e[f].id,z=this.Ib(n);this.Koa(z,z.getData().nodes);
for(var w in this.xh){var p=this.mg(w);p&&(p.Ri()!=n&&p.Ah()!=n||g.push(p.getData()))}c?c.Q6a(z):(a.Y.removeItem(this.eD,n),this.hu.removeChild(z));a.Y.removeItem(this.CT,n);delete this.oi[n]}this.Ioa(g)}};a.Nb.prototype.Ioa=function(c){if(c&&0!=c.length)for(var e=0;e<c.length;e++){var g=c[e].id,f=this.mg(g);if(f){var n=f.getParent();n.removeChild(f);var n=this.Ib(f.Ri()),z=this.Ib(f.Ah());n&&n.Ova(g);z&&z.Nva(g);a.Y.removeItem(this.BT,g);delete this.xh[g]}else if(this.rr[g]){var f=this.rr[g],w=this.xh[f];
if((n=w?w.getData()._links:null)&&1==n.length&&n[0].id==g)n=w.getParent(),n.removeChild(w),n=this.Ib(w.Ri()),z=this.Ib(w.Ah()),n&&n.Ova(f),z&&z.Nva(f),a.Y.removeItem(this.BT,w.getId()),delete this.xh[w.getId()],delete this.oH[w.getId()],delete this.rr[g];else if(n){for(e=0;e<n.length;e++)n[e].id==g&&n.splice(e,1);delete this.rr[g]}}}};a.I.PD(a.I.EW,{PROMOTED_LINK:"{0} link",PROMOTED_LINKS:"{0} links",PROMOTED_LINK_ARIA_DESC:"Indirect"});a.f.v(e,a.sd,"DvtDiagramCategoryRolloverHandler");e.rZ=100;e.prototype.pX=
function(c){return a.f.Ni(this,function(){this.PY(!0);this.wa.Ef(c)})};e.prototype.oX=function(c){return a.f.Ni(this,function(){this.QY();this.wa.Ef(c)})};a.f.v(p,a.ka,"DvtDiagramDefaults");p.If={skin:a.j.Rg,emptyText:null,selectionMode:"none",animationOnDataChange:"none",animationOnDisplay:"none",maxZoom:1,highlightMatch:"all",nodeHighlightMode:"node",linkHighlightMode:"link",panning:"none",touchResponse:"auto",zooming:"none",promotedLinkBehavior:"lazy",_statusMessageStyle:new a.j(a.ka.pj),dnd:{drag:{nodes:{},
ports:{}},drop:{background:{},nodes:{},links:{},ports:{}}},styleDefaults:{animationDuration:500,hoverBehaviorDelay:200,_highlightAlpha:.1,nodeDefaults:{_containerStyle:new a.j("border-color:#abb3ba;background-color:#f9f9f9;border-width:.5px;border-radius:1px;padding-top:20px;padding-left:20px;padding-bottom:20px;padding-right:20px;"),labelStyle:a.ka.OW+"color:#383A47",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",icon:{width:10,height:10,fillPattern:"none",
shape:"circle"}},linkDefaults:{startConnectorType:"none",endConnectorType:"none",width:1,_style:{_type:"solid"},hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",labelStyle:a.ka.OW+"color:#383A47",_hitDetectionOffset:10},promotedLink:{startConnectorType:"none",endConnectorType:"none",width:1,_style:{_type:"dot",strokeDasharray:"2,3"},color:"#778999",hoverInnerColor:"rgb(255,255,255)",hoverOuterColor:"rgba(0,0,0, .3)",selectionColor:"rgb(0,0,0)",_hitDetectionOffset:10}}};
p.prototype.cL=function(){return{data:!0}};p.Rg={};a.f.v(c,a.f,"DvtDiagramDataAnimationState");c.prototype.Init=function(a,c,e){this.wa=a;this.oi=[];this.m1=[];this.xh=[];this.P$=[];this.qz={};this.SOa=this.wa.mc.Zc.Wa();this.HX=c&&e?!0:!1;this.FOa=this.wa.ENa();this.pOa=this.wa.CNa();this.j_a(c,e);this.i_a(c,e)};c.prototype.getId=function(){return this.wa.getId()};c.prototype.A=function(){return this.wa.A()};c.prototype.p9a=function(a,c){if(c){var e=c.data.nodes,g=c.data.links,n;if("add"==a){for(n=
0;e&&n<e.length;n++){var f=this.wa.Ib(e[n].id);f&&(!0===this.N_a&&this.m1.push(f),this.qz[f.getId()]=!0)}for(n=0;g&&n<g.length;n++)if(e=g[n].id,e=this.wa.mg(e)||this.wa.rr&&this.wa.mg(this.wa.rr[e]))this.P$.push(e),this.qz[e.getId()]=!0}else if("change"==a)for(n=0;g&&n<g.length;n++)if(e=g[n].id,e=this.wa.mg(e)||this.wa.rr&&this.wa.mg(this.wa.rr[e]))this.P$.push(e),this.qz[e.getId()]=!0}};c.prototype.PLa=function(a){if(this.HX){a=a.UA;for(var c in a)this.qz[c]||this.qz[c]||(a=this.wa.Ib(c)||this.wa.mg(c),
a instanceof D?(this.oi.push(a.XU()),this.m1.push(a),this.qz[c]=!0):a instanceof E&&(this.xh.push(a.XU()),this.P$.push(a),this.qz[c]=!0))}};c.prototype.j_a=function(a,c){if(this.HX){var e=c.data.nodes,g=c.parentId;if("add"==a)this.ija(g);else if("change"==a)for(g=0;e&&g<e.length;g++){var n=this.wa.Ib(e[g].id);n&&(this.ija(n.lj()),this.oi.push(n.XU()),this.m1.push(n),this.qz[n.getId()]=!0)}else if("remove"==a&&(this.ija(g),e&&!g))for(g=0;g<e.length;g++)if(n=this.wa.Ib(e[g].id))this.oi.push(n),this.qz[n.getId()]=
!0}else this.oi=this.wa.M7()};c.prototype.i_a=function(a,c){if(this.HX){var e=c.data.links;if(e){var g,n;if("change"==a)for(g=0;g<e.length;g++){if(n=e[g].id,n=this.wa.mg(n)||this.wa.rr&&this.wa.mg(this.wa.rr[n]))this.xh.push(n.XU()),this.qz[n.getId()]=!0}else if("remove"==a)for(g=0;g<e.length;g++)if(n=e[g].id,n=this.wa.mg(n)||this.wa.rr&&this.wa.mg(this.wa.rr[n]))this.xh.push(n),this.qz[n.getId()]=!0}}else this.xh=this.wa.lya()};c.prototype.ija=function(a){var c=a?this.wa.Ib(a):null;for(this.N_a=
c?c.gd():!0;c;){var e=c.XU(c.getId()===a);this.oi.push(e);this.m1.push(c);this.qz[c.getId()]=!0;c=c.lj()?this.wa.Ib(c.lj()):null}};a.f.v(f,a.Pl,"DvtDiagramDataAnimationHandler");f.WL=0;f.tj=1;f.dF=2;f.prototype.Init=function(a,c,e,g){f.C.Init.call(this,a,c);this.aoa=e;this.aYa=g};f.prototype.Lb=function(){return g.Lb(this.aoa)};f.prototype.En=function(c,e){var g=!1;e&&0<e.length&&(g=e[0]instanceof E);if(g&&!this.a.OR()){var g=f.ACa(c),p=f.ACa(e),n,z,w={},A;for(A in g)if(n=g[A],z=p[A])if(!n.Il()&&
!z.Il()||n.Il()&&z.Il()&&n.getId()==z.getId())z.Mf(this,n);else{var d=n.Il()?n.getData()._links.length:1,h=z.Il()?z.getData()._links.length:1;d>h&&!w[n.getId()]?this.SBa(n,p,w,!0):d<h&&!w[z.getId()]?this.SBa(z,g,w,!1):d==h&&z.Mf(this,n)}else-1==a.Y.ac(this.aYa.BJ(),n.getId())&&n.ai(this);for(A in p)n=g[A],z=p[A],n||this.aoa.pOa[z.getId()]||z.nh(this)}else f.C.En.call(this,c,e)};f.prototype.SBa=function(c,e,g,f){for(var n=[],z=c.getData()._links,w=0;w<z.length;w++){var p=e[z[w].id];p&&-1===a.Y.ac(n,
p)&&n.push(p)}0<n.length&&(f?c.r0a(this,n):c.q0a(this,n),g[c.getId()]=!0)};f.ACa=function(a){for(var c={},e=0;e<a.length;e++){var g=a[e];if(g)if(g.Il())for(var n=g.getData()._links,f=0;f<n.length;f++)c[n[f].id]=g;else c[g.getId()]=g}return c};a.f.v(x,a.u,"DvtDiagramEventManager");x.prototype.DLa=function(a,c){this.xt(a,c)};x.prototype.xt=function(a,c){this.wa.UJa()||x.C.xt.call(this,a,c)};x.prototype.Ij=function(c,e,g){c=this.wa.A();"dim"==c.hoverBehavior&&(e=e.rd?e.rd():[],c.highlightedCategories=
g?e.slice():null,g=a.la.OI(c.highlightedCategories,g),e=a.$a.zq(c.styleDefaults.hoverBehaviorDelay),this.pF.Ef(g,this.wa.DNa(),e,"any"==c.highlightMatch))};x.prototype.tW=function(a,c){return new e(a,c)};x.prototype.Ul=function(c){var e=!0,g=c.keyCode,f=this.Fe(),n=f instanceof D?f.ik:null;g!=a.KeyboardEvent.rg&&this.hD?(n.LQ(c),c.preventDefault()):g==a.KeyboardEvent.rg&&n instanceof a.$b?!c.shiftKey&&f.Ae()?(f.mf(),n.LQ(c),c.preventDefault(),this.hD=!0):(c.shiftKey&&this.hD?(this.xt(c,f),c.preventDefault()):
(this.hD&&f.rh(),e=x.C.Ul.call(this,c)),this.hD=!1):g==a.KeyboardEvent.Kj&&c.ctrlKey&&c.shiftKey?f&&f.Ry&&f.Ry(c):(g==a.KeyboardEvent.rg&&f&&this.wa.VD(c,f),e=x.C.Ul.call(this,c));return e};x.prototype.Oy=function(){var c=this.wa.A();return"none"!==c.panning||"none"!==c.zooming?a.u.UC:c.touchResponse===a.u.ns?a.u.ns:a.u.ZY};x.prototype.dv=function(c){return this.Xg(c,a.Dd.JW)};x.prototype.uA=function(c){return c==a.Dd.JW?!1:x.C.uA.call(this,c)};x.prototype.$x=function(){return this.wa};x.prototype.mE=
function(){return!0};x.prototype.pw=function(a){var c=this.vc.eo;if(c&&c.uT)return c.uT;if(c instanceof D){null===this.F$&&(this.F$=this.wa.A().dnd.drag.ports.selector);var e;this.F$&&(e=this.FDa(document.elementFromPoint(a.Ng().clientX,a.Ng().clientY),this.F$))&&(this.$S=!0,c.e9=e);c.uT=e?"ports":"nodes";return c.uT}return null};x.prototype.VE=function(){var c=this.vc.eo;if(this.wa.Kl()&&1<this.wa.Ue().wj.length){for(var c=this.wa.Ue().getSelection(),e=this.RDa(c),g=this.wa.mc.Vo(),f=[],n=0;n<c.length;n++)if(c[n]instanceof
D){var z=c[n].zj(),w=c[n].V(this.a.Gc);z.nodeOffset=new a.P((w.x-e.x)/g,(w.y-e.y)/g);f.push(z)}return f}if(c instanceof D){if("ports"===c.uT&&c.e9)return{dataContext:c.zj(),portElement:c.e9};z=c.zj();z.nodeOffset=new a.P(0,0);return[z]}return[]};x.prototype.jX=function(c){var e;if(this.wa.Kl()&&1<this.wa.Ue().wj.length)e=this.RDa(this.wa.Ue().getSelection());else{var g=this.vc.eo;g instanceof D&&(e=g.V(this.a.Gc))}return e?(c=this.a.nf(c.pageX,c.pageY),g=this.wa.mc.Vo(),new a.P((e.x-c.x)/g,(e.y-c.y)/
g)):null};x.prototype.RDa=function(c){if(!c)return null;for(var e=Number.MAX_VALUE,g=Number.MAX_VALUE,f=0;f<c.length;f++)if(c[f]instanceof D)var n=c[f].V(this.a.Gc),e=n?Math.min(n.x,e):e,g=n?Math.min(n.y,g):g;return new a.P(e,g)};x.prototype.cY=function(a){var c=this.vc.eo;c&&c.uT&&(c.uT=null,c.e9=null);this.$S=!1;x.C.cY.call(this,a)};x.prototype.bY=function(a){x.C.bY.call(this,a);this.$S&&this.wa.EPa(a)};x.prototype.aY=function(a){x.C.aY.call(this,a);this.$S&&(this.wa.gOa(),this.$S=!1);this.wa.mc.g6a();
this.J2(!0)};x.prototype.J2=function(a){this.wa.pU&&this.wa.mc.VV(a)};x.prototype.a8=function(){if(!this.iEa){var a=this.wa.A();this.iEa=this.mE()&&(a.dnd.drag.nodes.dataTypes||a.dnd.drag.ports.dataTypes)}return this.iEa};x.prototype.Sl=function(a){var c=this.Ya(this.Vd(a));this.a8()&&c instanceof D&&this.J2(!1);x.C.Sl.call(this,a)};x.prototype.Tl=function(a){x.C.Tl.call(this,a);this.J2(!0)};x.prototype.$E=function(a){this.a8()&&1==a.targetTouches.length&&this.Ya(this.Vd(a))instanceof D&&this.J2(!1)};
x.prototype.QS=function(){this.a8()&&this.J2(!0)};x.prototype.qw=function(a){var c=this.Ya(this.Vd(a));this.wa.Vb.Pf("dropTarget",c);if(null===c)return"background";if(c instanceof D){var e;null===this.G$&&(this.G$=this.wa.A().dnd.drop.ports.selector);this.G$&&(e=this.FDa(a.Ng().target,this.G$));return(c.IF=e)?"ports":"nodes"}return c instanceof E?"links":null};x.prototype.LS=function(c){var e=c.Ng().dataTransfer,g=Number(e.getData(a.u.FW))||0,e=Number(e.getData(a.u.GW))||0,f=this.wa.mc.Zc.pf(this.a.nf(c.pageX,
c.pageY)),n=this.wa.ysa(),n={x:f.x-n.x+g,y:f.y-n.y+e};c=this.Ya(this.Vd(c));c instanceof D?(c.IF?(n.dataContext=c.zj(),n.portElement=c.IF):n.nodeContext=c.zj(),c=(c=c.V(this.a.Gc))?this.wa.mc.Zc.pf({x:c.x,y:c.y}):null,n.nodeX=c?f.x-c.x+g:null,n.nodeY=c?f.y-c.y+e:null):c instanceof E&&(n.linkContext=c.zj());return n};x.prototype.PC=function(c){c=this.qw(c);var e=this.wa.Vb.Te("dropTarget");"background"===c?this.wa.mc.Rw.sc("oj-active-drop"):"nodes"===c||"links"===c?e&&e.PC&&e.PC():e&&"ports"===c&&
e.IF&&a.l.r3(e.IF,"oj-active-drop")};x.prototype.QC=function(c){c=this.qw(c);var e=this.wa.Vb.Te("dropTarget");"background"===c?this.wa.mc.Rw.sc("oj-invalid-drop"):"nodes"===c||"links"===c?e&&e.QC&&e.QC():e&&"ports"===c&&e.IF&&a.l.r3(e.IF,"oj-invalid-drop")};x.prototype.Ly=function(){this.wa.mc.Rw.sc(null);var c=this.wa.Vb.Te("dropTarget");c&&c.Ly&&c.Ly();c&&c.IF&&(a.l.WI(c.IF,"oj-active-drop"),a.l.WI(c.IF,"oj-invalid-drop"));this.wa.Vb.Pf("dropTarget",null)};x.prototype.FDa=function(a,c){return a&&
a.closest?a.closest(c):null};a.f.v(v,a.yf,"DvtDiagramKeyboardHandler");v.prototype.Uh=function(c){var e=!1;switch(c.keyCode){case a.KeyboardEvent.Uy:case a.KeyboardEvent.hw:e=!0;break;case a.KeyboardEvent.Ty:case a.KeyboardEvent.gw:e=c.altKey?!0:!1;break;default:e=v.C.Uh.call(this,c)}return e};v.prototype.Qk=function(c){if(c.keyCode==a.KeyboardEvent.rg){var e=this.Fc.Fe();if(e)return a.u.Ud(c),e;e=this.wa.M7();if(0<e.length)return a.u.Ud(c),e=this.lI(e),this.wa.VD(c,e),e}return v.C.Qk.call(this,c)};
v.prototype.Py=function(a){return this.wa.Ib(a)};a.f.v(E,a.Ab,"DvtDiagramLink");E.s7="customStyle";E.newInstance=function(a,c,e){return new E(a.a,a,c,e)};E.prototype.Init=function(a,c,e,g){E.C.Init.call(this,a,e.id,c);this.sb=e;this.WV(g);this.ab()&&this.setCursor("pointer");this.Iwa(E.yWa(this,c))};E.prototype.getData=function(){return this.sb};E.prototype.setData=function(a){this.sb=a};E.prototype.getId=function(){return this.getData().id};E.prototype.Q3=function(){this.IZ||(this.IZ=this.getId()+
Math.floor(1E9*Math.random()));return this.IZ};E.prototype.Ri=function(){return this.getData().startNode};E.prototype.Ah=function(){return this.getData().endNode};E.prototype.Mg=function(){var a=null;this.yd&&(a=this.yd.V());return a};E.prototype.iV=function(){return this.getData().svgStyle||this.getData().style};E.prototype.zz=function(){return this.getData().width};E.prototype.bL=function(){return this.getData().color};E.prototype.Qv=function(){return this.getData().startConnectorType};E.prototype.Ts=
function(){return this.getData().endConnectorType};E.prototype.kL=function(){return this.Qv()?a.La.c5(this.Qv(),this.Ny(),this.Ny()):0};E.prototype.VK=function(){return this.Ts()?a.La.c5(this.Ts(),this.Ny(),this.Ny()):0};E.prototype.ia=function(){var a=this.wa,c=this.lj(),e=a.Ib(this.Ri()).lj(),g=a.Ib(this.Ah()).lj();if(c){var n=a.Ib(c).eX();c==e&&c==g?n.Ad(this,0):n.B(this)}else e||g?a.hu.B(this):a.iB.B(this);E.zZa(a,this.getData(),this);this.zg("img");this.qs();this.wa.Ob().Xb(this,this)};E.prototype.Vh=
function(a){!this.Dx&&a&&E.AZa(this.getData(),this);E.C.Vh.call(this,a)};E.AZa=function(c,e){var g=e.Dx;g||(g=["M",0,0,"L",0,0]);var f=c.id,n=c.color,z=c.width,w=c.svgStyle||c.style;e.LO=e.z7("#000000",0,c._hitDetectionOffset);e.Ad(e.LO,0);n=new a.ma(n,1,z);n.We(!0);g=new a.Jb(e.a,g,f);f=c.svgClassName||c.className;g.Ia(null);g.sc(f);if(e.a.sp)g.Ma(w);else if(w&&w instanceof Object){f=a.Pa.Sk;w._type==E.s7?w.strokeDasharray&&(f=a.Pa.Zu,w.strokeDasharray=a.Qd.DKa(w.strokeDasharray)):f=a.Qd.sJ(w._type);
n.um(f,w.strokeDasharray,w.strokeDashoffset);var p=a.Za.clone(w);a.Y.forEach(["_type","strokeDasharray","strokeDashoffset"],function(a){delete p[a]});g.Ma(p)}else f=a.Qd.sJ(w),n.um(f,a.Qd.kM(f),a.Qd.lM(f));g.Ha(n);e.yLa(g);e.Ad(g,1)};E.zZa=function(c,e,g){var f=a.m.ea(c.a)?a.M.ii:a.M.Fj;e.label&&(c=E.km(c.a,e.label,e.labelStyle,f,a.M.Oj),e=a.j.Xe((new a.j(e.labelStyle)).getWidth()),0<e&&a.ga.Xc(c,e,Infinity,g)||g.B(c),g.yd=c)};E.km=function(c,e,g,f,n){g=new a.j(g);g.H5()?c=new a.Fb(c,e,0,0,g):(c=
new a.M(c,e,0,0),c.ub(g));c.Dq(f);c.Vz(n);return c};E.prototype.hc=function(a){E.C.hc.call(this,a);a?this.Qpa(this.wl,!0):this.aEa();this.qs()};E.prototype.ab=function(){return this.wa.Kl()&&"off"!=this.getData().selectable};E.prototype.Qpa=function(a,c){if(a){this.DB||(this.DB=this.yg().fe());var e=this.yg().fe().clone();e.Yp&&e.Yp(this.getData().hoverInnerColor);this.yg().Ha(e);this.RM(this.KD,e);this.RM(this.sD,e)}else this.DB&&(this.yg().Ha(this.DB),this.RM(this.KD,this.DB),this.RM(this.sD,this.DB),
this.DB=null);this.Qm||(this.Qm=this.iea("#000000",1,0,this.getData().svgStyle,this.getData().svgClassName),this.Ad(this.Qm,0));var e=c?this.getData().selectionColor:this.getData().hoverOuterColor,g=this.Qm.fe().clone();g.Yp(e);g.jb(2+this.Ny());this.h7(g,!0);this.Qm.Ha(g,2)};E.prototype.aEa=function(){this.DB&&(this.yg().Ha(this.DB),this.RM(this.KD,this.DB),this.RM(this.sD,this.DB),this.DB=null);this.Qm&&(this.removeChild(this.Qm),this.Qm.Ec&&this.Qm.Ec(),this.Qm=null)};E.prototype.h7=function(c,
e){if(!this.a.sp){var g=this.K7();if(g&&g instanceof Object)if(g._type==E.s7){var f=null!=g.strokeDashoffset?a.j.Xe(g.strokeDashoffset)+1:1;c.um(a.Pa.Zu,a.Qd.SHa(g.strokeDasharray),f)}else g=a.Qd.sJ(g._type),c.um(g,a.Qd.kM(g,e),a.Qd.lM(g,e));else E.C.h7.call(this,c,e)}};E.prototype.Rc=function(){this.wl||(this.wl=!0,this.Qpa(!0,this.gb()))};E.prototype.Cc=function(){this.gb()?this.Qpa(!1,!0):this.aEa();this.wl=!1};E.prototype.bf=function(){var a=this.wa.A().tooltip;return(a=a?a.renderer:null)?this.wa.a.cf().Rs(a,
this.zj()):this.Eh()};E.prototype.Eh=function(){return this.Il()?1<this.getData()._links.length?a.I.Yc(this.wa.A(),"promotedLinks",a.I.EW,"PROMOTED_LINKS",this.getData()._links.length):a.I.Yc(this.wa.A(),"promotedLink",a.I.EW,"PROMOTED_LINK",this.getData()._links.length):this.getData().shortDesc};E.prototype.zj=function(){return{id:this.getId(),type:this.Il()?"promotedLink":"link",label:this.getData().label,data:this.Il()?this.getData()._links:this.getData()._origData,component:this.wa.A()._widgetConstructor}};
E.prototype.te=function(){var c=[];this.ab()&&c.push(a.I.Ja(a.I.pa,this.gb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.Il()&&c.push(a.I.Ja(a.I.EW,"PROMOTED_LINK_ARIA_DESC"));return a.R.lm(this.Eh(),c)};E.prototype.qs=function(){if(!a.m.Vj()){var c=this.te();c&&this.Od("label",c)}};E.prototype.Kd=function(c){if(c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;if(c.keyCode==a.KeyboardEvent.sg||c.keyCode==a.KeyboardEvent.kf){var e=this.B$;e||(e=this.wa.Ib(this.Ri()));var g=this,f=this.wa.nV(e.getId()),
n=this.wa.Ob().ya;n&&n.Gsa&&(g=n.Gsa(e,this,c,f));g.Pwa(e);this.wa.VD(c,g);return g}return c.keyCode==a.KeyboardEvent.Be||c.keyCode==a.KeyboardEvent.Ne?(e=this.$Xa(c.keyCode)?this.Ri():this.Ah(),e=this.wa.Ib(e),this.wa.VD(c,e),e):c.type==a.MouseEvent.He?this:null};E.prototype.$Xa=function(c){var e=this.Iba(),g=this.Hba(),e=e.x<g.x?!0:!1;return c==a.KeyboardEvent.Be&&e||c==a.KeyboardEvent.Ne&&!e?!1:!0};E.prototype.rh=function(){this.Sc=!0;this.Rc()};E.prototype.mf=function(){this.Sc=!1;this.Cc()};
E.prototype.Ae=function(){return this.Sc};E.prototype.rd=function(){return this.getData().categories?this.getData().categories:[this.getId()]};E.prototype.hua=function(){var c=this.wa.A().hiddenCategories;return c&&a.Y.$s(c,this.rd())||!this.wa.Ib(this.Ri())||!this.wa.Ib(this.Ah())?!0:!1};E.prototype.Mf=function(c,e,g){var p=e.Df(),n=this.Df(),z=new a.td(this.a,null,c.Lb());a.Y.nc(p,n)||(this.Vh(p),p=a.L.P8,0<n.length&&isNaN(n[0])&&(p=a.L.XC),z.da.aa(p,this,this.Df,this.Vh,n));e.yd&&this.yd&&(n=e.yd.Wa(),
p=this.yd.Wa(),n.nc(p)||(this.yd.mb(n),z.da.aa(a.L.ji,this.yd,this.yd.Wa,this.yd.mb,p)));e.yg()&&this.yg()&&(e=e.yg().fe(),n=this.yg().fe(),e&&n&&e instanceof a.ma&&n instanceof a.ma&&(e.Zb()!=n.Zb()||e.getWidth()!=n.getWidth())&&(this.yg().Ha(e),z.da.aa(a.L.gZ,this.yg(),this.yg().fe,this.yg().Ha,n)));if(g){var w=this;a.yb.Le(z,function(){w.getParent().removeChild(w)})}c.add(z,f.tj)};E.prototype.ai=function(c){this.wa.iB.B(this);var e=this,g=new a.Wg(this.a,this,c.Lb());a.yb.Le(g,function(){e.getParent().removeChild(e);
e.Ec()});c.add(g,f.WL)};E.prototype.nh=function(c){this.qa(0);c.add(new a.dg(this.a,this,c.Lb()),f.dF)};E.prototype.q0a=function(c,e){if(e&&0!=e.length){var g=a.Y.copy(this.Df());this.Mf(c,e[0]);for(var f=1;f<e.length;f++){var n={id:"_fakeLink"+f+this.getId()},n=a.Za.be(n,this.getData()),n=new E(this.wa.a,this.wa,n,!0);n.ia();n.Vh(g);n.Mf(c,e[f],!0)}}};E.prototype.r0a=function(a,c){if(c&&0!=c.length)for(var e=0;e<c.length;e++)c[e].Mf(a,this)};E.prototype.mS=function(c,e){c&&(c==a.M.Fj?this.yd.Ph():
c==a.M.Lh?this.yd.$f():c==a.M.ii&&this.yd.dh());e&&(e==a.M.Oj?this.yd.Mk():e==a.M.rf?this.yd.ug():e==a.M.Oh?this.yd.jm():"baseline"==e&&this.yd.tz())};E.prototype.Iwa=function(a){this.uma=a};E.prototype.lj=function(){return this.uma};E.yWa=function(c,e){function g(a,c){for(var d=[],h=c.Ib(a)?c.Ib(a).lj():null;h;)d.push(h),h=c.Ib(h)?c.Ib(h).lj():null;return d}for(var f=g(c.Ri(),e),n=g(c.Ah(),e),p=0;p<f.length;p++)if(-1<a.Y.ac(n,f[p]))return f[p];return null};E.tya=function(a,c){return"_plL"+a+"_L"+
c};E.prototype.PC=function(){this.$w||this.v_("oj-diagram-link oj-active-drop")};E.prototype.QC=function(){this.$w||this.v_("oj-diagram-link oj-invalid-drop")};E.prototype.Ly=function(){this.$w&&(this.removeChild(this.$w),this.$w=null)};E.prototype.v_=function(a){var c=this.getData()._hitDetectionOffset;this.$w=this.iea("#000000",0,c,null,a);this.$w.cd(!1);this.B(this.$w)};E.MMa=function(a){return{id:a.id,startNode:a.startNode,endNode:a.endNode,label:a.label,selectable:a.selectable,shortDesc:a.shortDesc,
categories:a.categories,_origData:a}};E.prototype.XU=function(){var a,c,e;this.yd&&(a={matrix:this.yd.Wa(),Wa:function(){return a.matrix}});this.yg()&&(c={stroke:this.yg().fe().clone(),fe:function(){return c.stroke}});var g=this.Il()?this.getData()._links:null;return e={partialUpdate:!0,id:this.getId(),promoted:this.Il(),includedLinks:g,points:this.Df(),shape:c,yd:a,getId:function(){return e.id},Il:function(){return e.promoted},getData:function(){return{_links:e.includedLinks}},Df:function(){return e.points},
yg:function(){return e.shape}}};a.f.v(D,a.ic,"DvtDiagramNode");D.newInstance=function(a,c){return new D(a.a,a,c)};D.prototype.Init=function(a,c,e){D.C.Init.call(this,a,e.id,c);this.sb=e;this.ab()&&this.setCursor("pointer")};D.prototype.getData=function(){return this.sb};D.prototype.setData=function(a){this.sb=a};D.prototype.getId=function(){return this.sb.id};D.prototype.Q3=function(){this.IZ||(this.IZ=this.getId()+Math.floor(1E9*Math.random()));return this.IZ};D.prototype.po=function(a){!this.ika&&
a&&(this.ika=this.xUa());return this.ika};D.prototype.Mg=function(a){var c=null;this.yd&&a&&(c=this.yd.V());return c};D.prototype.hc=function(a){var c=this.dm();D.C.hc.call(this,a);this.wa.A().selectionRenderer?this.ON(this.wa.A().selectionRenderer,this.dm(),c):this.RI(a);this.qs()};D.prototype.RI=function(a){this.Xs()&&this.Xs().hc(a)};D.prototype.ab=function(){return this.wa.Kl()&&"off"!=this.getData().selectable};D.prototype.ffa=function(){return this.X};D.prototype.ia=function(){this.G9();var a=
this.getData();if(this.wa.A().renderer){this.ON(this.wa.A().renderer,this.dm(),null);if(this.gd()){var c=this.ja().getBoundingClientRect(),e=this.PA?this.PA.ja().getBoundingClientRect():null;this.aj={left:e.left-c.left,right:c.right-e.right,top:e.top-c.top,bottom:c.bottom-e.bottom}}this.JD&&(this.removeChild(this.JD),this.JD=null)}else this.gd()?D.hZa(this.wa,a,this):(D.u2(this.wa,a,this),D.Yoa(this.wa,a,this)),D.FTa(this.Xs(),a);D.$oa(this.wa,a,this);this.g_a();D.iZa(this.wa,a,this);this.zg("img");
this.qs();this.wa.Ob().Xb(this,this)};D.prototype.ON=function(c,e,g){var f=this.wa.A()._contextHandler;if(f){var n=this.getData()._origData,p=null;if(this.gd())var p=this.eX(),w=p.V(),p={element:p.ja(),w:w?w.b-w.x:null,h:w?w.i-w.y:null};e=f(this.ja(),this.ik,p,n,e,g);!(c=c(e))&&this.ik&&this.a.sp||(this.ik&&c!=this.ik&&(this.ik.namespaceURI===a.l.sF?this.$B().removeChild(this.ik):this.removeChild(c),this.ik=null),c&&c.namespaceURI===a.l.sF?this.ik||(a.l.Dc(this.$B(),c),this.ik=c):c instanceof a.$b?
this.ik||(this.B(c),this.ik=c):c&&this.wa.Sfa("dvt.Diagram: could not add custom node content for the node "+this.getId()+c))}else this.wa.Sfa("dvt.Diagram: could not add custom node content - context handler is undefined")};D.u2=function(c,e,g){if(!c.a.sp){var f=e.backgroundSvgStyle||e.backgroundStyle,n=a.Za.clone(f),p=[a.j.Xl,a.j.cq,a.j.ge,a.j.we,a.j.fi,a.j.ei],f=D.$la(n,e._backgroundStyle,p);if(!f.MJa()){var w=a.j.Xe(f.N(a.j.Xl)),A=a.j.Xe(f.N(a.j.cq)),d=f.N(a.j.ge),h=f.N(a.j.we),B=a.j.Xe(f.N(a.j.fi)),
f=a.j.Xe(f.N(a.j.ei));c=new a.Rect(c.a,0,0,w,A);c.bb(d);f&&(c.gl(f),c.hl(f));h&&c.Ha(new a.ma(h,1,B));n&&a.Y.forEach(p,function(d){delete n[a.j.TD(d)]});e=e.backgroundSvgClassName||e.backgroundClassName;c.Ma(n).sc(e);g.B(c);g.HL(c);g.xb=c}}};D.Yoa=function(c,e,g){var f=e.icon;if(f){var n=f.width,p=f.height,w=f.color,A=f.borderRadius;c=f.source?new a.Ac(c.a,n/2,p/2,n,p,A,f.source,f.sourceSelected,f.sourceHover,f.sourceHoverSelected):new a.W(c.a,f.shape,a.j.Rg,n/2,p/2,n,p,A);"none"!=f.fillPattern?c.Ia(new a.kb(f.fillPattern,
w,w)):c.bb(w);null!=f.opacity&&c.qa(f.opacity);f.borderColor&&c.Ha(new a.ma(f.borderColor,1,f.borderWidth));w=f.svgClassName||f.className;c.Ma(f.svgStyle||f.style).sc(w);g.B(c);g.X=c;D.h_a(e,g);g.xb||g.HL(c)}};D.h_a=function(c,e){if(e.xb){var g=c.icon,f=e.xb.getWidth(),n=e.xb.getHeight(),p=g.width,w=g.height,A=.5*(f-p),d=.5*(n-w);if(void 0!==g.positionX)A=parseFloat(g.positionX),a.m.ea(e.a)&&(A=f-A-p);else{var h=g.halign;"start"==h?h=a.m.ea(e.a)?"right":"left":"end"==h&&(h=a.m.ea(e.a)?"left":"right");
A="left"==h?0:"right"==h?f-p:A}void 0!==g.positionY?d=parseFloat(g.positionY):"top"==g.valign?d=0:"bottom"==g.valign&&(d=n-w);e.X.ib(A,d)}};D.$oa=function(c,e,g){var f=a.m.ea(c.a)?a.M.ii:a.M.Fj;e.label&&(c=D.km(c.a,e.label,e.labelStyle,f,a.M.Oj),e=a.j.Xe((new a.j(e.labelStyle)).getWidth()),0<e&&a.ga.Xc(c,e,Infinity,g)||g.B(c),g.yd=c)};D.km=function(c,e,g,f,n){g=new a.j(g);g.H5()?c=new a.Fb(c,e,0,0,g):(c=new a.M(c,e,0,0),c.ub(g));c.Dq(f);c.Vz(n);return c};D.FTa=function(c,e){var g=e.hoverInnerColor,
f=e.hoverOuterColor,n=e.selectionColor,p=new a.ma(g,1,4);p.We(!0);f=new a.ma(f,1,8);f.We(!0);var w=new a.ma(g,1,2);w.We(!0);var A=new a.ma(n,1,6);A.We(!0);g=new a.ma(g,1,4);g.We(!0);n=new a.ma(n,1,8);n.We(!0);c.$o(p,f).Eq(w,A).ds(g,n)};D.GTa=function(c,e){var g=e.hoverInnerColor,f=e.hoverOuterColor,n=e.selectionColor,p=new a.ma(g,1,2);p.We(!0);f=new a.ma(f,1,2);f.We(!0);var w=new a.ma(g,1,1);w.We(!0);var A=new a.ma(n,1,2);A.We(!0);g=new a.ma(g,1,2);g.We(!0);n=new a.ma(n,1,2);n.We(!0);c.$o(p,f).Eq(w,
A).ds(g,n)};D.prototype.HL=function(a){this.JD=a};D.prototype.Xs=function(){if(!this.JD){var c=this.po(!0);c&&(c=new a.Rect(this.wa.a,c.x,c.y,c.b,c.i),c.Yb(),c.M6(a.Pa.YX),this.HL(c),this.Ad(c,0),D.GTa(c,this.getData()),this.JD=c)}return this.JD};D.prototype.Rc=function(){if(!this.wl){var a=this.dm();this.wl=!0;this.wa.A().hoverRenderer?this.ON(this.wa.A().hoverRenderer,this.dm(),a):this.yy(!0)}};D.prototype.Cc=function(){if(this.wl){var a=this.dm();this.wl=!1;this.wa.A().hoverRenderer?this.ON(this.wa.A().hoverRenderer,
this.dm(),a):this.yy(!1)}};D.prototype.yy=function(a){this.Xs()&&(a?this.Xs().Rc():this.Xs().Cc())};D.prototype.bf=function(){var a=this.wa.A().tooltip;return(a=a?a.renderer:null)?this.wa.a.cf().Rs(a,this.zj()):this.Eh()};D.prototype.Eh=function(){return this.getData().shortDesc};D.prototype.zj=function(){return{id:this.getId(),type:"node",label:this.getData().label,data:this.getData()._origData,component:this.wa.A()._widgetConstructor}};D.prototype.te=function(){var c=[];this.ab()&&c.push(a.I.Ja(a.I.pa,
this.gb()?"STATE_SELECTED":"STATE_UNSELECTED"));this.aua()&&c.push(this.gd()?a.I.Ja(a.I.pa,"STATE_EXPANDED"):a.I.Ja(a.I.pa,"STATE_COLLAPSED"));return a.R.lm(this.Eh(),c)};D.prototype.qs=function(){if(!a.m.Vj()){var c=this.te();c&&this.Od("label",c)}};D.prototype.Kd=function(c){var e=null;if(c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)e=this;else if((c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.gw)&&c.altKey){var g=this.wa.nV(this.getId()),f=this.wa.Ob().ya;f&&f.k4&&(e=f.k4(this,c,g));e?e.Pwa(this):
e=this}else c.keyCode==a.KeyboardEvent.Uy?e=this.gd()?this.Of()[0]:this:c.keyCode==a.KeyboardEvent.hw?e=(e=this.lj()?this.wa.Ib(this.lj()):null)?e:this:c.type==a.MouseEvent.He?e=this:(e=(e=this.lj()?this.wa.Ib(this.lj()):null)?e.Of():this.wa.M7(),e=a.ya.rI(this,c,e));c instanceof a.KeyboardEvent&&this.wa.VD(c,e);return e};D.prototype.Ry=function(c){c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey&&c.shiftKey&&this.aua()&&this.wa.lLa(this.getId(),!this.gd())};D.prototype.aua=function(){return 0==this.wa.A().data.getChildCount(this.getData())?
!1:!0};D.prototype.rh=function(){if(!this.Ae()){var a=this.dm();this.Sc=!0;this.wa.A().focusRenderer?this.ON(this.wa.A().focusRenderer,this.dm(),a):this.vC(!0)}};D.prototype.mf=function(){if(this.Ae()){var a=this.dm();this.Sc=!1;this.wa.A().focusRenderer?this.ON(this.wa.A().focusRenderer,this.dm(),a):this.vC(!1)}};D.prototype.vC=function(a){this.yy(a)};D.prototype.Ae=function(){return this.Sc};D.prototype.rd=function(){return this.getData().categories?this.getData().categories:[this.getId()]};D.prototype.hua=
function(){var c=this.wa.A().hiddenCategories;return c&&a.Y.$s(c,this.rd())?!0:!1};D.prototype.xUa=function(){var c=null;if(this.ik){var e;this.ik instanceof a.$b?(e=this.ik.V())&&(c=new a.U(e.x,e.y,e.b,e.i)):(e=this.ik.getBBox())&&(c=new a.U(e.x,e.y,e.width,e.height))}else this.gd()?c=this.pv.lt(this):(c=this.xb?this.xb.lt(this):null)&&this.X?c=c.Hn(this.X.lt(this)):!c&&this.X&&(c=this.X.lt(this));return c};D.prototype.Mf=function(c,e){var g=new a.td(this.a,null,c.Lb());if(this.gd()||e.gd())if(this.gd()&&
e.gd())if(e.yd&&this.yd&&(p=e.yd.Wa(),n=this.yd.Wa(),p.nc(n)||(this.yd.mb(p),g.da.aa(a.L.ji,this.yd,this.yd.Wa,this.yd.mb,n))),this.wa.A().renderer)this.kBa(c,e);else{if(D.zja(g,e,this),D.ZTa(g,e.pv,this.pv),a.m.ea(this.a)&&e.az&&this.az&&(p=e.az.bc(),n=this.az.bc(),p!=n&&(this.az.Ua(p),g.da.aa(a.L.ta,this.az,this.az.bc,this.az.Ua,n))),!e.partialUpdate){for(var p=[],n=[],z=this.kD,w=0;w<z.length;w++)p.push(this.wa.Ib(z[w]));for(var z=e.kD,A=c.aoa.FOa,w=0;w<z.length;w++)n.push(A[z[w]]);c.En(n,p)}}else this.kBa(c,
e);else{D.zja(g,e,this);e.X&&this.X&&(g.da.aa(a.L.IJ,this.X,this.X.Ps,this.X.xC,this.X.Ps()),this.X.xC(e.X.Ps()));if(e.yd&&this.yd){var p=e.yd.Wa(),n=this.yd.Wa();p.nc(n)||(this.yd.mb(p),g.da.aa(a.L.ji,this.yd,this.yd.Wa,this.yd.mb,n))}D.dD(g,e.xb,this.xb);D.dD(g,e.X,this.X)}c.add(g,f.tj)};D.prototype.kBa=function(c,e){var g=e.po(),p=this.po();if(g.nc(p)){var n=new a.td(this.a,null,c.Lb());D.zja(n,e,this);c.add(n,f.tj)}else{var z=p.b/g.b,w=g.b/p.b,n=new a.td(this.a,null,c.Lb()),A=new a.P(e.bc()+.5*
g.b,e.qc()+.5*g.i),d=this.bc(),h=this.qc();this.Ua(A.x-p.b*w*.5);this.Eb(A.y-p.b*w*.5);n.da.aa(a.L.ta,this,this.bc,this.Ua,d);n.da.aa(a.L.ta,this,this.qc,this.Eb,h);c.add(n,f.tj);this.Nl(w);this.mn(w);w=new a.Zv(this.a,this,new a.P(1,1),c.Lb());c.add(w,f.tj);var B=e.partialUpdate?e.origContent:e;if(B){this.getParent().B(B);p=new a.P(this.bc()+.5*p.b,this.qc()+.5*p.i);n.da.aa(a.L.ta,B,e.bc,B.Ua,p.x-g.b*z*.5);n.da.aa(a.L.ta,B,e.qc,B.Eb,p.y-g.i*z*.5);g=new a.Zv(this.a,B,new a.P(z,z),c.Lb());c.add(g,
f.tj);g=new a.Wg(this.a,B,c.Lb());c.add(g,f.tj);var r=this;a.yb.Le(g,function(){r.getParent().removeChild(B)});this.qa(0);g=new a.dg(this.a,this,c.Lb());c.add(g,f.tj)}}};D.zja=function(c,e,g){if(g&&e){var f=e.bc();e=e.qc();var n=g.bc(),p=g.qc();f!=n&&(g.Ua(f),c.da.aa(a.L.ta,g,g.bc,g.Ua,n));e!=p&&(g.Eb(e),c.da.aa(a.L.ta,g,g.qc,g.Eb,p))}};D.ZTa=function(c,e,g){g&&e&&(D.dD(c,e,g),c.da.aa(a.L.ta,g,g.getWidth,g.jb,g.getWidth()),g.jb(e.getWidth()),c.da.aa(a.L.ta,g,g.getHeight,g.Mb,g.getHeight()),g.Mb(e.getHeight()))};
D.dD=function(c,e,g){e&&g&&g.Hd()instanceof a.pc&&!g.Hd().nc(e.Hd())&&(c.da.aa(a.L.At,g,g.Hd,g.Ia,g.Hd()),g.Ia(e.Hd()))};D.prototype.ai=function(c){this.wa.hu.B(this);var e=this,g=new a.Wg(this.a,this,c.Lb());a.yb.Le(g,function(){e.getParent().removeChild(e);e.Ec()});c.add(g,f.WL)};D.prototype.nh=function(c){this.qa(0);c.add(new a.dg(this.a,this,c.Lb()),f.dF)};D.prototype.dm=function(a){return{hovered:this.wl,selected:this.gb(),focused:this.Sc,zoom:a?a:this.wa.mc.Vo(),expanded:this.gd()}};D.prototype.i7a=
function(a){if(this.wa.A().zoomRenderer){var c=this.dm(a.doa);a=this.dm(a.iU);this.ON(this.wa.A().zoomRenderer,a,c)}};D.prototype.mS=function(c,e){c&&(c==a.M.Fj?this.yd.Ph():c==a.M.Lh?this.yd.$f():c==a.M.ii&&this.yd.dh());e&&(e==a.M.Oj?this.yd.Mk():e==a.M.rf?this.yd.ug():e==a.M.Oh?this.yd.jm():"baseline"==e&&this.yd.tz())};D.prototype.bi=function(){if(!this.aj&&this.wa.A().renderer){var a=this.ja().getBoundingClientRect(),c=this.PA?this.PA.ja().getBoundingClientRect():null;this.aj={left:c.left-a.left,
right:a.right-c.right,top:c.top-a.top,bottom:a.bottom-c.bottom}}else this.aj||(a=D.$la(this.sb.containerSvgStyle||this.sb.containerStyle,this.sb._containerStyle,["padding-left","padding-right","padding-top","padding-bottom"]),this.aj={left:a.iy("padding-left"),right:a.iy("padding-right"),top:a.iy("padding-top"),bottom:a.iy("padding-bottom")});return this.aj};D.prototype.b0a=function(a){this.kD||(this.kD=[]);this.kD.push(a)};D.prototype.R6a=function(c){this.kD&&a.Y.removeItem(this.kD,c)};D.prototype.Q6a=
function(a){a&&(this.R6a(a.getId()),this.PA.removeChild(a))};D.prototype.Of=function(){for(var a=[],c=this.kD?this.kD.length:-1,e=0;e<c;e++){var g=this.wa.Ib(this.kD[e]);g&&a.push(g)}return a};D.prototype.Iwa=function(a){this.uma=a};D.prototype.lj=function(){return this.uma};D.prototype.eX=function(){this.PA||(this.PA=new a.ca(this.a),this.B(this.PA));return this.PA};D.prototype.T4a=function(c){a.u.Ud(c);this.wa.lLa(this.getId(),!this.gd())};D.hZa=function(c,e,g){var f=a.Za.clone(c.a.sp?null:e.containerSvgStyle||
e.containerStyle),n=[a.j.ge,a.j.we,a.j.fi,a.j.ei],p=D.$la(f,e._containerStyle,n),w=p.N(a.j.ge),A=p.N(a.j.we),d=a.j.Xe(p.N(a.j.fi)),p=a.j.Xe(p.N(a.j.ei)),h=g.eX(),B=g.bi();h.ib(B.left,B.top);h=h.Ss();B=new a.Rect(c.a,0,0,h.b+B.left+B.right,h.i+B.top+B.bottom);B.bb(w);p&&(B.gl(p),B.hl(p));A&&B.Ha(new a.ma(A,1,d));f&&a.Y.forEach(n,function(d){delete f[a.j.TD(d)]});c=c.a.sp?null:e.containerSvgClassName||e.containerClassName;B.Ma(f).sc(c);g.Ad(B,0);g.HL(B);g.pv=B};D.$la=function(c,e,g){var f=new a.j;a.Y.forEach(g,
function(n){var g=null,w=a.j.TD(n);c&&null!=c[w]?g=c[w]:e&&(g=e.N(n));f.Ma(n,g)});return f};D.iZa=function(c,e,g){if(g.aua()&&"off"!=e.showDisclosure){var f,n,p=c.A();g.gd()?(e=p._resources.collapse_ena,f=p._resources.collapse_ovr,n=p._resources.collapse_dwn):(e=p._resources.expand_ena,f=p._resources.expand_ovr,n=p._resources.expand_dwn);p=new a.Image(c.a,e.src,0,0,e.width,e.height);f=new a.Image(c.a,f.src,0,0,f.width,f.height);n=new a.Image(c.a,n.src,0,0,n.width,n.height);p=new a.ra(c.a,p,f,n,null,
null,g.T4a,g);g.B(p);if(f=g.po(!0))c=a.m.ea(c.a)?f.x+f.b-e.width:f.x,p.ib(c,f.y);g.az=p}};D.prototype.hn=function(){return!0};D.prototype.Dl=function(){return"off"===this.getData().draggable?null:[this.getId()]};D.prototype.Rp=function(){if(this.wa.Ob().$S)return null;if(this.wa.Kl()&&1<this.wa.Ue().wj.length){for(var a=this.wa.Ue().getSelection(),c=[],e=0;e<a.length;e++)c.push(a[e]);return c}return this};D.prototype.PC=function(){this.$w||this.v_("oj-diagram-node oj-active-drop")};D.prototype.QC=
function(){this.$w||this.v_("oj-diagram-node oj-invalid-drop")};D.prototype.Ly=function(){this.$w&&(this.removeChild(this.$w),this.$w=null)};D.prototype.v_=function(c){var e;if(this.ik||this.gd()||this.xb||this.X&&this.X instanceof a.Ac){var g=this.po(!0);g&&(e=new a.Rect(this.wa.a,g.x,g.y,g.b,g.i),g=this.ik?null:this.gd()?this.pv.Up():this.xb?this.xb.Up():null)&&(e.gl(g),e.hl(g))}else this.X&&this.X instanceof a.W&&(e=this.X.oh());e.Yb();e.sc(c);e.cd(!1);this.B(e);this.$w=e};D.prototype.g_a=function(){if(this.wa.Ob().a8()&&
"off"!=this.getData().draggable){var c=this.ik?this:this.gd()?this.pv:this.xb?this.xb:this.X,c=c.ja()?c.ja():c;a.l.r3(c,"oj-diagram-node");a.l.r3(c,"oj-draggable")}};D.NMa=function(a){return{id:a.id,label:a.label,selectable:a.selectable,shortDesc:a.shortDesc,categories:a.categories,nodes:a.nodes,_origData:a}};D.prototype.G9=function(c){this.pv&&(this.removeChild(this.pv),c&&c.B(this.pv),this.pv=null);this.xb&&(this.removeChild(this.xb),c&&c.B(this.xb),this.xb=null);this.X&&(this.removeChild(this.X),
c&&c.B(this.X),this.X=null);this.yd&&(this.removeChild(this.yd),c&&c.B(this.yd),this.yd=null);this.az&&(this.removeChild(this.az),c&&c.B(this.az),this.az=null);this.ik&&(this.PA&&(this.PA.GL(null),this.B(this.PA)),this.ik.namespaceURI===a.l.sF?(this.$B().removeChild(this.ik),c&&a.l.Dc(c.$B(),this.ik)):this.ik instanceof a.$b&&(this.removeChild(this.ik),c&&c.B(this.ik)),this.ik=null);this.ika=null};D.prototype.XU=function(c){var e,g,f,n,p,w=this.po();this.X&&(e={centerDimensions:this.X.Ps(),fill:this.X.Hd(),
Ps:function(){return e.centerDimensions},Hd:function(){return e.fill}});this.yd&&(g={matrix:this.yd.Wa(),Wa:function(){return g.matrix}});this.gd()&&this.pv&&(f={fill:this.pv.Hd(),width:this.pv.getWidth(),height:this.pv.getHeight(),Hd:function(){return f.fill},getWidth:function(){return f.width},getHeight:function(){return f.height}});if(c||this.gd()&&this.wa.A().renderer)p=new a.ca(this.a),this.G9(p),p.ib(this.bc(),this.qc());return n={partialUpdate:!0,id:this.getId(),disclosed:this.gd(),tx:this.bc(),
ty:this.qc(),contentBounds:w,origContent:p,X:e,yd:g,pv:f,getId:function(){return n.id},gd:function(){return n.disclosed},bc:function(){return n.tx},qc:function(){return n.ty},po:function(){return n.contentBounds}}};D.prototype.s0a=function(c,e){this.sb.nodes instanceof Array||(this.sb.nodes=[]);this.sb.nodes=a.Y.Yta(this.sb.nodes,c,e)};D.prototype.S6a=function(a){if(this.sb.nodes instanceof Array)for(var c=0;c<a.length;c++)for(var e=a[c].id,g=0;g<this.sb.nodes.length;g++)if(this.sb.nodes[g].id===
e){this.sb.nodes.splice(g,1);break}};a.f.v(F,a.Lc,"DvtDiagramAutomation");F.prototype.Init=function(a){this.wa=a};F.prototype.Ql=function(a){return(a=this.wa.Ob().Ya(a))&&a instanceof D?"node["+this.wa.KS().indexOf(a.getId())+"]":a&&a instanceof E?"link["+this.wa.BJ().indexOf(a.getId())+"]":null};F.prototype.Sh=function(c){if(c==a.Lc.Bw)return this.fA(this.wa);var e=this.voa(c);c=e.component;var e=e.index,g=null;"node"==c?g=this.hK(e):"link"==c&&(g=this.sDa(e));return g?g.ja():null};F.prototype.voa=
function(a){var c=a,e=-1,g=a.substring(0,a.indexOf("["));g&&(c="node"==g||"link"==g?g:null,e=parseInt(a.substring(a.indexOf("[")+1,a.indexOf("]"))));return{component:c,index:e}};F.prototype.Aj=function(){return this.wa.KS().length};F.prototype.fC=function(){return this.wa.BJ().length};F.prototype.Me=function(c){if(c=this.hK(c)){var e={};e.id=c.getId();e.selected=c.gb();e.tooltip=c.Eh();e.label=c.getData().label;var g=c.getData().backgroundStyle;g&&g instanceof Object&&(g=a.j.PU(g));e.background=g;
e.icon=this.j0(c.ffa());e.expanded=c.gd();return e}return null};F.prototype.r3a=function(c){if(c=this.sDa(c)){var e={};e.id=c.getId();e.selected=c.gb();e.tooltip=c.Eh();e.label=c.getData().label;e.color=c.bL();e.width=c.zz();e.style=this.tDa(c.iV());e.startNode=c.Ri();e.endNode=c.Ah();e.startConnectorType=c.Qv();e.endConnectorType=c.Ts();e.promoted=c.Il();c.Il()&&(e.links=a.Za.clone(c.getData()._links));return e}return null};F.prototype.O3a=function(a,c){var e=this.hK(a),g=this.hK(c);if(!e||!g)return null;
e=E.tya(e.getId(),g.getId());return(e=this.wa.mg(e))?(g={},g.id=e.getId(),g.selected=e.gb(),g.tooltip=e.Eh(),g.color=e.bL(),g.width=e.zz(),g.style=this.tDa(e.iV()),g.startNode=e.Ri(),g.endNode=e.Ah(),g.startConnectorType=e.Qv(),g.endConnectorType=e.Ts(),g.count=e.getData()._links.length,g):null};F.prototype.tDa=function(c){return this.wa.a.sp?a.j.PU(c):c&&c instanceof Object?c._type==E.s7?(c=a.Za.clone(c),delete c._type,a.j.PU(c)):c._type:c};F.prototype.T2a=function(){return this.wa.My};F.prototype.j0=
function(c){if(c){var e={};e.shape=c instanceof a.W?c.Hc():"none";c.Hd()&&(e.color=c.Hd().Zb());return e}return null};F.prototype.hK=function(a){var c=this.wa.KS();return 0<=a&&a<c.length?this.wa.Ib(c[a]):null};F.prototype.sDa=function(a){var c=this.wa.BJ();return 0<=a&&a<c.length?this.wa.mg(c[a]):null};a.K(a,"Diagram",a.Nb);a.K(a.Nb,"newInstance",a.Nb.newInstance);a.K(a.Nb.prototype,"highlight",a.Nb.prototype.Zd);a.K(a.Nb.prototype,"select",a.Nb.prototype.select);a.K(a.Nb.prototype,"getAutomation",
a.Nb.prototype.Bi);a.K(a.Nb.prototype,"processDefaultHoverEffect",a.Nb.prototype.yy);a.K(a.Nb.prototype,"processDefaultSelectionEffect",a.Nb.prototype.RI);a.K(a.Nb.prototype,"processDefaultFocusEffect",a.Nb.prototype.vC);a.K(a.Nb.prototype,"clearDisclosedState",a.Nb.prototype.S0a);a.K(a.Nb.prototype,"expand",a.Nb.prototype.expand);a.K(a.Nb.prototype,"collapse",a.Nb.prototype.collapse);a.K(F.prototype,"getDomElementForSubId",F.prototype.Sh);a.K(F.prototype,"getNodeCount",F.prototype.Aj);a.K(F.prototype,
"getLinkCount",F.prototype.fC);a.K(F.prototype,"getNode",F.prototype.Me);a.K(F.prototype,"getLink",F.prototype.r3a);a.K(F.prototype,"getPromotedLink",F.prototype.O3a);a.K(F.prototype,"getExpanded",F.prototype.T2a)})(dvt);
  return dvt;
});
