/**
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","hammerjs","ojs/ojjquery-hammer","promise","ojs/ojcomponentcore","ojs/ojvalidation-base","ojs/ojpopup","ojs/ojlabel","ojs/ojanimation"],function(a,g,c){a.ka={};o_("EditableValueUtils",a.ka,a);a.ka.ah={MBa:1,uca:2,zca:3,Ada:4,Bda:5,Cda:6,cDa:7,CDa:8,Xda:9,Zda:10,IDa:11};a.ka.E7a={dv:!1,ah:a.ka.ah.Xda};a.ka.l1a={cv:!0,ah:a.ka.ah.uca};a.ka.W1a={cv:!0,ah:a.ka.ah.zca};a.ka.p6a={cv:!0,ah:a.ka.ah.Cda};a.ka.bO={cv:!0,ah:a.ka.ah.Ada};a.ka.rAa={cv:!0,ah:a.ka.ah.Bda};a.ka.J7a={cv:!0,
ah:a.ka.ah.Zda};a.ka.vca="|label";a.ka.Yda={GDa:"valid",qCa:"invalid"};a.ka.t2a=function(b,a){var c,f,h={};if(b&&a)switch(a){case "disabled":c=void 0!==b.attr("disabled")?!!b.prop("disabled"):void 0;break;case "pattern":c=b.prop("pattern")||void 0;break;case "placeholder":c=b.prop("placeholder")||void 0;break;case "readonly":c=void 0!==b.attr("readonly")?!!b.prop("readonly"):void 0;break;case "required":c=b.attr("required");f=b.prop("required");c=void 0!==c?void 0!==f?!!f:!!c:void 0;break;case "title":c=
void 0!==b.attr("title")?b.prop("title"):void 0;break;case "value":c=b.val()||void 0;break;default:c=b.attr(a)||void 0}void 0!==c?(h.zwa=!0,h.value=c):h.zwa=!1;return h};a.ka.Gs=function(b,c,e,f){for(var h={},k=0;k<b.length;k++){var g,m=b[k];g=m.Ba;var n=m.option||g,t=m.lk,m=m.mf,s=e.element,p=e.options[n];void 0===c[n]&&(p=e.options[n],g=a.ka.t2a(s,g),g.zwa&&(g=g.value,t&&("boolean"===typeof t?g=a.ka.g1a(n,g):"function"===typeof t&&(g=t.call(e,g))),h[n]=g));t=n in h?h[n]:p;m&&"boolean"===typeof m&&
a.ka.G7a(n,t)}null!=f&&f(h);e.option(h,{_context:{Rc:!0,Sa:!0}})};a.ka.G7a=function(b,a){var c=!1;switch(b){case "required":null!==a&&"boolean"!==typeof a&&(c=!0);break;case "readOnly":case "disabled":null!==a&&"boolean"!==typeof a&&(c=!0)}if(c)throw"Option '"+b+"' has invalid value set: "+a;};a.ka.g1a=function(b,a){var c=a;switch(b){case "required":c=a?!0:!1}return c};a.ka.Fba=function(b,a){if(b&&a){var c=a["class"];c&&b.addClass(c);if(c=a.style){var f=b.attr("style");f?b.attr("style",f+";"+c):b.attr("style",
c)}}};a.ka.cN=function(b,c){var e,f,h;e=b[0].id;f=b.siblings("[for\x3d'"+e+"']");if(e=0===f.length?document.querySelector("oj-label[for\x3d'"+e+"']"):f[0]){if(f=e.getAttribute("label-id"))return f;if(f=e.id)return f+a.ka.vca;(f=e.querySelector("label"))&&(h=f.id);if(h)return h;if(c)return e.setAttribute("label-id",c),c}return null};a.ka.validate=function(){return this.$()?Promise.resolve(this.lo()?a.ka.Yda.GDa:a.ka.Yda.qCa):this.lo()};a.ka.lo=function(){return this.jc(this.$i(),null,this.CI)};a.ka.Iba=
function(b,a){b.setAttribute("id",a+"|input")};a.ka.hk=function(b,c,e){var f=a.ka.vca;this.$()&&(b&&(b+=f),c&&(c+=f),b&&a.ka.PWa(e,b),c&&a.ka.EHa(e,c))};a.ka.Ie=function(b){var a,c=this.tz();this.vra("required",b);c||(a=this.xe(),b&&a?a.attr("aria-required",b):a.removeAttr("aria-required"));this.$()||(this.Hc||this.pja(),this.Hc&&(this.Hc.ojLabel("option","showRequired",b),c&&(a=this.LNa(this.element))&&(b?this.Oz(a+"_requiredIcon"):this.GL(a+"_requiredIcon"))))};a.ka.Eg=function(){this.Ie(this.aj());
this.psa(a.ka.p6a)};a.ka.Zi=function(){var b=!1;this.fga();this.YS()&&(b=!0);b&&(this.bR(),this.uV(a.ka.J7a))};a.ka.wt=function(b){var c=!1;this.Iz();this.YS()&&(c=!0);c?(this.bR(),this.uV(a.ka.l1a)):this.lr(b,this.options[b],!0)};a.ka.Iz=function(){this.zd=null;this.Mw().update(this.xo(this.hn.tca))};a.ka.$q=function(){var b,c=!0,e=[],f,h,k,g;if(h=this.options.validators)for(b=0;b<h.length;b++)f=h[b],"object"===typeof f?(f.validate&&"function"===typeof f.validate||(c=!1),c||(g=f.type)&&"string"===
typeof g&&((k=a.Oa.yC(g))?(f=a.tc.Md({},f.options)||{},f.converter=f.converter||this.Bc(),f.label=f.label||this.N3(),f=k.createValidator(f)):a.D.error("Unable to locate a validatorFactory for the requested type: "+g)),e.push(f)):a.D.error("Unable to parse the validator provided:"+f);return e};a.ka.Bc=function(){var b;this.zd||(b=this.options.converter,this.zd=a.Wa.XM(b));return this.zd||null};a.ka.EHa=function(b,a){var c;b.each(function(){var b=g(this).attr("aria-labelledby"),b=b?b.split(/\s+/):[];
c=g.inArray(a,b);-1===c&&b.push(a);b=g.trim(b.join(" "));g(this).attr("aria-labelledBy",b)})};a.ka.PWa=function(b,a){var c;b.each(function(){var b,h;h=(c=g(this).attr("aria-labelledby"))?c.split(/\s+/):[];b=g.inArray(a,h);-1!==b&&h.splice(b,1);(c=g.trim(h.join(" ")))?g(this).attr("aria-labelledby",c):g(this).removeAttr("aria-labelledby")})};a.vb=function(b){this.Init(b)};a.Vb.WX(a.Vb.hg.XO,a.vb);a.f.ua(a.vb,a.je,"oj.PopupMessagingStrategy");a.vb.EP={ojRadioset:{position:"launcher",nq:{open:"focusin mouseenter press",
close:"mouseleave"}},ojCheckboxset:{position:"launcher",nq:{open:"focusin mouseenter press",close:"mouseleave"}},ojInputText:{position:"launcher",nq:{open:"focusin"}},ojTextArea:{position:"launcher",nq:{open:"focusin"}},ojInputPassword:{position:"launcher",nq:{open:"focusin"}},ojSwitch:{position:"launcher",nq:{open:"focusin mouseenter",close:"mouseleave"}},ojSlider:{position:"launcher",nq:{open:"focusin mouseenter",close:"mouseleave"}},ojColorSpectrum:{position:"launcher",nq:{open:"focusin mouseenter",
close:"mouseleave"}},ojColorPalette:{position:"launcher",nq:{open:"focusin mouseenter",close:"mouseleave"}},"default":{position:"launcher-wrapper",nq:{open:"focusin"}}};a.vb.f0="oj-form-control-hint";a.vb.yGa="oj-form-control-hint-converter";a.vb.AGa="oj-form-control-hint-validator";a.vb.zGa="oj-form-control-hint-title";a.vb.Ofa=".ojPopupMessagingOpen";a.vb.rea=".ojPopupMessagingClose";a.vb.prototype.Kx=function(b){a.vb.N.Kx.call(this,b);this.NSa()};a.vb.prototype.qC=function(b){a.vb.N.qC.call(this,
b);this.Sua()};a.vb.prototype.update=function(){a.vb.N.update.call(this);this.Sua()};a.vb.prototype.ys=function(){this.E_a();this.ULa();a.vb.N.ys.call(this)};a.vb.prototype.close=function(){this.M1()};a.vb.prototype.M1=function(){this.gU(function(b){this.Cpa()?(b&&this.Hsa(this.dg,"close",b),this.dg.ojPopup("close")):b&&b(!0)}.bind(this))};a.vb.prototype.NSa=function(){this.F6||this.IWa()};a.vb.prototype.DHa=function(b){function a(b,c,d){var k=this.Ri();k&&k._trigger&&(c.stopPropagation(),k._trigger(b,
null,d)||c.preventDefault())}b.on("ojanimatestart.notewindow",a.bind(this,"animateStart"));b.on("ojanimateend.notewindow",a.bind(this,"animateEnd"))};a.vb.prototype.OWa=function(b){b.off("ojanimatestart.notewindow");b.off("ojanimateend.notewindow")};a.vb.prototype.KU=function(b){var c=this.Ri(),c=(c=c?c.element:null)?c[0]:null,e=a.Context.getContext(c).Dc(),f="The page is waiting for note window ";c&&c.id&&(f+='for "'+c.id+'" ');return e.Xc({description:f+("to "+b)})};a.vb.prototype.Hsa=function(b,
a,c){var f;1<this.GQ&&(f=b.ojPopup("option","animation"),b.ojPopup("option","animation",null));var h=this.KU(a);b.one("oj"+a,function(){f&&b.ojPopup("option","animation",f);h();c(!0)})};a.vb.prototype.gU=function(b){if(this.Ri().$()){var a=this,c=function(b){b=new Promise(b);b.then(function(){--a.GQ});return b};this.GQ?(++this.GQ,this.$ga=this.$ga.then(function(){return c(b)})):(this.GQ=1,this.$ga=c(b))}else b(null)};a.vb.prototype.Jqa=function(b){this.gU(function(c){var e,f;if(this.xJa()&&(f=this.$ha(),
!a.ab.So(f))){var h=this.Pma(),k=h.ojPopup("isOpen");e=a.Xe.B$(h);e.innerHTML="";e.innerHTML=f;if(k)k&&h.ojPopup("refresh");else{e=this.Yn();"press"===b.type&&this.rVa(e);c&&this.Hsa(h,"open",c);h.ojPopup("open",e);return}}c&&c(!0)}.bind(this))};a.vb.prototype.rVa=function(b){this.yK=!0;b[0].addEventListener("click",this.WD,!0);b[0].addEventListener("change",this.WD,!0);b.one("touchend",function(){setTimeout(function(){this.yK=!1},50)})};a.vb.prototype.WD=function(b){this.yK&&(b.preventDefault(),
b.stopPropagation(),"click"===b.type&&(this.yK=!1))};a.vb.prototype.xJa=function(){var b=this.Ri().options,a=b.readOnly||!1;return!(b.disabled||a)};a.vb.prototype.Sua=function(){var b,c,e;c=!1;var f;this.Cpa()&&(f=this.Pma(),c=f.ojPopup("isOpen"),b=this.$ha(),e=this.Yn(),null!=e&&(e=document.activeElement===this.Yn()[0]?!0:!1,c?b?(c=a.Xe.B$(f),c.innerHTML="",c.innerHTML=b,f.ojPopup("refresh")):f.ojPopup("close"):e&&b&&this.Jqa(void 0)))};a.vb.prototype.E_a=function(){var b=this.Yn();b.off(a.vb.Ofa);
b.off(a.vb.rea);b[0].removeEventListener("click",this.WD,!0);b[0].removeEventListener("change",this.WD,!0);a.Q.qe()&&(b.Zg().off("press"),b.Zg("destroy"),b.off("contextmenu",this.H2),this.yK=this.H2=null);this.Ria=this.F6=null};a.vb.prototype.IWa=function(){var b,d,e,f=this.Yn(),h;b=(b=a.vb.EP[this.Ri().widgetName])?b.nq:a.vb.EP["default"].nq;b.open&&(d=this.F6,d||(d=this.F6=this.Jqa.bind(this)),h=b.open.indexOf("press"),e=this.Bma(b.open.replace("press",""),a.vb.Ofa),f.on(e,d),a.Q.qe()&&(this.H2=
function(){return!1},f.on("contextmenu",this.H2),-1!==h&&(e={recognizers:[[c.Press,{time:750}]]},f.Zg(e).on("press",d))));b.close&&(d=this.Ria,d||(d=this.Ria=this.M1.bind(this)),b=this.Bma(b.close,a.vb.rea),f.on(b,d))};a.vb.prototype.Bma=function(b,a){var c,f,h;if(""===b||""===a)return b;c=b.split(" ");h=c.length;f=[];for(var k=0;k<h;k++)c[k]&&f.push(c[k]+a);return f.join(" ")};a.vb.prototype.nPa=function(){var b,c;(b=(b=a.vb.EP[this.Ri().widgetName])?b.position:a.vb.EP["default"].position)&&("launcher"===
b?c=this.Yn():"launcher-wrapper"===b&&(c=this.Yn().parent()));c||(c=this.Ri().widget());return{my:"start bottom",at:"end top",collision:"flipcenter",of:c}};a.vb.prototype.Pma=function(){var b,c;if(this.dg)return this.dg;b=a.Xe.nxa();c=this.nPa();b.ojPopup("option","position",c);b.ojPopup("option","beforeClose",this.EVa.bind(this));b.ojPopup("option","close",this.FVa.bind(this));b.ojPopup("option","open",this.GVa.bind(this));this.Ri().$()?(c=(a.ic.ad("oj-messaging-popup-option-defaults")||{}).animation,
c.actionPrefix="notewindow",b.ojPopup("option","animation",c),this.DHa(b)):b.ojPopup("option","animation",null);return this.dg=b};a.vb.prototype.GVa=function(b){var c=g(b.target),e=this;window.setTimeout(function(){a.Components.Is(c)?c.ojPopup("option","autoDismiss","focusLoss"):delete e.dg},10)};a.vb.prototype.EVa=function(){this.Cf=this.KU("close")};a.vb.prototype.FVa=function(b){var c;c=this.Yn();b=g(b.target);this.OWa(b);a.Components.Is(b)&&(b.ojPopup("option","autoDismiss","none"),b.ojPopup("option",
"open",null),b.ojPopup("option","close",null),b.ojPopup("option","beforeClose",null));c&&c[0]&&(c[0].removeEventListener("click",this.WD,!0),c[0].removeEventListener("change",this.WD,!0));this.yK=this.dg=null;g(a.Xe.B$(b)).empty();this.Cf&&(this.Cf(),this.Cf=null)};a.vb.prototype.ULa=function(){this.M1();a.Xe.V1a()};a.vb.prototype.$ha=function(){var b=!1,c=this.Ri().document[0],e=[],f="";this.Qda()&&e.push(this.i1(c));(this.LZ()||this.Sda()||this.Rda())&&e.push(this.cJa(c));g.each(e,function(e,k){k&&
(b?f=f.concat(a.Sb.f3a(c)):b=!0,f=f.concat(k))});return f};a.vb.prototype.i1=function(b){var c="",e=this.fZ();this.oZ()&&(c=this.gZ(),c=a.Sb.sva(b,c,e,!1));return c};a.vb.prototype.cJa=function(b){var c;c=[];var e="",f;this.LZ()&&(c=this.Qca(),c=c.length?c[0]:"",e+=a.Sb.A9(b,a.vb.yGa,c,!1,a.vb.f0));if(this.Sda())for(c=this.mCa(),f=0;f<c.length;f++)e+=a.Sb.A9(b,a.vb.AGa,c[f],!1,a.vb.f0);this.Rda()&&(e+=a.Sb.A9(b,a.vb.zGa,this.lCa(),!0,a.vb.f0));return e?"\x3cdiv class\x3d'oj-form-control-hints'\x3e"+
e+"\x3c/div\x3e":""};a.vb.prototype.Cpa=function(){return this.dg?a.Components.Is(this.dg):!1};a.Sb={};a.Sb.A9=function(b,c,e,f,h){var k;e&&(k=g(b.createElement("div")),k.addClass(h+(" "+c)),k.append(a.Sb.jna(b,e,f)));return k?k.get(0).outerHTML:""};a.Sb.Cxa=function(b){var c;switch(b){case a.wa.xd.FATAL:c=a.Aa.T("oj-message.fatal");break;case a.wa.xd.ERROR:c=a.Aa.T("oj-message.error");break;case a.wa.xd.WARNING:c=a.Aa.T("oj-message.warning");break;case a.wa.xd.INFO:c=a.Aa.T("oj-message.info");break;
case a.wa.xd.CONFIRMATION:c=a.Aa.T("oj-message.confirmation")}return c};a.Sb.f3a=function(b){return(b=g(b.createElement("hr")))?b.get(0).outerHTML:""};a.Sb.sva=function(b,c,e,f){var h="",k,g,m=[],n={},t;for(g=0;g<c.length;g++)k=c[g],m=k instanceof a.wa?k:new a.wa(k.summary,k.detail,k.severity),t=a.wa.ay(m.severity),n[t]||(n[t]=[]),n[t].push(m);for(g=e;g>=a.wa.xd.CONFIRMATION;g--)for(m=n[g]||[],c=0;c<m.length;c++)k=m[c],t=a.wa.ay(k.severity),e=a.Sb.Cxa(t),e=k.summary||e,k=k.detail||"",h=h.concat(a.Sb.rva(b,
e,k,t,f));return h};a.Sb.rva=function(b,c,e,f,h){var k,l;l=a.Sb.Cxa(f);k=g(b.createElement("div"));k.addClass(a.Sb.BGa);h&&k.addClass(a.Sb.EPa(f));h=g(b.createElement("span"));h.addClass(a.Sb.DPa(f)).attr("title",l).attr("role","img");k.append(h);f=g(b.createElement("span"));f.addClass(a.Sb.EGa);l=g(b.createElement("div"));l.addClass(a.Sb.IGa).text(c);f.append(l);e&&(c=a.Sb.jna(b,e,!0),b=g(b.createElement("div")),b.addClass(a.Sb.FGa).append(c),f.append(b));k.append(f);return k?k.get(0).outerHTML:
""};a.Sb.DPa=function(b){var c;switch(b){case a.wa.xd.FATAL:c=a.Sb.hga;break;case a.wa.xd.ERROR:c=a.Sb.hga;break;case a.wa.xd.WARNING:c=a.Sb.KGa;break;case a.wa.xd.INFO:c=a.Sb.HGa;break;case a.wa.xd.CONFIRMATION:c=a.Sb.DGa}return a.Sb.jEa+c};a.Sb.EPa=function(b){switch(b){case a.wa.xd.FATAL:b=a.Sb.gga;break;case a.wa.xd.ERROR:b=a.Sb.gga;break;case a.wa.xd.WARNING:b=a.Sb.JGa;break;case a.wa.xd.INFO:b=a.Sb.GGa;break;default:b=a.Sb.CGa}return b};a.Sb.jna=function(b,c,e){var f=null;a.ab.Gd(c)&&(e&&a.Q.K4a(c)?
f=a.Q.c1a(c.substring(6,c.length-7)):(f=b.createElement("span"),f.textContent=c));return f};a.Sb.jEa="oj-component-icon oj-message-status-icon ";a.Sb.BGa="oj-message";a.Sb.IGa="oj-message-summary";a.Sb.FGa="oj-message-detail";a.Sb.EGa="oj-message-content";a.Sb.hga="oj-message-error-icon";a.Sb.KGa="oj-message-warning-icon";a.Sb.HGa="oj-message-info-icon";a.Sb.DGa="oj-message-confirmation-icon";a.Sb.gga="oj-message-error";a.Sb.JGa="oj-message-warning";a.Sb.GGa="oj-message-info";a.Sb.CGa="oj-message-confirmation";
a.Xe={};a.Xe.nxa=function(){var b=a.Xe.Oma(),c=b.find("."+a.Xe.g0);0===c.length?(c=g(a.Xe.mPa()).hide(),c.appendTo(b),c.ojPopup({initialFocus:"none",tail:"simple",autoDismiss:"none",modality:"modeless",animation:{open:null,close:null}})):c=g(c[0]);return c};a.Xe.B$=function(b){return b.find("."+a.Xe.iga)[0]};a.Xe.V1a=function(){var b;0<a.Xe.wOa()&&(b=a.Xe.nxa(),b.ojPopup("destroy"),b.remove())};a.Xe.Oma=function(){var b=g("#"+a.Xe.Ffa);if(0<b.length)return b;b=g("\x3cdiv\x3e");b.attr("id",a.Xe.Ffa);
b.attr("role","presentation");b.appendTo(g(document.body));return b};a.Xe.wOa=function(){return a.Xe.Oma().find("."+a.Xe.g0).length};a.Xe.mPa=function(){return'\x3cdiv class\x3d"'+a.Xe.g0+'"\x3e\x3cdiv class\x3d"'+a.Xe.iga+'"\x3e\x3c/div\x3e\x3c/div\x3e'};a.Xe.iga="oj-messaging-popup-container";a.Xe.g0="oj-messaging-popup";a.Xe.Ffa="__oj_messaging_popup_pool";a.ib("oj.editableValue",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{describedBy:null,disabled:!1,displayOptions:void 0,help:{definition:null,
source:null},helpHints:{definition:"",source:""},labelHint:"",messagesCustom:void 0,messagesHidden:void 0,messagesShown:void 0,title:"",valid:void 0,value:void 0,animateStart:null,animateEnd:null},getNodeBySubId:function(b){var a;a=this._super(b);a||this.$()||(b=b.subId,"oj-label-help-icon"===b&&(b=this.wz())&&(a=b.parent().find(".oj-label-help-icon")));return a||null},getSubIdByNode:function(b){var a=null;null!=b&&(b=g(b),b=b.closest("a.oj-label-help-icon"),null!=b&&(b=b.closest(".oj-label"),null!=
b&&(b=b.find("label")[0])&&b==this.wz()[0]&&(a={subId:"oj-label-help-icon"})));return a},isValid:function(){void 0===this.h9&&(this.h9=!this.q5());return this.h9},refresh:function(){this._super();this.nka(!0)},reset:function(){this.$Q();this.QL(this.Cp.cDa);this.d7(this.options.value,!0)},showMessages:function(){var b=[],c,e,f=this.options.messagesHidden,h=0<f.length;for(c=0;c<f.length;c++)e=f[c],e instanceof a.nf?(e.wNa(),e=e.clone()):e=new a.wa(e.summary,e.detail,e.severity),b.push(e);h&&(this.kJ("messagesHidden"),
this.sV("messagesShown",b),this.nF(null))},DI:{Gca:1,HDa:2,Dda:3},Cp:a.ka.ah,CI:a.ka.E7a,Gh:function(b,a){this._super(b,a);if(this.$()){var c=this.options.help;null!=c&&(c=c.instruction,null!=c&&(this.options.title=c));var f=this.options.displayOptions;null!=f&&(c=f.helpInstruction,null!=c&&(f.title=c,this.options.displayOptions=f))}},rc:function(){var b=["required","title","pattern"],a=this.element,c=this.OEa(a);this._super();this.options.messagesCustom=this.options.messagesCustom||[];this.options.messagesHidden=
[];this.options.messagesShown=0<this.options.messagesCustom.length?this.XJa(this.options.messagesCustom):[];this.h0(a);this.Ct()&&(this.It(this.options.placeholder),this.i2=!0);if(c&&!this.$()){var f=a[0].tagName.toLowerCase();"input"!==f&&"textarea"!==f||g.each(b,function(b,f){f in c&&a.removeAttr(f)})}},Pf:function(){var b;this._super();this.nka(!1);this.$()?(void 0===this.GB&&(this.GB=this.Hla()),this.GB&&g(this.GB).addClass(this._GetDefaultStyleClass()+"-label")):this.pja();(b=this.options.describedBy)&&
this.Oz(b);this.nT();this.QL(this.Cp.MBa);0<this.options.messagesShown.length&&this.$L("messagesShown",this.options.messagesShown,null,!0);this.widget().addClass("oj-form-control")},wI:function(b){this.$()||this.SGa(b)},yD:function(b){this.$()||this.wGa(b)},vt:function(b,c){switch(b){case "disabled":this.fD(b,a.ka.W1a);break;case "displayOptions":if(this.$()){var e=this.options.displayOptions;if(null!=e){var f=e.helpInstruction;null!=f&&(e.title=f,this.options.displayOptions=e)}}this.nT();break;case "help":this.$()||
this.lr(b,this.options[b]);this.$()&&(this.options.title=this.options.help.instruction,this.uua());break;case "messagesCustom":this.JUa(c);this.nF(null);break;case "placeholder":this.DVa(c);break;case "title":this.uua();break;case "translations":this.refresh();break;case "value":this.WZ(b,c)}},fD:function(b,a){var c=!this.options[b];this.lr(b,this.options[b]);c&&this.psa(a)},WZ:function(b,a){var c=a?a._context:null,f,h=!1;c&&(h=c.originalEvent?!0:!1,f=c.cv||!1);h||(f||this.$Q(null),this.QL(this.Cp.IDa));
this.lr(b,this.options[b],!0)},Xq:function(){return this.options.disabled?!1:!0},_destroy:function(){var b,c,e=this._super();this.$Q(null,!0);this.Mw().ys();if(this.Hc)for(c=this.Hc.length,b=0;b<c;b++)this.Hc[b]&&null!=a.Components.qd(this.Hc[b])&&g(this.Hc[b]).ojLabel("destroy");return e},focus:function(){this.Focus()},Focus:function(){this.xe().focus();return!0},blur:function(){this.xe().blur()},_setOption:function(b,c,e){var f;f=!1;var h,k;if("string"===typeof b&&void 0!==c)switch(b){case "messagesHidden":f=
!0;break;case "messagesShown":f=!0;break;case "rawValue":f=!0;break;case "describedBy":h=this.options.describedBy,k=c,h&&this.GL(h),k&&this.Oz(k)}if(f)return a.D.error(b+" option cannot be set"),this;f=this._superApply(arguments);this.vt(b,e);return f},xe:function(){return this.element},wz:function(){var b;if(this.Hc)return this.Hc;b=this.j3(this.element);if(null!==b&&0!==b.length)return b;b=this.element.prop("id");if(void 0!==b&&(b=g("label[for\x3d'"+b+"']"),0!==b.length))return b;b=this.element.closest("[aria-labelledby]");
return 0!==b.length&&(b=this.j3(b),null!==b&&0!==b.length)?b:null},gw:function(){return this.element.val()},_GetMessagingLauncherElement:function(){return this.xe()},Bc:function(){return null},iI:function(){this.yoa||(this.yoa={});return this.yoa},$i:function(){return this.xe().val()},$q:function(){return[]},ffa:function(){var b,a,c,f;if(!this.RI){b=[];c=this.iI();f=[];var h=Object.keys(c),k,g=h.length;if(0<g){for(a=0;a<g;a++)k=h[a],f.push(c[k]);b=b.concat(f)}a=this.$q();0<a.length&&(b=b.concat(a));
this.RI=b}return this.RI||[]},fga:function(){this.RI&&(this.RI.length=0);this.RI=null;this.Mw().update(this.xo(this.hn.$da))},aj:function(){return!1},KP:function(b){var a=this.$i();this.jc(a,b)},kn:function(b,a){var c={};c._context={originalEvent:a,Rc:!0,Sa:!0,readOnly:!0};this.Pl("rawValue",this.options.rawValue,b)||this.option("rawValue",b,c)},lr:function(b,a,c){switch(b){case "converter":a=this.options.value;this.d7(a,c);break;case "disabled":this.vra("disabled",this.options.disabled);break;case "help":!this.$()&&
this.Hc&&(b=this.options.help.definition,a=this.options.help.source,this.Hc.ojLabel("option","help",{definition:b,source:a}),this.sWa());break;case "value":this.d7(a,c)}},yp:function(){this._superApply(arguments);this.Mw().close()},Ih:function(){this._superApply(arguments);this.Mw().close()},e0:function(){this.Hc&&this.Hc.ojLabel("refresh");this.zd=this.x5=null;this.fga()},Uk:function(a){var c=this.xe();c.val()!==a&&c.val(a)},h0:function(a){"boolean"===typeof this.options.disabled&&a.prop("disabled",
this.options.disabled)},It:function(a){this.xe().attr("placeholder",a)},oga:function(a){this.options.placeholder=a},Ct:function(){return this.options.placeholder},Iea:function(){this.oga("");this.It("")},jc:function(b,c,e){var f=e&&"boolean"===typeof e.dv?e.dv:!0;if(void 0===b)return a.D.warn("Attempt to set a value of undefined"),!1;if(f&&b===this.IOa())a.D.vN>a.D.Yv&&a.D.info("Validation skipped and value option not updated as submitted value '"+b.toString?b.toString():b+" same as previous.");else if(b=
this.tQ(b,c,e),this.nF(c),void 0!==b&&this.isValid()){var h;e&&e._context&&(h=e._context);this.Vua(b,c,e&&e.ah,h);return!0}return!1},tQ:function(b,c,e){var f=e&&e.H7a?e.H7a:this.DI.Gca,h=e&&e.ah?e.ah:this.Cp.CDa;e=e&&e.cv||!1;if(void 0===b)a.D.warn("Attempt to set a value of undefined");else if(this.Xq()){e||this.$Q(c);this.cta(b);try{return this.bYa(b,f,h,c)}catch(k){}}else a.D.vN>a.D.Yv&&a.D.info("Validation skipped and value option not set as component state does not  allow setting value. For example if the component is readonly or disabled.")},
Pl:function(b,c,e){return"value"===b||"rawValue"===b?a.f.Bb(c,e):0===b.indexOf("messages")?this.KUa(c,e):this._superApply(arguments)},_GetDefaultStyleClass:function(){a.C.gf();return""},hn:{kH:1,aea:2,tca:3,$da:4,Uda:5},kw:{disabled:"oj-disabled",required:"oj-required"},$Q:function(a,c){c?(this.options.messagesHidden=[],this.options.messagesShown=[],this.options.messagesCustom=[]):(this.kJ("messagesHidden",a),this.kJ("messagesShown",a),this.kJ("messagesCustom",a))},bR:function(){var b,c,e=this.options.messagesShown;
b=e.length;this.kJ("messagesHidden");for(var f=b-1;0<=f;f--)c=e[f],c instanceof a.nf&&e.splice(f,1);e.length!==b&&this.$L("messagesShown",e,null,!0)},$L:function(a,c,e,f){var h={},k=0===c.length&&0===this.options[a].length;if(f||!k)h._context={originalEvent:e,Rc:!0,Sa:!0},"messagesCustom"!==a&&(h._context.readOnly=!0),h.changed=f||!k,this.LXa(),this.option(a,c,h),this.X_a()},nF:function(a){var c={};c._context={originalEvent:a,Rc:!0,Sa:!0,readOnly:!0};this.option("valid",this.aMa(),c)},kJ:function(a,
c){this.$L(a,[],c)},XJa:function(b){var c,e,f=[];if(b&&0<b.length)for(c=0;c<b.length;c++)e=b[c],e=new a.wa(e.summary,e.detail,e.severity),e=Object.freeze?Object.freeze(e):e,f.push(e);return f},pja:function(){var a,c;!this.$()&&(this.Hc=this.wz())&&(a=this.options.help.definition,c=this.options.help.source,this.Hc.ojLabel({rootAttributes:{"class":this._GetDefaultStyleClass()+"-label"},help:{definition:a,source:c}}),this.QKa())},QKa:function(){var a=this.options.help.definition;(null!=this.options.help.source||
null!=a)&&(a=this.Hc.attr("id"))&&this.Oz(a+"_helpIcon")},sWa:function(){var a=this.options.help.definition,c=this.options.help.source,e=this.Hc.attr("id");e&&(null!=c||null!=a?this.Oz(e+"_helpIcon"):this.GL(e+"_helpIcon"))},nka:function(b){var c=!1;b?(this.e0(),this.nT(),this.YS()&&(c=!0),this.bR(),c?this.uV(a.ka.rAa):(this.aj()&&this.QL(a.ka.rAa.ah),this.lr("value",this.options.value,!0))):this.lr("value",this.options.value);this.lr("disabled",this.options.disabled)},R8a:function(){return this.Dqa},
IOa:function(){void 0===this.C6&&(this.C6="");return this.C6},j3:function(a){a=a.attr("aria-labelledby");return void 0!==a?g("label[id\x3d'"+a+"']"):null},LNa:function(a){var c=null;a=this.j3(a);null!==a&&0!==a.length&&(c=a.attr("id"));return c},Oz:function(a){var c;this.xe().each(function(){var e=g(this).attr("aria-describedby"),e=e?e.split(/\s+/):[];c=g.inArray(a,e);-1===c&&e.push(a);e=g.trim(e.join(" "));g(this).attr("aria-describedby",e)})},GL:function(a){this.xe().each(function(){var c,e;e=(c=
g(this).attr("aria-describedby"))?c.split(/\s+/):[];c=g.inArray(a,e);-1!==c&&e.splice(c,1);(c=g.trim(e.join(" ")))?g(this).attr("aria-describedby",c):g(this).removeAttr("aria-describedby")})},Y3:function(){return this.options.messagesShown.concat(this.options.messagesHidden)},Hla:function(){var a=null,c;c=this.options.labelledBy;var e;c&&(a=document.getElementById(c));null===a&&(c=this.widget(),e=c[0].id)&&(c=c.siblings("[for\x3d'"+e+"']"),0===c.length&&(c=g("[for\x3d'"+this.element.id+"']")),0<c.length&&
(a=c[0]));return a},N3:function(){if(this.Hc)return this.Hc.text();void 0===this.GB&&(this.GB=this.Hla());return this.GB?this.GB.textContent:null},xna:function(){this.$ua||(this.$ua=new a.gp(this.isValid(),this.Y3()));return this.$ua},q5:function(){return!a.wa.isValid(this.Y3())},YS:function(){return!this.isValid()&&0<this.options.messagesShown.length},iSa:function(){for(var b,c,e=this.options.messagesShown,f=0;f<e.length;f++)c=e[f],c instanceof a.nf&&c.tpa()&&(b=b||[],b.push(c));return void 0===
b?!1:!a.wa.isValid(b)},nT:function(){var a=this.Mw(),c=this._GetMessagingLauncherElement(),e=this.xe(),f=this.xo(this.hn.kH);this.i2||this.Iea();a.Kx(c,e,f)},JUa:function(b){var c=b?b._context:null,e=this.options.messagesCustom,f,h,k=this.options.messagesShown,g=[];for(f=0;f<k.length;f++)h=k[f],h instanceof a.nf&&h.tpa()&&g.push(h);for(f=0;f<e.length;f++)g.push(e[f]);this.$L("messagesShown",g,c?c.originalEvent:null,b&&b.changed)},DVa:function(a){a=(a&&a._context||{}).E4a?!1:!0;this.It(this.options.placeholder);
a?(this.i2=!0,this.Bc()&&this.nT()):this.i2=!1},SYa:function(a){this.Dqa=a},cta:function(a){this.C6=a},uua:function(){this.Mw().update(this.xo(this.hn.Uda))},sV:function(a,c,e){var f,h,k;if("object"===typeof c&&Array.isArray(c))for(k=this.options[a],h=c.length,f=0;f<h;f++)k.push(c[f]);this.$L(a,k,e,!0)},X_a:function(){this.Mw().update(this.xo())},Vua:function(a,c,e,f){f=f||{};c&&(f.originalEvent=c);switch(e){case this.Cp.uca:case this.Cp.zca:case this.Cp.Ada:case this.Cp.Bda:case this.Cp.Cda:case this.Cp.Xda:case this.Cp.Zda:f.Rc=
!0,f.cv=!0}f.Sa=!0;this.option({value:a},{_context:f});this.WZ("value",{_context:f})},LXa:function(){this.h9=void 0},aMa:function(){var b=this.options.messagesHidden,c=this.options.messagesShown,e="valid";c&&0!==c.length&&!a.wa.isValid(c)?e="invalidShown":b&&0!==b.length&&!a.wa.isValid(b)&&(e="invalidHidden");return e},Jw:function(b){var c=b,e=this.Bc();e&&"object"===typeof e&&(e.format&&"function"===typeof e.format?c=e.format(b):a.D.vN>a.D.Yv&&a.D.info("converter does not support the format method."));
return c},Mw:function(){this.Aw||(this.Aw=new a.Vb(this));return this.Aw},COa:function(a){var c,e,f=[];e="";this.aj()&&(e=this.ema(),e.getHint&&"function"===typeof e.getHint&&(e=e.getHint())&&f.push(e));for(c=0;c<a.length;c++)e=a[c],"object"===typeof e&&e.getHint&&"function"===typeof e.getHint&&(e=e.getHint())&&f.push(e);return f},ema:function(){var b;b={};var c;null==this.x5&&(b=this.options.translations?this.options.translations.required||{}:{},c={hint:b.hint||null,label:this.N3(),messageSummary:b.messageSummary||
null,messageDetail:b.messageDetail||null},this.x5=(b=a.Oa.yC(a.gg.VALIDATOR_TYPE_REQUIRED))?b.createValidator(c):null);return this.x5},xo:function(a){var c={},e,f;e="";f=[];a=a||this.hn.aea;if(a===this.hn.kH||a===this.hn.aea)f=this.Y3(),this.xna().update(this.isValid(),f),c.CBa=this.xna();if(a===this.hn.kH||a===this.hn.tca)(f=this.Bc())&&"object"===typeof f&&f.getHint&&"function"===typeof f.getHint&&(e=f.getHint()||""),c.Ova=e;if(a===this.hn.kH||a===this.hn.$da)e=this.ffa(),f=this.COa(e)||[],c.I7a=
f;if(a===this.hn.kH||a===this.hn.Uda)c.title=this.options.title||"";return c},KUa:function(b,c){var e=-1,f,h=!0,k=g.extend([],b),l=g.extend([],c);if(k.length!==l.length)return!1;g.each(k,function(b,c){c instanceof a.wa?f=c:(f=new a.wa(c.summary,c.detail,c.severity),f=Object.freeze?Object.freeze(f):f);e=-1;g.each(l,function(b,c){a.wa.ay(f.severity)===a.wa.ay(c.severity)&&f.summary===c.summary&&f.detail===c.detail&&(e=b)});-1<e?l.splice(e,1):h=!1});return h},aU:function(b){var c=this.Bc(),e=b;c&&"object"===
typeof c&&(c.parse&&"function"===typeof c.parse?e=c.parse(b):a.D.vN>a.D.Yv&&a.D.info("converter does not support the parse method."));return e},N0:function(b,c){var e,f,h;b instanceof a.Bg||b instanceof a.Tm?(e=b.iG(),f=e.severity||a.wa.xd.ERROR,h=e.summary||a.Aa.T("oj-message.error"),e=e.detail||a.Aa.T("oj-converter.detail")):b.summary||b.detail?(f=a.wa.xd.ERROR,h=b.summary||a.Aa.T("oj-message.error"),e=b.detail||a.Aa.T("oj-converter.detail")):(f=a.wa.xd.ERROR,h=a.Aa.T("oj-message.error"),e=b.message||
a.Aa.T("oj-converter.detail"));c.push({summary:h,detail:e,severity:f})},U6:function(b,c,e){var f=[],h=b.bL||[],k={};k.context=c||0;k.display=e||a.nf.DC.FZ;0===h.length&&this.N0(b,h);for(c=0;c<h.length;c++)b=h[c],f.push(this.MKa(b.summary,b.detail,b.severity,k));return f||null},MKa:function(b,c,e,f){b=new a.nf(b,c,e,f);return b=Object.seal?Object.seal(b):b},d7:function(a,c){(c||a!==this.Dqa)&&this.T_a(a)},vra:function(a,c){-1!==Object.keys(this.kw).indexOf(a)&&this.widget().toggleClass(this.kw[a],
!!c)},QL:function(b){if(this.Xq())try{this.Zua(this.options.value,this.DI.Dda)}catch(c){(b=this.U6(c,b,a.nf.DC.kZ))&&this.sV("messagesHidden",b)}else a.D.vN>a.D.Yv&&a.D.info("Deferred validation skipped as component is readonly or disabled.");this.nF(null)},bYa:function(a,c,e,f){var h=a;try{c===this.DI.Gca&&(h=this.aU(a)),this.Zua(h,c===this.DI.Dda)}catch(k){throw a=this.U6(k,e),this.sV("messagesShown",a,f),k;}return h},psa:function(a){var c=!0;this.YS()&&(c=!1);this.bR();c?this.aj()?this.QL(a.ah):
this.nF(null):this.uV(a)},T_a:function(a,c){var e,f;this.SYa(a);e=a;try{e=this.Jw(a)}catch(h){f=this.U6(h),this.sV("messagesShown",f,c)}this.Uk(e);e=this.$i();this.cta(e);this.kn(e,null)},uV:function(a){var c;c=this.tQ(this.$i(),null,a);this.nF(null);void 0===c||!this.isValid()&&this.iSa()||this.Vua(c,null,a.ah)},Zua:function(b,c){var e=this.ffa(),f,h,k=[];if(this.aj()){h=this.ema();try{h.validate(a.ab.trim(b))}catch(g){this.N0(g,k)}}if(!c)for(f=0;f<e.length;f++)if(h=e[f],"object"===typeof h)if(h.validate&&
"function"===typeof h.validate)try{h.validate(b)}catch(m){this.N0(m,k)}else a.D.vN>a.D.Yv&&a.D.info("validator does not support the validate method.");if(0<k.length)throw e=Error(),e.bL=k,e;}},!0);a.Components.Kq({editableValue:{displayOptions:a.Components.Ff(function(a){return{messages:0<=a.containers.indexOf("ojDataGrid")||0<=a.containers.indexOf("ojTable")?["notewindow"]:["inline"],converterHint:["placeholder","notewindow"],validatorHint:["notewindow"],helpInstruction:["notewindow"],title:["notewindow"]}})}});
a.Ue=function(a){this.Init(a)};a.Vb.WX(a.Vb.hg.FH,a.Ue);a.f.ua(a.Ue,a.je,"oj.InlineMessagingStrategy");a.Ue.prototype.qC=function(b){a.Ue.N.qC.call(this,b);this.Oua()};a.Ue.prototype.Mba=function(a){return a&&void 0!==a.CBa?!0:!1};a.Ue.prototype.update=function(){a.Ue.N.update.call(this);this.Oua()};a.Ue.prototype.ys=function(){this.Pra();a.Ue.N.ys.call(this)};a.Ue.prototype.nE=function(){if(!a.Ue.Mja){var b=(a.ic.ad("oj-messaging-inline-option-defaults")||{}).animation,b=b||{};a.Ue.Mja=b}return a.Ue.Mja};
a.Ue.prototype.vU=function(b,c){var e,f;a.ab.Gd(b)?(f=!0,e=b+""):(f=!1,e=JSON.stringify(b));for(var h in c)e=e.replace(new RegExp(h,"g"),c[h]);return b=f?e:JSON.parse(e)};a.Ue.prototype.YLa=function(a,c){var e,f,h;if(f=this.nE()){e=a[0].innerHTML;var k=a.outerHeight(),g;a[0].innerHTML=c;g=a.outerHeight();a[0].innerHTML=e;e=g>k?"open":"close";(f=f[e])&&(h=this.vU(f,{"#oldHeight":k+"px","#newHeight":g+"px"}))}return{action:e,b2a:h}};a.Ue.prototype.KU=function(){if(!this.Cf){var b=this.Ri(),b=(b=b?b.element:
null)?b[0]:null,c=a.Context.getContext(b).Dc(),e="The page is waiting for inline message ";b&&b.id&&(e+='for "'+b.id+'" ');this.Cf=c.Xc({description:e+"to open/close"})}};a.Ue.prototype.Zz=function(){this.Cf&&(this.Cf(),this.Cf=null)};a.Ue.prototype.gU=function(b){var c=this,e=this.dg;this.KU();this.D8&&clearTimeout(this.D8);this.D8=setTimeout(function(){c.D8=null;if(e&&e[0]){var f=c.YLa(e,b),h=f.action,f=f.b2a;"open"==h&&(e[0].innerHTML=b);a.ca.Li(e[0],"inline-"+h,f,c.Ri()).then(function(){"close"==
h&&(e[0].innerHTML=b);c.Zz()})}else c.Zz()},0)};a.Ue.prototype.Oua=function(){var a,c;(a=this.dJa())&&null==this.dg&&this.aLa();this.dg&&this.dg[0]&&(this.Ri().$()?this.gU(a):a?(c=this.dg[0],c.innerHTML=a):this.Pra())};a.Ue.prototype.aLa=function(){this.dg=g("\x3cdiv class\x3d'oj-messaging-inline-container'\x3e\x3c/div\x3e");this.Oz(this.dg);this.FHa(this.dg);this.Ri().widget().append(this.dg)};a.Ue.prototype.Pra=function(){null!=this.dg&&(this.GL(this.dg),this.dg.remove(),this.dg=null)};a.Ue.prototype.Oz=
function(b){var c,e;e=this.Yn();a.C.Df(e,g);a.C.Df(b,g);b=b.uniqueId().attr("id");c=(c=e.attr("aria-describedby"))?c.split(/\s+/):[];c.push(b);c=g.trim(c.join(" "));e.attr("aria-describedby",c)};a.Ue.prototype.FHa=function(b){a.C.Df(b,g);b.attr("aria-live","polite")};a.Ue.prototype.GL=function(b){var c,e;e=this.Yn();a.C.Df(e,g);a.C.Df(b,g);b=b.attr("id");c=(c=e.attr("aria-describedby"))?c.split(/\s+/):[];b=g.inArray(b,c);-1!==b&&c.splice(b,1);(c=g.trim(c.join(" ")))?e.attr("aria-describedby",c):e.removeAttr("aria-describedby")};
a.Ue.prototype.dJa=function(){var a;return this.Qda()?(a=this.Ri().document[0],this.i1(a)):""};a.Ue.prototype.i1=function(b){var c="",e;this.oZ()&&(e=this.gZ(),c=this.fZ(),c=a.Sb.sva(b,e,c,!0));return c};a.J.Ua("editableValue","baseComponent",{properties:{describedBy:{type:"string"},disabled:{type:"boolean"},displayOptions:{type:"Object",properties:{converterHint:{type:"string"},helpInstruction:{type:"string"},messages:{type:"string"},validatorHint:{type:"string"}}},help:{type:"Object\x3cstring, string\x3e",
properties:{instruction:{type:"string"}}},helpHints:{type:"Object",properties:{definition:{type:"string"},source:{type:"string"}}},labelHint:{type:"string"},messagesCustom:{type:"Array",writeback:!0},valid:{type:"string",writeback:!0,readOnly:!0,enumValues:["valid","invalidShown","invalidHidden","pending"]},value:{type:"Object",writeback:!0}},methods:{blur:{},focus:{},reset:{},showMessages:{}},events:{animateStart:{},animateEnd:{}},extension:{Ya:"editableValue"}})});