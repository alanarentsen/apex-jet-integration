/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(['./DvtToolkit', './DvtPanZoomCanvas'], function(dvt) {
  // Internal use only.  All APIs and functionality are subject to change at any time.

var ga;function ka(a,F){0==a.indexOf("dvt.")&&(a=a.substring(4));var D=a.split("."),E=eval("dvt");D[0]in E||!E.execScript||E.execScript("var "+D[0]);for(var v;D.length&&(v=D.shift());)D.length||void 0===F?E=E[v]?E[v]:E[v]={}:E[v]=F}Math.floor(2147483648*Math.random()).toString(36);
(function(a){function F(a){this.Init(a)}function D(a,c,d){this.Init(a,c,d)}function E(a,c){this.Init(a,c)}function v(a,c,d,e,g){this.Init(a,c,d,e,g)}function x(a,c,d,e,g){this.Init(a,c,d,e,g)}function f(a,c,d){this.Init(a,c,d)}function c(a,c,d,e,g,f){this.Init(a,c,d,e,g,f)}function p(a,c,d,e,g,f,n){this.Init(a,c,d,e,g,f,n)}function e(a,c,d,e,g){this.Init(a,c,d,e,g)}function g(a,c,d,e,g,f){this.Init(a,c,d,e,g,f)}function u(a,c,d,e,g,f){this.Init(a,c,d,e,g,f)}function t(a,c){this.Init(a,c)}function H(a,
c,d){this.Init(a,c,d)}function y(a,c){this.Init(a,c)}function n(a){this.Ta=a}function z(){this.Init({fusion:z.DEFAULT,alta:z.Rg})}a.kc=function(a,c,d){this.Init(a,c,d)};a.f.v(a.kc,a.Ed);a.kc.Uxa=6;a.kc.prototype.Init=function(c,d,e){a.kc.C.Init.call(this,c,d,e);this.zn=[];this.fCa();this.er=!1;this.Ff=new z;this.caa=this.Jaa=this.Wma=!1;this.$Za={};this.w9=!1;this.cCa();this.u.Xb(this,this)};a.kc.prototype.fCa=function(){this.rBa=new a.ca(this.a);this.Q9=new a.ca(this.a);this.YJ=new a.ca(this.a);
this.SG=new a.ca(this.a);this.aU=new a.ca(this.a)};a.kc.newInstance=function(c,d,e){return new a.kc(c,d,e)};a.kc.prototype.ne=function(c){a.kc.C.ne.call(this,c);a.m.Gl()||(this.J.animationOnDisplay="none",this.J.animationOnMapChange="none");(new F(this)).parse(this.J)};a.kc.prototype.J8a=function(a){this.T2=a};a.kc.prototype.xIa=function(){var c=this.J.maxZoom;return this.Jaa?isNaN(c)?a.kc.Uxa:Math.max(c,1):1};a.kc.prototype.sL=function(){return"fixed"==this.J.markerZoomBehavior};a.kc.prototype.wGa=
function(a){this.zn.push(a)};a.kc.prototype.wsa=function(a){for(var c=0;c<this.zn.length;c++)if(this.zn[c].BM==a)return this.zn[c]};a.kc.prototype.m8a=function(a){this.Hja=this.mz&&this.mz!=a;this.mz=a};a.kc.prototype.NV=function(a){this.Mw=parseFloat(a)};a.kc.prototype.Lb=function(){return this.Mw};a.kc.prototype.csa=function(){var a=this.J.tooltipDisplay;switch(a){case "shortDesc":return"shortDescOnly";case "none":return a;default:return"auto"}};a.kc.prototype.e8a=function(a){this.Wma=a};a.kc.prototype.i8=
function(){a.kc.C.i8.call(this);this.Hja=!1;!this.hB&&this.MYa&&(this.LEa=this.J.mapProvider,this.zn=[],this.caa=this.Jaa=!0,this.kU=this.le,this.fCa(),this.u.kn(this),this.cCa(),this.w9=!1,this.u.ed(),this.u.Xb(this,this))};a.kc.prototype.cCa=function(){this.u=new D(this.a,this.dispatchEvent,this);this.u.Lf(this);a.m.eb()?this.yv=null:(this.yv=new E(this,this.u),this.u.$r(this.yv))};a.kc.prototype.Fm=function(){a.kc.C.Fm.call(this);var c=new a.ca(this.a),d=new a.ca(this.a);this.le=this.mc;this.le.B(c);
this.le.Zc.B(d);this.oaa(c,d);if(this.Ow){this.Vq(!0);d=new a.U(0,0,this.getWidth(),this.getHeight());if(null==this.mz){var e=this.J.mapProvider;this.LEa!==e&&(this.Hja=!0,this.LEa=e)}if(this.er||this.kU)this.Hja&&!this.hB&&(e=this.J.animationOnMapChange,e="auto"===e?"alphaFade":null)&&(this.Cb=a.Ra.RK(this.a,e,this.kU,this.le,d,this.Mw),this.B(this.kU));else if(e=this.J.animationOnDisplay,e="auto"===e?"alphaFade":null)this.Cb=a.Ra.ZD(this.a,e,this.le,d,this.Mw);this.Cb?(this.u.ed(),this.u.kn(this),
this.w9=!0,this.Cb.pg(this.rw,this),this.Cb.play()):this.rw();this.MYa=c;this.a.EL([this]);this.er=!0}};a.kc.prototype.yUa=function(){var a=this.le.SH,c=this.Ow.A4(),d=this.le.ve();return Math.min((d.b-2*a)/c.b,(d.i-2*a)/c.i)};a.kc.prototype.oaa=function(a,c){c.B(this.rBa);c.B(this.Q9);this.sL()?a.B(this.YJ):c.B(this.YJ);a.B(this.SG);a.B(this.aU);var d=this.le.Zc.Wa();this.Fja=!1;for(var e=0;e<this.zn.length;e++){var g=this.zn[e];if(!this.Fja&&g instanceof x||!(g instanceof x))g.ia(d),!this.Fja&&
g instanceof x&&(this.Fja=!0,this.Ow=g)}this.Ow&&(d=this.Ow.aP,this.aP!=d&&(this.aP=d),this.QFa(),this.le.Uz(null),this.le.Tz(null),this.le.P6(!0),this.le.VV(!0),this.le.oJ(null,this.Ow.A4()),this.mGa(),this.le.P6(this.Jaa),this.le.VV(this.caa))};a.kc.prototype.QFa=function(){if(this.yv){var a=this.J4();0==a.length&&(a=this.fR());0==a.length&&(a=this.K4());this.u.b8a(a[0])}};a.kc.prototype.k9a=function(a,c,d){this.er=!1;this.Vq(!0);(new F(this)).h8([a],this.wsa(c),this.Ow.BM,d);this.er=!0;this.QFa();
this.a.EL([this]);this.mGa()};a.kc.prototype.rFa=function(){this.Bj||this.ml();this.Cb=null;this.Bj=!1};a.kc.prototype.mGa=function(){var a=this.yUa();this.le.Uz(a);this.le.Tz(a*this.xIa())};a.kc.prototype.Uya=function(){this.Ow.aP&&this.le.oJ(null,this.Ow.A4());this.Wma&&this.qGa();this.rFa()};a.kc.prototype.eGa=function(c){var d=new a.Da;d.translate(c.zc,c.tc);this.sL()&&this.YJ.mb(d);this.SG.mb(d);this.aU.mb(d)};a.kc.prototype.PUa=function(c){var d=this.le.SH,e=this.le.ve(),d=new a.U(d,d,e.b-2*
d,e.i-2*d),g=this.Ow.A4(),f=g.x*c,e=g.y*c,n=g.b*c;c*=g.i;n>d.b?(this.le.H6(d.x+d.Bab-(f+n)),this.le.F6(d.x-f)):(f=(d.x+d.b)/2-(f+n/2),this.le.H6(f),this.le.F6(f));c>d.i?(this.le.I6(d.y+d.i-(e+c)),this.le.G6(d.y-e)):(c=(d.y+d.i)/2-(e+c/2),this.le.I6(c),this.le.G6(c))};a.kc.prototype.hGa=function(c,d){var e=c.da;if(e){var g=this.le.Zc,f=e.d4(g,g.Wa);d&&(this.nCa=g.Wa(),e.aa(a.L.ji,this,this.sWa,this.e_a,f));g=new a.Da(1,0,0,1,f.zc,f.tc);this.sL()&&e.aa(a.L.ji,this.YJ,this.YJ.Wa,this.YJ.mb,g);e.aa(a.L.ji,
this.SG,this.SG.Wa,this.SG.mb,g);e.aa(a.L.ji,this.aU,this.aU.Wa,this.aU.mb,g)}};a.kc.prototype.Bo=function(c){switch(c.Dn){case a.vd.y8:this.caa&&this.PUa(c.iU);break;case a.vd.$ga:case a.vd.WM:this.hGa(c,!0);break;case a.vd.OY:var d=c.iU;if(null!=d){var e=this.le.Zc.Wa();c.da=null;this.dispatchEvent(a.la.Hca(e.zc,e.tc,d));this.eGa(e);for(d=0;d<this.zn.length;d++)this.zn[d].Bo(c,e)}break;case a.vd.aha:this.qHa();break;case a.vd.cha:this.dispatchEvent(a.la.Hca())}};a.kc.prototype.SS=function(c){var d=
c.Dn;if(d==a.Fi.WM||d==a.Fi.Vga)this.hGa(c,!1);else if(d==a.Fi.Uga&&null!=c.IEa)for(d=this.le.Zc.Wa(),c.da=null,this.dispatchEvent(a.la.Hca(d.zc,d.tc,this.le.Vo())),this.eGa(d),c=0;c<this.zn.length;c++)this.zn[c].SS(d)};a.kc.prototype.nya=function(){return a.Ed.Lxa};a.kc.prototype.mya=function(){return null};a.kc.prototype.R8a=function(a){this.Jaa=a};a.kc.prototype.x8a=function(a){this.caa=a};a.kc.prototype.qGa=function(){var c=this.Q9.V(),d=this.YJ.V();if(this.sL()){var e=this.le.Zc.Wa();d.b/=e.kd;
d.i/=e.ke;d.x/=e.kd;d.y/=e.ke}c=c.Hn(d);this.Vq(!0);var g;this.le.KA||(g=this.le.gy(),this.le.Tz(g*a.kc.Uxa));var f;a.m.Gl()&&(f=new a.L(this.a,.3));0<c.b&&0<c.i?this.le.oJ(f,c):this.le.oJ(f,this.Ow.A4());f&&f.play();g&&this.le.Tz(g)};a.kc.prototype.uQ=function(c){var d=new a.L(this.a,.3);this.le.oJ(d,c);d.play()};a.kc.prototype.D1a=function(a){a||(a=this.rGa);a||(a=this.p_);this.uQ(a.V())};a.kc.prototype.qHa=function(){if(this.o_){var a=this.wsa(this.bka).qo(this.o_);if(a&&(a=a.Fd)){for(var a=a.getSelection(),
c=0;c<a.length;c++)a[c]=a[c].Ga();if(0<a.length){for(var c=a[0].V(),d=1;d<a.length;d++)c=c.Hn(a[d].V());this.uQ(c)}}}};a.kc.prototype.J4=function(){var a=[];if(this.Ow){var c=this.Ow.Jq,d;for(d in c)a=a.concat(c[d].C3a())}return a};a.kc.prototype.fR=function(){for(var a=[],c=0;c<this.zn.length;c++){var d=this.zn[c].Jq,e;for(e in d)a=a.concat(d[e].kP)}return a};a.kc.prototype.K4=function(){for(var a=[],c=0;c<this.zn.length;c++){var d=this.zn[c].Jq,e;for(e in d)a=a.concat(d[e].iP)}return a};a.kc.prototype.e_a=
function(a){this.nCa=a;if(this.sL()){for(var c=this.fR(),d=0;d<c.length;d++)c[d].Bo(a);c=this.SG.Uc();for(d=0;d<c;d++)for(var e=this.SG.ec(d),g=e.Uc(),f=0;f<g;f++){var n=e.ec(f);n instanceof u&&n.update(a)}}};a.kc.prototype.sWa=function(){return this.nCa};a.kc.prototype.J7a=function(a,c,d){this.bka=c;this.o_=a;this.p_=d};a.kc.prototype.dispatchEvent=function(c){"selection"==c.type&&this.sXa(c);a.kc.C.dispatchEvent.call(this,c)};a.kc.prototype.sXa=function(c){this.o_?(this.a_a=c.selection,this.$Za[this.bka]=
this.wsa(this.bka).qo(this.o_).$3a(this.a_a),c.clientId=this.o_,!this.p_||this.p_ instanceof a.W||this.p_ instanceof a.Ac||(this.rGa=this.p_)):this.rGa=null};a.kc.prototype.Ec=function(){for(var c=this.zn,d=0;d<c.length;d++)c[d].Ec();a.kc.C.Ec.call(this)};a.kc.prototype.rw=function(){this.kU&&(this.removeChild(this.kU),this.kU=null);this.rFa();this.Wma&&this.qGa();this.J.highlightedCategories&&0<this.J.highlightedCategories.length&&this.Zd(this.J.highlightedCategories);this.w9&&(this.u.Lf(this),this.w9=
!1)};a.kc.prototype.Bi=function(){this.Lc||(this.Lc=new n(this));return this.Lc};a.kc.prototype.vk=function(){return a.I.Ja(a.I.pa,"THEMATIC_MAP")};a.kc.prototype.Zd=function(c){this.J.highlightedCategories=a.Za.clone(c);a.sd.Zd(c,this.J4().concat(this.fR()).concat(this.K4()),"any"==this.J.highlightMatch)};a.kc.prototype.yy=function(a,c){var d=this.Jla(a);d&&d.yy(c)};a.kc.prototype.RI=function(a,c){var d=this.Jla(a);d&&d.RI(c)};a.kc.prototype.vC=function(a,c){var d=this.Jla(a);d&&d.vC(c)};a.kc.prototype.Jla=
function(a){for(var c=0;c<this.zn.length;c++){var d=this.zn[c].Jq,e;for(e in d)for(var g=d[e].kP,f=0;f<g.length;f++)if(g[f].getId()===a)return g[f]}return null};a.f.v(z,a.ka);z.DEFAULT={animationDuration:500,animationOnDisplay:"none",animationOnMapChange:"none",highlightMatch:"all",hoverBehavior:"none",initialZooming:"none",markerZoomBehavior:"fixed",panning:"none",tooltipDisplay:"auto",touchResponse:"auto",visualEffects:"none",zooming:"none",styleDefaults:{skin:"alta",_areaStyle:{backgroundColor:"#B8CDEC",
borderColor:"#FFFFFF"},hoverBehaviorDelay:200,dataAreaDefaults:{borderColor:"#FFFFFF",hoverColor:"#FFFFFF",opacity:1,selectedInnerColor:"#FFFFFF",selectedOuterColor:"#000000"},dataMarkerDefaults:{borderColor:"#FFFFFF",borderStyle:"solid",borderWidth:.5,color:"#000000",height:8,labelStyle:"font-family:Tahoma;font-size:13pt;color:#000000",opacity:.4,scaleX:1,scaleY:1,shape:"circle",width:8},linkDefaults:{color:"#9bb2c7",_hoverColor:"#FFFFFF",_selectedColor:"#000000",width:2},labelStyle:"font-family:Tahoma;font-size:11pt;"},
resources:{images:{},translations:{}}};z.Rg={styleDefaults:{_areaStyle:{backgroundColor:"#DDDDDD",borderColor:"#FFFFFF"},dataMarkerDefaults:{color:"rgb(51,51,51)",labelStyle:a.ka.cp+"color:#333333",opacity:1},labelStyle:a.ka.cp}};z.RMa={animationOnLayerChange:"none",labelDisplay:"auto",labelType:"short"};z.TMa={animationOnDataChange:"none",selectionMode:"none"};z.prototype.E0a=function(c,d){var e=z.RMa;d&&(e=a.Za.be({labelDisplay:"off"},e));return a.Za.be(c,e)};z.prototype.H0a=function(c){return a.Za.be(c,
z.TMa)};z.Bh=function(a,c){return Math.ceil(c*a.fab())};z.prototype.cL=function(){return{mapProvider:!0,areaLayers:{areaDataLayer:{areas:!0,markers:!0,links:!0}},pointDataLayers:{markers:!0,links:!0},areas:!0,markers:!0,links:!0}};a.kc.prototype.g$=function(){for(var a=0;a<this.zn.length;a++){var c=this.zn[a].Jq,d;for(d in c){var e=c[d].Go;if(e&&e.rv)return e}}return null};a.kc.prototype.hn=function(a,c,d){return(a=this.g$())?a.hn(d):!1};a.kc.prototype.Dl=function(a,c){var d=this.g$();return d?d.Dl(a,
c):null};a.kc.prototype.ay=function(a,c){var d=this.g$();return d?d.ay(a,c):null};a.kc.prototype.bC=function(a,c){var d=this.g$();return d?d.bC(a,c):null};a.f.v(function(a){this.Ow=a},a.cM);a.f.v(n,a.Lc);n.prototype.Ql=function(a){return(a=this.Ta.Ob().Ya(a))&&(a instanceof e||a instanceof g)?this.hXa(a):null};n.prototype.Sh=function(c){if(c==a.Lc.Bw)return this.fA(this.Ta);var d=c.indexOf(":"),e=c.indexOf("[");return 0<d&&0<e?this.FWa(c.substring(0,d),c.substring(d+1,e),parseInt(c.substring(e+1,
c.length-1))):null};n.prototype.getData=function(a,c,d){return(a=this.dDa(a,c,d))?(c={},c.color=a.pi(),c.tooltip=a.Eh(),d=a.ag(),c.label=d?d.Vc():null,c.selected=a.gb(),c):null};n.prototype.FWa=function(a,c,d){return(a=this.dDa(a,c,d))?a.Ga().ja():null};n.prototype.hXa=function(c){for(var d=c.Ga(),e=this.Ta.zn,g=0;g<e.length;g++){var f=e[g].Jq,n;for(n in f)if(d instanceof a.Jb){for(var p=f[n].It,t=0;t<p.length;t++)if(p[t]===c)return this.h$(n)+":area["+t+"]";p=f[n].iP;for(t=0;t<p.length;t++)if(p[t]===
c)return this.h$(n)+":link["+t+"]"}else for(p=f[n].kP,t=0;t<p.length;t++)if(p[t]===c)return this.h$(n)+":marker["+t+"]"}return null};n.prototype.dDa=function(a,c,d){for(var e=this.Ta.zn,g=0;g<e.length;g++){var f=e[g].Jq,n;for(n in f)if(this.h$(n)==a){if("area"==c)return f[n].P9[d];if("marker"==c)return f[n].W9[d];if("link"==c)return f[n].U9[d]}}return null};n.prototype.h$=function(a){var c=a.lastIndexOf(":");return 0<c?a.substring(c+1):a};a.f.v(y,a.Jb);y.pM=2;y.m8=1;y.n8=4;y.l8=6;y.prototype.Init=
function(a,c){y.C.Init.call(this,a);this.Zoom=1;this.ao=c};y.prototype.hc=function(a){this.fk!=a&&(a&&(this.he?(this.uJ(),this.nl=this.PF(this.nl,y.pM),this.yk=this.PF(this.yk,y.l8)):(this.jp=this.PF(this.jp,y.m8),this.un=this.PF(this.un,y.n8))),y.C.hc.call(this,a))};y.prototype.Rc=function(){this.gb()?(this.uJ(),this.nl=this.PF(this.nl,y.pM),this.yk=this.PF(this.yk,y.l8)):this.eq=this.PF(this.eq,y.pM);y.C.Rc.call(this)};y.prototype.uJ=function(){this.nl||(this.nl=this.eq.clone(),this.nl.jb(y.pM),
this.ao&&this.nl.We(!0));this.yk||(this.yk=this.un.clone(),this.yk.jb(y.l8),this.ao&&this.yk.We(!0))};y.prototype.Cc=function(){this.gb()&&(this.jp=this.PF(this.jp,y.m8),this.un=this.PF(this.un,y.n8));y.C.Cc.call(this)};y.prototype.$o=function(a,c){y.C.$o.call(this,a,c);this.ao&&(this.eq&&this.eq.We(!0),this.gA&&this.gA.We(!0));return this};y.prototype.Eq=function(a,c){y.C.Eq.call(this,a,c);this.ao&&(this.jp&&this.jp.We(!0),this.un&&this.un.We(!0));return this};y.prototype.ds=function(a,c){y.C.ds.call(this,
a,c);this.ao&&(this.nl&&this.nl.We(!0),this.yk&&this.yk.We(!0));return this};y.prototype.JU=function(a,c){if(!this.ao){var d=a.fe();d&&(d=d.clone(),d.jb(c/this.Zoom),a.Ha(d))}};y.prototype.PF=function(a,c){if(!this.ao){var d=a.clone();d.jb(c/this.Zoom);return d}return a};y.prototype.V4a=function(a){this.Zoom=a.kd;this.gb()?this.he?(this.JU(this.Qf,y.pM),this.JU(this,y.l8)):(this.JU(this.Qf,y.m8),this.JU(this,y.n8)):this.he?this.JU(this.Qf,y.pM):this.JU(this,1)};a.f.v(H,a.ca);H.prototype.Init=function(c,
d,e){H.C.Init.call(this,c);this.pD=d;d instanceof a.$b?(this.Xa=d.getWidth(),this.nb=d.getHeight(),this.B(d)):(this.ja().appendChild(d),d=a.uk.mI(c,this),this.Xa=d.b,this.nb=d.i);this.Zy=new a.Rect(c,0,0,this.Xa,this.nb);this.Zy.Yb();c=new a.ma(e.selectedInnerColor,1,2);d=new a.ma("rgb(235, 236, 237)",1,2);var g=new a.ma(e.selectedInnerColor,1,1),f=new a.ma(e.selectedOuterColor,1,2),n=new a.ma(e.selectedInnerColor,1,2);e=new a.ma(e.selectedOuterColor,1,2);this.Zy.$o(c,d).Eq(g,f).ds(n,e);this.Zy.M6(a.Pa.YX);
this.Ad(this.Zy,0)};H.prototype.Od=function(c,d){a.m.eb()?this.Zy.Od(c,d):H.C.Od.call(this,c,d)};H.prototype.zg=function(c){a.m.eb()?this.Zy.zg(c):H.C.zg.call(this,c)};H.prototype.getWidth=function(){return this.Xa};H.prototype.getHeight=function(){return this.nb};H.prototype.Jn=function(a){this.Zy.Jn(a)};H.prototype.ab=function(){return this.Zy.ab()};H.prototype.gb=function(){return this.Zy.gb()};H.prototype.hc=function(a){this.Zy.hc(a)};H.prototype.Rc=function(){this.Zy.Rc()};H.prototype.Cc=function(){this.Zy.Cc()};
H.prototype.n9a=function(c){this.pD!==c&&(this.pD&&(this.pD instanceof a.$b?this.removeChild(this.pD):this.ja().removeChild(this.pD)),c instanceof a.$b?this.B(c):this.ja().appendChild(c),this.pD=c)};H.prototype.LQ=function(c){this.pD instanceof a.$b&&this.pD.LQ(c)};var w;this?this.DvtBaseMapManager?w=this.DvtBaseMapManager:(this.DvtBaseMapManager=w={},w._UNPROCESSED_MAPS=[[],[],[]],w._UNPROCESSED_PARENT_UPDATES=[[]]):window.DvtBaseMapManager?w=window.DvtBaseMapManager:(w={},window.DvtBaseMapManager=
w,w._UNPROCESSED_MAPS=[[],[],[]],w._UNPROCESSED_PARENT_UPDATES=[[]]);a.f.v(w,a.f,"DvtBaseMapManager");w.lN=0;w.XC=1;w.Hza=2;w.xha=3;w.fZ=4;w.uN="__index";w.ts={};w.Y1a=function(c,d){w.CD();var e=w.ts[c][d];return e&&(e=e[w.fZ])?new a.U(e[0],e[1],e[2],e[3]):null};w.P1a=function(a,c){w.CD();var d=w.ts[a][c];return d?d[w.xha]:null};w.O1a=function(a,c){var d=[],e=w.wHa(a,c),g;for(g in e)d.push(g);return d};w.Q1a=function(a,c){w.CD();var d=w.ts[a][c];return d?d[w.lN]:null};w.hab=function(a,c,d){w.CD();
a=w.ts[a][c];var e;a&&(e=a[w.lN]);return e&&e[d]?e[d][1]:null};w.m2a=function(c,d){w.CD();var e=w.ts[c];return e&&(e=e.cities)&&(e=e[w.XC][d])?new a.P(e[0],e[1]):null};w.n2a=function(a,c){w.CD();var d=w.ts[a];return d&&(d=d.cities)&&(d=d[w.lN][c])?d[1]:null};w.M1a=function(c,d,e){w.CD();return(c=w.ts[c])&&(d=c[d])&&(d=d[w.xha])&&d[e]?a.U.create(d[e][0]).Yd():null};w.wHa=function(a,c,d,e,g){w.CD();c=w.ts[a][c];a=c[w.XC];return(c=c[w.fZ])?w.p_a(a,c[2],c[3],d,e,g):a};w.UIa=function(a,c,d){w.CD();return(a=
w.ts[a][c])?a[w.XC][d]:null};w.L6a=function(a,c,d,e,g,f,n,p){var t=w.ts[a];t||(t={},t[w.uN]=[],w.ts[a]=t);a=t[c];a||(a={},t[c]=a,null!=n&&(t[w.uN][n]=c));a[w.lN]=d;a[w.XC]=e;a[w.Hza]=g;a[w.xha]=f;a[w.fZ]=p;a[w.uN]=n};w.O6a=function(a,c,d){var e=w.ts[a];e||(e={},w.ts[a]=e);a=e[c];a||(a={},e[c]=a);(a=e[c])&&(a[w.lN]=d)};w.m9a=function(a,c,d){if(a=w.ts[a])if(c=a[c])for(var e in d)c[w.lN][e]=d[e]};w.CD=function(){var a,c,d=w._UNPROCESSED_MAPS;if(d){for(a=0;a<d[0].length;a++)c=d[0][a],w.L6a(c[0],c[1],
c[2],c[3],c[4],c[5],c[6],c[7]);for(a=0;a<d[1].length;a++)c=d[1][a],w.O6a(c[0],c[1],c[2]);for(a=0;a<d[2].length;a++)c=d[2][a],w.m9a(c[0],c[1],c[2]);w._UNPROCESSED_MAPS=[[],[],[]]}if(d=w._UNPROCESSED_PARENT_UPDATES){for(a=0;a<d[0].length;a++){c=d[0][a];var e=c[1],g=c[2],f=w.ts[c[0]],n;if(f){if(e=f[e])for(e[w.Hza]=c[3],n=e[w.fZ],a=e[w.uN],e=f[w.uN],e.splice(a,0,g),f[g][w.uN]=a,a+=1;a<e.length;a++)(g=f[e[a]])&&g[w.uN]++;(e=f[c[2]])&&(e[w.fZ]=n)}}w._UNPROCESSED_PARENT_UPDATES=[[]]}};w.p_a=function(c,d,
e,g,f,n){if(0<n){d=1/(Math.min(g/d,f/e)*n);if(1>=d)return c;e=[];if(c)for(var p in c)g=c[p],isNaN(g)&&(g=a.G.ZH(c[p])),e[p]=a.G.ELa(g,d);return e}return c};w.o3a=function(a,c){w.CD();var d=w.ts[a][c],e={};if(d){var d=d[w.lN],g;for(g in d)e[g]=d[g][1];if("cities"!==c&&!d)for(g=w.O1a(a,c),d=0;d<g.length;d++)e[g[d]]=null}return e};a.f.v(t,a.f);t.prototype.Init=function(a,c){this.af=a;this.fO=c};t.prototype.rd=function(){return this.fO};t.prototype.Xd=function(){return[this.af]};a.f.v(u,a.M);u.prototype.Init=
function(c,d,e,g,f,n){u.C.Init.call(this,c,d,0,0);this.ao=n;this.jD=[];this.cd(!1);this.$f();this.ug();this.rl=null;this.ox=g;this.AP=f;if(e&&(this.jD.push(a.U.create(e[0])),1<e.length))for(this.Fna=[],d=1;d<e.length;d++)g=e[d],this.jD.push(a.U.create(g[0])),g=new a.Co(c,g[1]),g.Wc(!0),f=new a.ma("#000000"),this.ao&&f.We(!0),g.Ha(f),this.Fna.push(g)};u.prototype.Z_a=function(a){this.jD.push(a)};u.prototype.X4a=function(){return 0<this.jD.length};u.prototype.update=function(c){c=c.kd;for(var d=-1,
e=this.V(),g=!1,f=0;f<this.jD.length;f++){var n=this.jD[f].b*c;if(e.i<=this.jD[f].i*c)if(e.b<=n){d=f;break}else if(this.getParent()||(g=!0,this.AP.B(this)),this.V().b<=n){d=f;break}}-1==d&&"on"==this.ox&&(d=this.jD.length-1);this.Bka!=d?(-1==d?this.reset():(this.getParent()||this.AP.B(this),e=this.jD[d].Yd(),this.Xr(e),this.Fna&&(this.AP.removeChild(this.kz),this.kz=null,0<d?(this.kz=this.Fna[d-1],this.AP.B(this.kz),g=this.Bd(),g.Ma(a.j.od,"#000000"),this.ub(g),g=this.jD[d],f=this.kz.Df(),n=f.length,
g.x>f[n-2]?(this.Ph(),this.ug(),this.Xr(new a.P(g.x,e.y))):g.y>f[n-1]?(this.Mk(),this.$f(),this.Xr(new a.P(e.x,g.y))):g.x+g.b<f[n-2]?(this.dh(),this.ug(),this.Xr(new a.P(g.x+g.b,e.y))):g.y+g.i<f[n-1]&&(this.jm(),this.$f(),this.Xr(new a.P(e.x,g.y+g.i)))):(this.$f(),this.ug(),g=this.Bd(),g.Ma(a.j.od,this.pEa),this.ub(g)))),this.Bka=d):-1==d&&g&&this.AP.removeChild(this);-1!=this.Bka&&(d=new a.Da,d.translate(c*this.rl.x-this.rl.x,c*this.rl.y-this.rl.y),this.mb(d),this.kz&&(this.kz.mb(new a.Da(c,0,0,
c)),this.ao||(d=this.kz.fe().clone(),d.jb(1/c),this.kz.Ha(d))))};u.prototype.Xr=function(a){this.rl=a;this.na(a.x);this.Qa(a.y)};u.prototype.Yd=function(){return this.rl};u.prototype.ub=function(c){u.C.ub.call(this,c);this.pEa||(this.pEa=c.N(a.j.od))};u.prototype.reset=function(){this.AP.removeChild(this);this.Bka=-1;this.kz&&(this.AP.removeChild(this.kz),this.kz=null)};a.f.v(g,a.f,"DvtMapObjPeer");g.pda=0;g.f7=1;g.qda=2;g.prototype.Init=function(a,c,d,e,g,f){this.sb=a;this.gr=c;this.R=d;this.Sc=
this.wl=this.wi=!1;this.R.fS&&this.R.fS(a.color);this.Md=e;this.rl=g;this.Zoom=1;this.Fa=c.Ta;this.TXa=f;this.sb.categories||this.Md&&(this.sb.categories=[this.Md.Vc()]);"auto"==this.Fa.csa()&&f&&(this.sb.shortDesc=a.shortDesc?f+": "+a.shortDesc:f);this.R&&(c=a.svgClassName||a.className,this.R.Ma(a.svgStyle||a.style).sc(c),this.R.zg("img"));this.qs();this.Jn(this.ab())};g.prototype.getId=function(){return this.sb.id};g.prototype.bE=function(){return this.sb.location};g.prototype.Yd=function(){return this.rl};
g.prototype.OFa=function(a){this.rl=a;this.HZ()};g.prototype.Ga=function(){return this.R};g.prototype.ag=function(){return this.Md};g.prototype.qo=function(){return this.gr};g.prototype.ph=function(){return this.sb.action};g.prototype.Ci=function(a){this.R.Ci(a);this.Md&&this.Md.Ci(a)};g.prototype.Eh=function(){return this.sb.shortDesc};g.prototype.V6a=function(){this.Md=null};g.prototype.ve=function(){return this.R.getWidth?this.R.getWidth()*this.R.getHeight():0};g.prototype.rd=function(){var a=
this.sb.categories;return a?a:[]};g.prototype.bf=function(){if("none"!=this.Fa.csa()){var a=this.Fa.A()._tooltip;return a?this.Fa.a.cf().Rs(a.renderer,this.zj()):this.Eh()}return null};g.prototype.zj=function(){return{color:this.pi(),component:this.Fa.A()._widgetConstructor,data:this.sb,id:this.getId(),label:this.Md?this.Md.Vc():null,location:this.bE(),locationName:this.TXa,tooltip:this.Eh(),x:this.sb.x,y:this.sb.y}};g.prototype.pi=function(){return this.sb.color?this.sb.color:"#000000"};g.prototype.te=
function(){var c=[];this.ab()&&c.push(a.I.Ja(a.I.pa,this.gb()?"STATE_SELECTED":"STATE_UNSELECTED"));return a.R.lm(this.Eh(),c)};g.prototype.Xd=function(){return[this.Ga()]};g.prototype.qs=function(){if(!a.m.Vj()){var c=this.te();c&&this.R.Od("label",c)}};g.prototype.Jn=function(a){var c=this.ag();this.R.Jn&&(this.R.Jn(a),c&&a&&c.setCursor("pointer"))};g.prototype.ab=function(){return this.R.ab?"off"!==this.sb.selectable?this.gr.ab():!1:!1};g.prototype.gb=function(){return this.wi};g.prototype.hc=
function(a){if(this.ab()){var c=this.dm();this.wi=a;this.gr.A().selectionRenderer?this.i_(this.gr.A().selectionRenderer,this.dm(),c):this.RI(a);this.qs()}};g.prototype.Rc=function(){var a=this.dm();this.wl=!0;this.gr.A().hoverRenderer?this.i_(this.gr.A().hoverRenderer,this.dm(),a):this.yy(!0)};g.prototype.Cc=function(){var a=this.dm();this.wl=!1;this.gr.A().hoverRenderer?this.i_(this.gr.A().hoverRenderer,this.dm(),a):this.yy(!1)};g.prototype.pk=function(){return this.Lp};g.prototype.hn=function(a){for(var c=
this.gr.JT,d=0;d<a.length&&a[d]!=c;d++);return c};g.prototype.Dl=function(){return this.gr.wT(this)};g.prototype.Rp=function(){return this.gr.vT()};g.prototype.Kd=function(c){var d;if(c.type==a.MouseEvent.He||c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;(c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.gw)&&c.altKey?(d=this.qo().nV(this.getId()),d=E.k4(this,c,d)):d=a.ya.rI(this,c,this.L7());this.qo().Ta.VD(c,d);return d};g.prototype.L7=function(){return this.qo().Ta.fR()};g.prototype.md=function(c){return this.R.getParent()?
this.R.V(c?c:this.R.a.Gc):new a.U(0,0,0,0)};g.prototype.$j=function(){return this.R.ja()};g.prototype.rh=function(){var a=this.dm();this.Sc=!0;this.gr.A().focusRenderer?this.i_(this.gr.A().focusRenderer,this.dm(),a):this.vC(!0)};g.prototype.mf=function(){if(this.Ae()){var a=this.dm();this.Sc=!1;this.gr.A().focusRenderer?this.i_(this.gr.A().focusRenderer,this.dm(),a):this.vC(!1)}};g.prototype.Ae=function(){return this.Sc};g.prototype.Bo=function(a){this.R.getParent()&&(this.Zoom=a.kd,this.HZ())};g.prototype.Kca=
function(){if(this.Md){this.Md.$f();var c=this.R.Kg()*this.Zoom,d=this.R.Lg()*this.Zoom,e=this.R.getHeight(),g=this.R instanceof a.W?this.R.Hc():"image",f=this.sb.labelPosition;"top"==f?(d=d-e/2-4,this.Md.jm()):"bottom"==f?(d+=e/2,this.Md.Mk()):(d=g==a.W.WC?d+e/6:g==a.W.VC?d-e/6:d,this.Md.ug());this.Md.na(c).Qa(d)}};g.prototype.HZ=function(){var c=this.R.getWidth(),d=this.R.getHeight();if(null!=c&&null!=d&&this.R.getParent()){var e=0,g=this.rl.x,e=this.rl.y;this.R.sR&&(e=this.R.sR(),g=this.rl.x*Math.cos(e)-
this.rl.y*Math.sin(e),e=this.rl.x*Math.sin(e)+this.rl.y*Math.cos(e));g=this.rl.x*this.Zoom-g;e=this.rl.y*this.Zoom-e;this.R instanceof H&&(g+=this.rl.x-c/2,e+=this.rl.y-d/2);this.R.ib(g,e);a.m.lda(this.R);this.Kca()}};g.prototype.Mf=function(c,d){var e=new a.td(this.Fa.a,this.R,this.qo().Lb()),f=d.Ga();if(this.R.Hd){var n=f.Hd(),p=this.R.Hd();p instanceof a.pc&&!p.nc(n)&&(this.R.Ia(n),d.ag()&&this.Md&&(n=this.Md.Hd(),this.Md.Ia(d.ag().Hd().clone()),n.nc(this.Md.Hd())||e.da.aa(a.L.At,this.Md,this.Md.Hd,
this.Md.Ia,n)),e.da.aa(a.L.At,this.R,this.R.Hd,this.R.Ia,p))}this.R.Ps&&(p=d.Ga().Ps(),n=this.R.Ps(),p.x!=n.x||p.y!=n.y||p.b!=n.b||p.i!=n.i)&&(this.R.xC(p),e.da.aa(a.L.IJ,this.R,this.R.Ps,this.R.xC,n));p=f.sR();n=this.R.sR();if(p!=n){var t=p-n;t>Math.PI?p-=2*Math.PI:t<-Math.PI&&(p+=2*Math.PI);this.R.sE(p);e.da.aa(a.L.ta,this.R,this.R.sR,this.R.sE,n)}var t=d.Yd(),w=this.Yd();t&&w&&(t.x!=w.x||t.y!=w.y||p!=n)&&(this.OFa(new a.P(t.x,t.y)),e.da.aa(a.L.O8,this,this.Yd,this.OFa,new a.P(w.x,w.y)));this.Md&&
d.ag()?(p=d.ag().rb(),n=this.Md.rb(),p!=n&&(this.Md.na(p),e.da.aa(a.L.ta,this.Md,this.Md.rb,this.Md.na,n)),p=d.ag().vb(),n=this.Md.vb(),p!=n&&(this.Md.Qa(p),e.da.aa(a.L.ta,this.Md,this.Md.vb,this.Md.Qa,n)),d.ag().qa(0)):d.ag()&&d.ag().qa(0);f.qa(0);c.add(e,g.f7)};g.prototype.ai=function(c){var d=[this.R],e=this.ag();e&&d.push(e);d=new a.Wg(this.Fa.a,d,this.qo().Lb());c.add(d,g.pda)};g.prototype.nh=function(c){var d=[this.R];this.R.qa(0);var e=this.ag();e&&(e.qa(0),d.push(e));d=new a.dg(this.Fa.a,
d,this.qo().Lb());c.add(d,g.qda)};g.prototype.RI=function(a){this.R.hc&&this.R.hc(a)};g.prototype.vC=function(a){this.yy(a)};g.prototype.yy=function(a){a?this.R.Rc&&this.R.Rc():this.R.Cc&&!this.Ae()&&this.R.Cc()};g.prototype.i_=function(a,c,d){if(this.R instanceof H){var e=this.Fa.A()._contextHandler;if(e){var g=this.R.pD;c=e(this.R.ja(),g,this.sb,c,d);a=a(c);!a&&g&&this.Fa.a.sp||this.R.n9a(a)}}};g.prototype.dm=function(){return{hovered:this.wl,selected:this.gb(),focused:this.Ae()}};a.f.v(e,g,"DvtMapAreaPeer");
e.prototype.Init=function(a,c,d,g,f){e.C.Init.call(this,a,c,d,g,null,f)};e.prototype.A7a=function(a){this.oD=a};e.prototype.hc=function(a){this.ab()&&(a&&!this.wl&&this.oD.B(this.R),e.C.hc.call(this,a))};e.prototype.Rc=function(){this.oD.B(this.R);e.C.Rc.call(this)};e.prototype.Cc=function(){this.gb()?this.oD.B(this.R):this.oD.Ad(this.R,0);e.C.Cc.call(this)};e.prototype.Bo=function(a){e.C.Bo.call(this,a);this.R.getParent()&&(this.R.V4a(a),this.Kca(a))};e.prototype.Kca=function(a){this.ag()&&this.ag().update(a)};
e.prototype.L7=function(){return this.qo().Ta.J4()};e.prototype.Mf=function(a,c){e.C.Mf.call(this,a,c);this.qo().P1.Xca(this.bE(),!1)};e.prototype.HZ=function(){};a.f.v(p,g,"DvtMapLinkPeer");p.prototype.Init=function(a,c,d,e,g,f,n){p.C.Init.call(this,a,c,d);this.DK=e;this.aK=g;this.Baa=f;this.ela=n};p.prototype.Kd=function(c){var d=this.gr.Ta.u.ya;if(c.type==a.MouseEvent.He||c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey)return this;if(d.H$===E.Kya)if(c.keyCode===a.KeyboardEvent.sg){var d=d.vEa.getId(),
d=this.qo().nV(d),e=d.indexOf(this);e++;e===d.length&&(e=0);d=d[e]}else if(c.keyCode===a.KeyboardEvent.kf)d=d.vEa.getId(),d=this.qo().nV(d),e=d.indexOf(this),e--,-1===e&&(e=d.length-1),d=d[e];else if(c.keyCode===a.KeyboardEvent.Ne)d=this.DK.x<=this.aK.x?this.Baa:this.ela;else if(c.keyCode===a.KeyboardEvent.Be)d=this.DK.x>=this.aK.x?this.Baa:this.ela;else return this;else d=a.ya.rI(this,c,this.L7());this.qo().Ta.VD(c,d);return d};p.prototype.L7=function(){return this.qo().Ta.K4()};p.prototype.HZ=function(){if(this.R.getParent()){var c=
new a.P(this.DK.x*this.Zoom,this.DK.y*this.Zoom),d=new a.P(this.aK.x*this.Zoom,this.aK.y*this.Zoom),c=F.FGa(this.gr,this.DK,this.aK,c,d);this.R.Vg(c);a.m.lda(this.R)}};p.prototype.Mf=function(c,d){var e=new a.td(this.Fa.a,this.R,this.qo().Lb()),f=d.Ga(),n=f.fe(),p=this.R.fe();p.Zb()!=n.Zb()&&(this.R.Ha(n),e.da.aa(a.L.gZ,this.R,this.R.fe,this.R.Ha,p));var n=d.aK,p=this.aK,t=!0;d.DK.nc(this.DK)&&n.nc(p)||(t=!1,this.R.qa(0),e.da.aa(a.L.ta,this.R,this.R.Kb,this.R.qa,1),e.da.aa(a.L.ta,f,f.Kb,f.qa,0));
t&&f.qa(0);c.add(e,g.f7)};a.f.v(c,a.ca);c.u$a=1;c.prototype.Init=function(a,d,e,g,f,n){c.C.Init.call(this,a);this.iUa=g;this.jUa=f;this.X=e;this.B(this.X);this.Fa=d;this.ao=n;if(a=e.fe())this.sBa=a.getWidth()};c.prototype.bf=function(){if("none"!=this.Fa.csa()){var a=this.Fa.A()._tooltip;return a?this.Fa.a.cf().Rs(a.renderer,this.zj()):this.Js}return null};c.prototype.rwa=function(a){this.Js=a};c.prototype.zj=function(){return{color:null,component:this.Fa.A()._widgetConstructor,data:null,id:null,
label:null,location:this.iUa,locationName:this.jUa,tooltip:this.Js,x:null,y:null}};c.prototype.fe=function(){return this.X instanceof a.Db?this.X.fe():null};c.prototype.Ha=function(c){this.X instanceof a.Db&&this.X.Ha(c)};c.prototype.Ia=function(c){this.X instanceof a.Db&&this.X.Ia(c)};c.prototype.Hd=function(){return this.X instanceof a.Db?this.X.Hd():null};c.prototype.PK=function(){return this.X instanceof a.Jb?this.X.PK():null};c.prototype.Vg=function(c){this.X instanceof a.Jb&&this.X.Vg(c)};c.prototype.sS=
function(c){this.X instanceof a.Image&&this.X.sS(c)};c.prototype.contains=function(a,c){var d=this.V();return a>=d.x&&a<=d.x+d.b&&c>=d.y&&c<=d.y+d.i};c.prototype.Bo=function(a){if(!this.ao&&this.X&&this.sBa){var c=this.X.fe().clone();c.jb(this.sBa/a.kd);this.X.Ha(c)}};a.f.v(f,a.f);f.prototype.Init=function(c,d,e){this.Ta=c;this.BM=d;this.Nea=e;this.Jq={};this.xw=new a.Da};f.prototype.uGa=function(a){this.Jq[a.JT]=a};f.prototype.bza=function(){};f.prototype.vga=function(){};f.prototype.uxa=function(c,
d){this.Ht&&this.Ht.stop(!0);this.xw=d;this.uP=this.qo(c.JT);this.uGa(c);c.ia(this.xw);c.Bo(new a.vd(a.vd.OY),this.xw);if(this.uP){var e=c.uz(),g=c.Lb();if("auto"==e){var f=new a.Pl(this.Ta.a);f.En(this.uP.hba(),c.hba());this.Ht=f.uz()}else if(a.Ra.isSupported(e)){this.lFa=!0;for(var n=new a.U(0,0,this.Ta.getWidth(),this.Ta.getHeight()),p=this.uP.Isa(),f=0;f<p.length;f++){var t=new a.Rect(this.Ta.a,0,0,this.Ta.getWidth(),this.Ta.getHeight());t.Ia(null);p[f].B(t)}for(var w=c.Isa(),f=0;f<w.length;f++)t=
new a.Rect(this.Ta.a,0,0,this.Ta.getWidth(),this.Ta.getHeight()),t.Ia(null),w[f].B(t);n=a.Ra.RK(this.Ta.a,e,p,w,n,g);p=new a.U(0,0,this.Ta.getWidth()/this.xw.kd,this.Ta.getHeight()/this.xw.kd);w=this.uP.ata();for(f=0;f<w.length;f++)t=new a.Rect(this.Ta.a,0,0,this.Ta.getWidth()/this.xw.kd,this.Ta.getHeight()/this.xw.kd),t.Ia(null),w[f].B(t);for(var u=c.ata(),f=0;f<u.length;f++)t=new a.Rect(this.Ta.a,0,0,this.Ta.getWidth()/this.xw.kd,this.Ta.getHeight()/this.xw.kd),t.Ia(null),u[f].B(t);f=a.Ra.RK(this.Ta.a,
e,w,u,p,g);this.Ht=new a.ae(this.Ta.a,[n,f])}else for(e=this.uP.PHa(),f=0;f<e.length;f++)e[f].getParent().removeChild(e[f]);this.bza();if(this.Ht){this.Nea.kn(this.Ba);var z=this;this.Ht.pg(function(){z.rw(c)},this);this.Ht.play()}}else this.vga(),this.Ta.Uya()};f.prototype.qo=function(a){return this.Jq?this.Jq[a]:null};f.prototype.ia=function(a){this.xw=a;for(var c in this.Jq)this.Jq[c].ia(a)};f.prototype.Bo=function(a,c){this.xw=c;for(var d in this.Jq)this.Jq[d].Bo(a,c)};f.prototype.SS=function(a){this.xw=
a;for(var c in this.Jq)this.Jq[c].SS(a)};f.prototype.rw=function(a){if(this.uP)for(var c=this.uP.PHa(),d=0;d<c.length;d++){var e=c[d].getParent();e&&e.removeChild(c[d])}if(this.lFa){this.lFa=!1;c=a.Isa();for(d=0;d<c.length;d++)c[d].Oz(c[d].Uc()-1);a=a.ata();for(d=0;d<a.length;d++)a[d].Oz(a[d].Uc()-1)}this.vga();this.Ta.Uya();this.Ht=null;this.Nea.Lf(this.Ba)};f.prototype.Ec=function(){var a=this.Jq,c;for(c in a)a[c].Ec()};a.f.v(x,f);x.KAa=0;x.Gia=1;x.prototype.Init=function(c,d,e,g,f){x.C.Init.call(this,
c,d,f);this.ox=e;this.qEa=g;this.SZ={};this.zS={};this.LL={};this.XT=this.Xu=null;this.zK={};this.rH={};this.taa={};this.i7=new a.ca(this.Ta.a);this.RX=new a.ca(this.Ta.a);this.Ta.rBa.Ad(this.i7,0);this.Ta.SG.Ad(this.RX,0)};x.prototype.B7a=function(a){this.LL=a;for(var c in a)this.Xca(c,!0)};x.prototype.z7a=function(a){this.Xu=a;for(var c in a)this.SV(c,!0)};x.prototype.f4a=function(a){return this.Xu&&this.Xu[a]?this.Xu[a][x.KAa]:null};x.prototype.nIa=function(a){return this.Xu&&this.Xu[a]?this.Xu[a][x.Gia]:
null};x.prototype.y7a=function(a){this.XT=a};x.prototype.eIa=function(a){return this.XT?this.XT[a]:null};x.prototype.S3=function(a){return this.LL[a]};x.prototype.h8a=function(a){this.Ena=a};x.prototype.n3a=function(){return new a.j(this.Ena)};x.prototype.Xca=function(a,c){this.zK[a]=c};x.prototype.SV=function(a,c){this.rH[a]=c};x.prototype.f8a=function(a){this.aP=a;this.ZT=null;for(var c in this.LL)c!=a&&(this.zK[c]=!1)};x.prototype.A4=function(){if(!this.ZT){var c=this.Ta.mz;this.aP?this.ZT=c?a.G.V(a.G.ZH(w.UIa(this.Ta.mz,
this.BM,this.aP))):a.uk.mI(this.Ta.a,this.S3(this.aP)):(c&&"world"!=c&&"worldRegions"!=c&&(this.ZT=w.Y1a(this.Ta.mz,this.BM)),this.ZT||(c=this.i7.V().Hn(this.Ta.Q9.V()),0<c.b&&0<c.i&&(this.ZT=c)))}return this.ZT};x.prototype.nka=function(d){var e=this.LL[d];if(e){if(!this.zS[d]){var g=this.Xu&&this.Xu[d]?this.Xu[d][x.Gia]:null,f=new c(this.Ta.a,this.Ta,e,d,g,this.Ta.ao);this.zS[d]=f;this.Nea.Xb(e,f);f.rwa(g)}this.rH[d]&&(g=this.SZ[d],!g&&"off"!=this.ox&&this.Xu&&(g="short"==this.qEa?this.Xu[d][x.KAa]:
this.Xu[d][x.Gia]))&&(this.XT&&this.XT[d]?g=new u(this.Ta.a,g,this.XT[d],this.ox,this.RX,this.Ta.ao):(e=a.uk.mI(this.Ta.a,e),g=new u(this.Ta.a,g,[[e.x,e.y,e.b,e.i]],this.ox,this.RX,this.Ta.ao)),this.SZ[d]=g,this.Ena&&g.ub(this.Ena))}};x.prototype.jja=function(a){if(this.LL[a]){this.i7.B(this.zS[a]);var c=this.SZ[a];c&&(this.rH[a]?c.update(this.xw):c.reset(),this.taa[a]=this.rH[a])}};x.prototype.k7a=function(){for(var a in this.Xu)this.Xca(a,!0),this.SV(a,!0)};x.prototype.uxa=function(a,c,d){x.C.uxa.call(this,
a,c,d);if(d==this.BM)for(var e in this.LL)this.nka(e),this.zK[e]&&this.jja(e)};x.prototype.ia=function(a){for(var c in this.LL)this.nka(c),this.zK[c]&&this.jja(c);x.C.ia.call(this,a)};x.prototype.bza=function(){for(var a in this.zK)this.zK[a]||(this.nka(a),this.jja(a))};x.prototype.vga=function(){for(var a in this.zK)if(!this.zK[a]){this.i7.removeChild(this.zS[a]);var c=this.SZ[a];c&&(this.taa[a]=!1,this.RX.removeChild(c),(c=c.kz)&&this.RX.removeChild(c))}};x.prototype.Bo=function(a,c){x.C.Bo.call(this,
a,c);if(!this.Ta.ao)for(var d in this.zS)this.zS[d].Bo(c);for(d in this.taa)if(this.taa[d]){var e=this.SZ[d];e&&e.update(c)}};a.f.v(v,a.f);v.prototype.Init=function(c,d,e,g,f){this.Ta=c;this.JT=e;this.Vf=f;this.It=[];this.kP=[];this.iP=[];this.P9=[];this.W9=[];this.U9=[];this.hz=g;this.R0={};this.Go=new a.vc(c.a);this.hz.hS(this.Go);this.oD=new a.ca(this.Ta.a);this.D_=new a.ca(this.Ta.a);this.S9=new a.ca(this.Ta.a);this.V9=new a.ca(this.Ta.a);this.Ta.Q9.Ad(this.oD,0);this.Ta.YJ.Ad(this.D_,0);this.Ta.SG.Ad(this.S9,
0);this.Ta.aU.Ad(this.V9,0);this.P1=d};v.prototype.A=function(){return this.Vf};v.prototype.PHa=function(){return[this.oD,this.D_,this.S9,this.V9]};v.prototype.ata=function(){return[this.oD]};v.prototype.Isa=function(){var a=[this.S9,this.V9];this.Ta.sL()&&a.push(this.D_);return a};v.prototype.hba=function(){return this.kP.concat(this.It).concat(this.iP)};v.prototype.C3a=function(){for(var a=[],c=0;c<this.It.length;c++)a.push(this.It[c]);return a};v.prototype.Oaa=function(a){this.W9.push(a);if(a){this.kP.push(a);
this.hz.Xb(a.Ga(),a);var c=a.ag();c&&this.hz.Xb(c,a)}};v.prototype.nqa=function(a){this.P9.push(a);a&&(this.It.push(a),this.hz.Xb(a.Ga(),a),a.A7a(this.oD))};v.prototype.h0a=function(a){this.U9.push(a);a&&(this.iP.push(a),this.hz.Xb(a.Ga(),a))};v.prototype.c9a=function(a,c){var d=v.SWa(a,c);this.R0[d]?this.R0[d]++:this.R0[d]=1;return this.R0[d]};v.SWa=function(a,c){return a.x<c.x?a.x.toString()+a.y.toString()+c.x.toString()+c.y.toString():c.x.toString()+c.y.toString()+a.x.toString()+a.y.toString()};
v.prototype.PYa=function(a){a=this.It.indexOf(a);-1!==a&&this.It.splice(a,1)};v.prototype.x7a=function(a){this.XTa=a};v.prototype.uz=function(){return this.XTa};v.prototype.NV=function(a){this.WTa=a};v.prototype.Lb=function(){return this.WTa};v.prototype.rS=function(c){if(this.Jp=c)this.Fd=new a.Hb(this.Jp),this.hz.Ey(this.JT,this.Fd)};v.prototype.ab=function(){return null!=this.Jp};v.prototype.E_a=function(a){var c=a.Ga(),d=this.P1.S3(a.bE());if(d)return c.Vg(d.PK()),!0;this.PYa(a);return!1};v.prototype.SYa=
function(a){if(this.E_a(this.It[a])){var c=this.It[a].Ga();this.oD.B(c);if(a=this.It[a].ag())a.X4a()||(c=c.V(),a.Z_a(c)),a.update(this.Coa);return!0}return!1};v.prototype.ia=function(c){this.Coa=c;c={};var d=this.kP.slice();d.sort(function(a,c){return a.ve()<c.ve()?1:a.ve()>c.ve()?-1:0});for(var e=0;e<d.length;e++){var g=d[e],f=g.Ga(),n=g.ag();if(n){var p=new a.ca(f.a);this.D_.B(p);p.B(f);p.B(n);g.Kca()}else this.D_.B(f);(g=g.bE())&&(c[g]=!0)}for(e=0;e<this.It.length;e++)c[this.It[e].bE()]&&this.It[e].V6a(),
this.SYa(e)||e--;for(e=0;e<this.iP.length;e++)this.V9.B(this.iP[e].Ga());this.Sma&&this.yK()};v.prototype.Bo=function(a,c){this.Coa=c;for(var d=this.It,e=0;e<d.length;e++)d[e].Bo(c);if(this.Ta.sL())for(d=this.kP,e=0;e<d.length;e++)d[e].Bo(c);this.R0={};d=this.iP;for(e=0;e<d.length;e++)d[e].Bo(c)};v.prototype.SS=function(a){this.Coa=a};v.prototype.d8a=function(a){this.Sma=a};v.prototype.yK=function(){this.Fd&&(this.Fd.Wr(this.Sma,this.hba()),this.Sma=null)};v.prototype.wT=function(a){if(this.Fd){a.gb()||
(this.Fd.jn(a,!1),this.hz.Du(a));a=[];for(var c=this.Fd.getSelection(),d=0;d<c.length;d++)a.push(c[d].getId());return a}return null};v.prototype.vT=function(){for(var a=[],c=this.Fd.getSelection(),d=0;d<c.length;d++)a.push(c[d].Ga());return a};v.prototype.$3a=function(a){for(var c=[],d=this.It,e=0;e<a.length;e++)for(var g=0;g<d.length;g++)if(d[g].getId()==a[e]){c.push(d[g].bE());break}return c};v.prototype.Ec=function(){for(var a=this.hba(),c=0;c<a.length;c++){var d=a[c].Ga();d instanceof H&&(d=d.pD,
d.Ec&&d.Ec())}this.hz=null};v.prototype.nV=function(a){for(var c=[],d=0;d<this.U9.length;d++){var e=this.U9[d],g=e.Baa,f=e.ela;g&&g.getId()===a?c.push(e):f&&f.getId()===a&&c.push(e)}return c};a.f.v(E,a.GJ);E.Kya="linkNode";E.Rfa="link";E.prototype.Init=function(a,c){E.C.Init.call(this,a,c);this.Ta=a;this.H$=E.Rfa};E.prototype.Jz=function(a){return this.Uh(a)&&!a.ctrlKey};E.prototype.Qk=function(c){var d=c.keyCode,g=this.Fc.Fe();if(d==a.KeyboardEvent.hw){this.H$=E.Rfa;d=[];g instanceof e&&(d=this.Ta.fR());
if("DvtMapObjPeer"===g.getTypeName()||0===d.length)d=this.Ta.K4();0<d.length&&(g=a.ya.rI(g,c,d),this.Ta.VD(c,g));this.Fc.YM(g)}else if(d==a.KeyboardEvent.Uy){this.H$=E.Rfa;d=[];g instanceof p&&(d=this.Ta.fR());if("DvtMapObjPeer"===g.getTypeName()||0===d.length)d=this.Ta.J4();0<d.length&&(g=a.ya.rI(g,c,d),this.Ta.VD(c,g));this.Fc.YM(g)}else(c.keyCode==a.KeyboardEvent.Ty||a.KeyboardEvent.gw)&&c.altKey&&(this.vEa=g,this.H$=E.Kya),g=E.C.Qk.call(this,c),this.Uh(c)&&!c.ctrlKey&&this.Fc.YM(g);return g};
E.prototype.xo=function(c){return c.keyCode==a.KeyboardEvent.Kj&&c.ctrlKey};E.prototype.Uh=function(c){var d=E.C.Uh.call(this,c);switch(c.keyCode){case a.KeyboardEvent.Uy:case a.KeyboardEvent.hw:d=!0;break;case a.KeyboardEvent.Ty:case a.KeyboardEvent.gw:d=c.altKey?!0:!1;break;default:d=E.C.Uh.call(this,c)}return d};E.k4=function(c,d,e){d=d.keyCode;if(!e||1>e.length||!c)return null;for(var g=c.Yd(),f=0;f<e.length;f++){var n=e[f],p;p=c.getId()===n.Baa.getId()?n.aK:n.DK;if(d==a.KeyboardEvent.Ty&&p.x<=
g.x||d==a.KeyboardEvent.gw&&p.x>=g.x)break}return n};a.f.v(D,a.u);D.prototype.Init=function(a,c,d){D.C.Init.call(this,a,c,d);this.YP={};this.Ta=d;this.hD=!1};D.prototype.Ue=function(a){if(a&&a.qo)return this.YP[a.qo().JT]};D.prototype.Ey=function(a,c){this.YP[a]=c};D.prototype.b8a=function(a){a&&D.C.Pu.call(this,a)};D.prototype.rj=function(c){var d=this.Ya(c.target);this.YM(d);if(!(d&&d.ab&&d.ab()))for(var e in this.YP)this.YP[e].jn(null,c.ctrlKey)&&(d=a.la.wL([]),d.clientId=e,this.Tb.call(this.Ba,
d));D.C.rj.call(this,c)};D.prototype.YM=function(a){var d=null,e=null,f=null;a&&(a instanceof g?f=a.Ga():a instanceof c&&(f=a),a.qo&&(a=a.qo(),d=a.JT,e=a.P1.BM));this.Ta.J7a(d,e,f)};D.prototype.Ul=function(c){var d=!0,e=c.keyCode,g=this.Fe(),f=g.Ga();e!=a.KeyboardEvent.rg&&this.hD?(f.LQ(c),c.preventDefault()):e==a.KeyboardEvent.Kj&&c.ctrlKey?(this.YM(g),this.NC(g,!0),c.preventDefault()):e!=a.KeyboardEvent.ZERO&&e!=a.KeyboardEvent.bga||!c.ctrlKey?e==a.KeyboardEvent.rg&&f instanceof H?!c.shiftKey&&
g.Ae()?(g.mf(),f.LQ(c),c.preventDefault(),this.hD=!0):(c.shiftKey&&this.hD?(this.xt(c,g),c.preventDefault()):(this.hD&&g.rh(),d=D.C.Ul.call(this,c)),this.hD=!1):(e==a.KeyboardEvent.rg&&g&&this.Ta.VD(c,g),d=D.C.Ul.call(this,c)):(c.altKey?this.Ta.D1a(f):this.Ta.qHa(),c.preventDefault());return d};D.prototype.EJ=function(c){if(!this.Xg(c,a.Dd.JW)){var d=this.Ya(c.target);this.YM(d);if(d instanceof a.kc)for(var e in this.YP)if(this.YP[e].jn(null,c.ctrlKey)){for(var d=this.YP[e].getSelection(),g=[],f=
0;f<d.length;f++)g.push(d[f].getId());d=a.la.wL(g);this.Tb.call(this.Ba,d)}D.C.EJ.call(this,c)}};D.prototype.uM=function(a,c){var d=this.Ya(a.target);this.YM(d);D.C.uM.call(this,a,c)};D.prototype.Ij=function(c,d,e){c=this.Ta.A();"dim"==c.hoverBehavior&&(d=d.rd?d.rd():[],c.highlightedCategories=e?d.slice():null,e=a.la.OI(c.highlightedCategories,e),d=a.$a.zq(c.styleDefaults.hoverBehaviorDelay),this.pF.Ef(e,this.Ta.J4().concat(this.Ta.fR()).concat(this.Ta.K4()),d,"any"==c.highlightMatch))};D.prototype.Oy=
function(){var c=this.Ta.A();return"none"!==c.panning||"none"!==c.zooming?a.u.UC:c.touchResponse===a.u.ns?a.u.ns:a.u.ZY};D.prototype.uA=function(c){return c==a.Dd.JW?!1:D.C.uA.call(this,c)};D.prototype.DLa=function(a,c){this.xt(a,c)};D.prototype.xt=function(a,c){this.Ta.UJa()||D.C.xt.call(this,a,c)};a.f.v(F,a.f);F.$Ra=6;F.RRa=.5;F.mSa=20;F.prototype.Init=function(a){this.Ta=a;this.TZ=this.SN=null};F.prototype.parse=function(a){var c=a.mapProvider;d.V0a(c)&&(this.jP=c);this.kYa(a);this.lYa(a.styleDefaults);
this.jYa(a.areaLayers);this.h8(a.pointDataLayers,null,null,!1)};F.prototype.kYa=function(a){var c=a.animationDuration;"string"==typeof c?"ms"==c.slice(-2)?c=parseInt(c.slice(0,-2))/1E3:"s"==c.slice(-1)&&(c=parseFloat(c.slice(0,-1))):c/=1E3;this.Ta.NV(c);this.jP||this.Ta.m8a(a.basemap);this.Ta.e8a("auto"==a.initialZooming);this.Ta.x8a("auto"==a.panning);this.Ta.R8a("auto"==a.zooming)};F.prototype.jYa=function(c){var e=this.Ta.a;c=this.Ta.Ff.E0a(c[0],e.sp);var g=c.layer;if(g||this.jP){var f;if(f=c.areaSvgStyle||
c.areaStyle){f instanceof Object||(f=a.j.IK(f));var n=F.SCa(f);this.TZ=a.Za.be(f,this.TZ);this.SN.be(n)}c.labelStyle&&this.SN.fl(c.labelStyle);f=new x(this.Ta,g,c.labelDisplay,c.labelType,this.Ta.Ob());var n=this.Ta.mz,p,t;this.jP?(g=d.i6a(e,this.jP),e=g.areas,p=g.labels):(e=w.wHa(n,g,this.Ta.getWidth(),this.Ta.getHeight(),this.Ta.xIa()),p=w.Q1a(n,g),t=w.P1a(n,g));f.B7a(this.lVa(e));f.z7a(p);f.y7a(t);f.h8a(this.SN);this.Ta.wGa(f);c.areaDataLayer&&this.h8([c.areaDataLayer],f,null,!0);c.pointDataLayers&&
this.h8(c.pointDataLayers,f,null,!1)}};F.prototype.h8=function(c,d,e,g){if(c)for(var n=0;n<c.length;n++){var p=this.Ta.Ff.H0a(c[n]);d?d instanceof x&&g&&d.k7a():(d=new f(this.Ta,p.id,this.Ta.Ob()),this.Ta.wGa(d));var t=new v(this.Ta,d,p.id,this.Ta.Ob(),p);g=p.selectionMode;"single"==g?t.rS(a.Hb.iv):"multiple"==g&&t.rS(a.Hb.os);t.x7a(p.animationOnDataChange);t.NV(this.Ta.Lb());var w=null;d instanceof x&&(w=p.isolatedItem);var u;g=d instanceof x;var z=this.Ta.A().hiddenCategories,A=p.areas;if(A)for(var y=
0;y<A.length;y++)if(z&&a.Y.$s(z,A[y].categories))t.nqa(null);else{var D=A[y].location;if(w)if(w!=A[y].id)continue;else u=D;(D=this.VUa(d,t,A[y]))&&t.nqa(D)}var A=p.renderer,E=p.markers;if(E&&!A)for(F.vUa(this.Ta,E),y=0;y<E.length;y++)if(z&&a.Y.$s(z,E[y].categories))t.Oaa(null);else{D=E[y].location;if(w)if(w!=E[y].id)continue;else u=D;(D=this.dz(d,t,E[y],g))&&t.Oaa(D)}var H=p.images;if(H)for(y=0;y<H.length;y++){D=H[y].location;if(w)if(w!=H[y].id)continue;else u=D;(D=this.ska(d,t,H[y],g))&&t.Oaa(D)}if(H=
p.links)for(y=0;y<H.length;y++)z&&a.Y.$s(z,H[y].categories)?t.nqa(null):(D=this.kVa(t,H[y]))&&t.h0a(D);if(A&&E)for(y=0;y<E.length;y++){D=E[y].location;if(w)if(w!=E[y].id)continue;else u=D;z=this.Ta.A()._contextHandler(this.Ta.ja(),null,E[y],{hovered:!1,selected:!1,focused:!1},null);z=A(z);(D=this.ZUa(d,t,E[y],z,g))&&t.Oaa(D)}u&&d.f8a(u);(p=p.selection)&&0<p.length&&t.d8a(p);e?d.uxa(t,this.Ta.mc.Zc.Wa(),e):d.uGa(t)}};F.prototype.lYa=function(c){this.Ta.tKa(c);var d=c.areaSvgStyle||c.areaStyle;!d||
d instanceof Object||(d=a.j.IK(d));d=a.Za.be(d,c._areaStyle);this.SN=F.SCa(d);this.TZ=d;this.SN.fl(c.labelStyle);new a.j(c.dropTargetStyle);this.Ta.J8a(c)};F.SCa=function(c){var d=new a.j;a.Y.forEach([a.j.we,a.j.ge],function(e){var g=null,f=a.j.TD(e);c&&null!=c[f]&&(g=c[f],delete c[f]);d.Ma(e,g)});return d};F.prototype.lVa=function(c){var d={},e=this.Ta.a,g;for(g in c){var f=new a.Jb(e);f.Vg(c[g]);var n=this.SN.N(a.j.we);n&&"transparent"!=n&&(n=new a.ma(n),this.Ta.ao&&n.We(!0),f.Ha(n));n=this.SN.N(a.j.ge);
"transparent"!=n?f.bb(n):f.Ia(null);this.TZ&&f.Ma(this.TZ);d[g]=f}return d};F.prototype.VUa=function(c,d,g){var f=g.location;if(c.S3(f)){c.Xca(f,!1);f=new y(this.Ta.a,this.Ta.ao);g=a.Za.be(g,this.Ta.T2.dataAreaDefaults);g.labelStyle||(g.labelStyle=this.Ta.T2.labelStyle);var n=new a.ma(g.hoverColor,1,y.pM),p=new a.ma(g.selectedInnerColor,1,y.m8),t=new a.ma(g.selectedOuterColor,1,y.n8);f.$o(n,null).Eq(p,t);c.SV(g.location,!1);this.ZFa(g,f);c=this.jO(c,d,g,f,!0);n=F.n$(this.Ta.mz,d,g);return new e(g,
d,f,c,n)}return null};F.prototype.dz=function(c,d,e,f){var n=e._size,p;p=this.jP&&!e.location?new a.P(e.x,-e.y):F.Yd(d,e.location,e.x,e.y);if(!p||0===n)return null;var t=this.Ta.T2.dataMarkerDefaults,w=new a.j(t.labelStyle);w.fl(e.labelStyle);e=a.Za.be(e,t);e.labelStyle=w.toString();if(null!=n)t=n;else{t=e.scaleX;null==t&&(t=1);n=e.scaleY;null==n&&(n=1);var u=e.width;null==u&&(u=this.Ta.A().styleDefaults.dataMarkerDefaults.width);w=e.height;null==w&&(w=this.Ta.A().styleDefaults.dataMarkerDefaults.height);
t*=u;n*=w}w=e.borderRadius;e.source?t=new a.Ac(this.Ta.a,p.x,p.y,t,n,w,e.source,e.sourceSelected,e.sourceHover,e.sourceHoverSelected):(u=e.shape?e.shape:this.Ta.A().styleDefaults.dataMarkerDefaults.shape,t=new a.W(this.Ta.a,u,this.Ta.zaa,p.x,p.y,t,n,w));(n=e.rotation)&&t.sE(n*Math.PI/180);f&&c.SV(e.location,!1);this.ZFa(e,t);c=this.jO(c,d,e,t,f);f=F.n$(this.Ta.mz,d,e);return new g(e,d,t,c,p,f)};F.prototype.ska=function(c,d,e,f){var n=F.Yd(d,e.location,e.x,e.y);if(!n)return null;var p=new a.Image(this.Ta.a,
e.url),t=e.width,w=e.height;null!=t&&null!=w&&(p.na(n.x-t/2),p.Qa(n.y-w/2),p.jb(t),p.Mb(w));f&&c.SV(e.location,!1);c=F.n$(this.Ta.mz,d,e);var u=new g(e,d,p,null,n,c);t&&w||a.hA.Lz(this.Ta.a,e.url,function(a){a&&a.width&&a.height&&(p.jb(a.width),p.Mb(a.height),p.na(n.x-a.width/2),p.Qa(n.y-a.height/2),u.HZ())});return u};F.prototype.ZUa=function(c,d,e,f,n){var p;p=this.jP&&!e.location?new a.P(e.x,-e.y):F.Yd(d,e.location,e.x,e.y);if(!p)return null;n&&c.SV(e.location,!1);c=new H(this.Ta.a,f,this.Ta.T2.dataAreaDefaults);
f=F.n$(this.Ta.mz,d,e);return new g(e,d,c,null,p,f)};F.prototype.kVa=function(c,d){var e=d.startLocation,g=d.endLocation,f,n;if(e.id){for(var t=c.W9,w=0;w<t.length;w++){var u=t[w];if(u&&u.getId()==e.id){n=u;f=u.Yd();break}}if(!n)for(t=c.P9,w=0;w<t.length;w++)if((u=t[w])&&u.getId()==e.id){n=u;f=this.o$(c,{location:u.bE()});break}}else f=this.o$(c,e);var z,v;if(g.id){t=c.W9;for(w=0;w<t.length;w++)if((u=t[w])&&u.getId()==g.id){v=u;z=u.Yd();break}if(!v)for(t=c.P9,w=0;w<t.length;w++)if((u=t[w])&&u.getId()==
g.id){v=u;z=this.o$(c,{location:u.bE()});break}}else z=this.o$(c,g);if(!z||!f)return null;e=new a.Jb(this.Ta.a,F.FGa(c,f,z,f,z));e.Ia(null);var w=this.Ta.T2.linkDefaults,A=d.color;A||(A=w.color);(g=d.width)||(g=w.width);t=new a.ma(A,1,g);t.We(!0);e.Ha(t);var u=w._hoverColor,y=w._selectedColor,w=new a.ma(u,1,g),t=new a.ma(A,1,g+2),A=new a.ma(A,1,g),x=new a.ma(y,1,g+2),u=new a.ma(u,1,g),g=new a.ma(y,1,g+2);e.$o(w,t).Eq(A,x).ds(u,g);return new p(d,c,e,f,z,n,v)};F.prototype.o$=function(c,d){return this.jP?
new a.P(d.x,-d.y):F.Yd(c,d.location,d.x,d.y)};F.prototype.jO=function(c,d,e,g,f){var n=e.location,p=e.label,t=p?"on":"off";f&&(t=c.ox);g=g instanceof a.Jb;!p&&f&&(g&&"off"!=t||!g&&"on"==t)&&(p="long"==c.qEa?c.nIa(n):c.f4a(n));if(p){var w=this.Ta.a,w=g?new u(w,p,c.eIa?c.eIa(n):null,t,d.S9,this.Ta.ao):new a.M(w,p,0,0);d=new a.j;g&&d.be(c.n3a());e.labelStyle&&d.fl(e.labelStyle);c=d.N(a.j.od);d.Ma(a.j.od,null);w.ub(d);e.color&&w instanceof u&&(a.m.II()||!c)&&(c=a.D.Ok(e.color));c&&w.bb(c)}return w};F.prototype.ZFa=
function(c,d){var e=c.color,g=a.m.eb()||this.Ta.zaa==a.j.Rg?"none":c.visualEffects;if(d instanceof a.W){if("none"!=c.borderStyle){var f=c.borderWidth;"string"==typeof f&&(f="px"==f.slice(-2)?parseFloat(c.borderWidth.slice(0,-2)):parseFloat(c.borderWidth));var n=new a.ma(c.borderColor,1,f);this.Ta.sL()||n.We(!0);n.um(a.Pa.VB(c.borderStyle));d.Ha(n)}f=c.opacity;"none"!=g?d.Ia(new a.dT.WGa(e,d,f)):e&&d.bb(e,f)}else if(d instanceof a.Jb){if(g=c.borderColor)n=new a.ma(g),this.Ta.ao&&n.We(!0),d.Ha(n);d.bb(e,
f)}};F.Yd=function(c,d,e,g){var f=c.Ta,n=f.mz;c=c.P1;var p=c.BM;if(d){if((e=w.m2a(n,d))||(e=w.M1a(n,p,d)))return e;if(!n&&c.S3){d=c.S3(d);if(!d)return null;f=a.uk.mI(f.a,d)}else{f=w.UIa(n,p,d);if(!f)return null;f=a.G.ZH(f);f=a.G.V(f)}return f.Yd()}return A.I6a(e,g,n)};F.vUa=function(c,d){for(var e=-Infinity,g=Infinity,f=0;f<d.length;f++){var n=d[f].value;null==n||0>=n||(e=Math.max(e,n),g=Math.min(g,n))}if(Infinity!==g){var n=2*F.mSa,f=c.getWidth()-n,n=c.getHeight()-n,p=f/n;1.3>p?n=2*f/3:1.7<p&&(f=
1.5*n);p=F.RRa*Math.min(f,n);for(f=0;f<d.length;f++)n=d[f].value,d[f]._size=null==n||0>=n?0:a.qj.Jra(n,g,e,F.$Ra,p)}};F.FGa=function(c,d,e,g,f){var n=g.x,p=g.y;g=f.x;f=f.y;var t=c.Ta,w=a.G.moveTo(n,p);d=c.c9a(d,e);e=Math.min(t.getWidth(),t.getHeight())/35;if(0===g-n||0===f-p){var u;1<d?(e*=d-1,0===g-n?(t=.3*Math.abs(p-f),c=n+e,d=p>f?p-t:p+t,u=c,n=f>p?f-t:f+t):(t=.3*Math.abs(n-g),c=n>g?n-t:n+t,d=p-e,u=g>n?g-t:g+t,n=d),w+=a.G.lra(c,d,u,n,g,f)):w+=a.G.lineTo(g,f)}else{t=Math.sqrt(Math.pow(g-n,2),Math.pow(f-
p,2));c=t/4;1<d&&(c+=(d-1)*e);d=(f-p)/(g-n);e=-1/d;0<e&&(c*=-1);u=.3*t/Math.sqrt(1+Math.pow(d,2));var z=0<g-n,t=n+(z?1:-1)*u,z=g+(z?-1:1)*u;u=c/Math.sqrt(1+Math.pow(e,2));c=t+u;u=z+u;w+=a.G.lra(c,e*(c-t)+(d*(t-n)+p),u,e*(u-z)+(d*(z-g)+f),g,f)}return w};F.n$=function(a,c,d){return(d=d.location)?(c=c.P1,c instanceof x?c.nIa(d):w.n2a(a,d)):null};var A={};a.f.v(A,a.f);A.Jw=new a.U(0,0,800,500);A.BN=6378206.4;A.Lia=new a.U(500,200,200,200);A.Kia=new a.U(163,-49,17,17);A.Rza=new a.U(-17.379205428479874,
-37.201510854305546,68.66391442808313,77.50071544582713);A.Uza=new a.U(-.8436866097568272,-.7626456732012923,1.8336308036296942,1.5748427214611724);A.Wza=new a.U(113.29667079927977,-52.89550592498755,65.25257389065216,42.123114617504626);A.kAa=new a.U(-.47944476148667076,-.0014669405958800579,.7364925893845453,.6293972741802124);A.DAa=new a.U(-.6154469465354344,-.24589767758847714,1.2448236795108683,1.2631535127174947);A.LAa=new a.U(-80.60817722658722,-60.796273249672765,46.608687602908056,66.96595767361796);
A.Tza=new a.U(68.20516856593524,-52.89892708045518,111.65739821771903,116.55460214469134);A.jAa=new a.U(-24.543831069368586,-37.202500659225905,204.54283106936856,164.9634493690208);A.yAa=new a.U(-117.12451221229134,-54.95921623126266,82.33223251442891,87.67786623127876);A.QAa=new a.U(-.6154656300926513,.0507209798775865,1.0153104799231851,.966537441082997);A.RAa=new a.U(-171.9,-62.6,349.8,150.8);A.ZPa=new a.U(172,51,8,3);A.$Pa=new a.U(-180,51,51,21);A.zRa=new a.U(-178.5,18.9,35,11);A.XSa=new a.U(-124.8,
24.4,58,25.5);A.Sza=new a.U(-187.5517578125,59.82610321044922,57.562225341796875,43.83738708496094);A.sAa=new a.U(-160.23606872558594,18.91549301147461,5.4374847412109375,3.3189010620117188);A.PAa=new a.U(-2386803.25,-1183550.5,4514111,2908402);A.xia=new a.U(165,400,100,100);A.Eha=new a.U(-75,350,240,150);A.us=[[1,0],[.9986,.0314],[.9954,.0629],[.99,.0943],[.9822,.1258],[.973,.1572],[.96,.1887],[.9427,.2201],[.9216,.2515],[.8962,.2826],[.8679,.3132],[.835,.3433],[.7986,.3726],[.7597,.4008],[.6732,
.4532],[.6213,.4765],[.5722,.4951],[.5322,.5072]];A.I6a=function(c,d,e){var g;switch(e){case "africa":g=A.sG(A.Rza,A.k0(c,d));break;case "asia":g=A.sG(A.Uza,A.c$(40,95,20,60,c,d),A.vm(5));break;case "australia":g=A.nWa(c,d);break;case "europe":g=A.sG(A.kAa,A.c$(35,25,40,65,c,d),A.vm(10));break;case "northAmerica":g=A.sG(A.DAa,A.c$(23,-96,20,60,c,d));break;case "southAmerica":g=A.sG(A.LAa,new a.P(c,d),A.vm(5));break;case "apac":g=A.sG(A.Tza,A.k0(c,d));break;case "emea":g=A.sG(A.jAa,A.k0(c,d));break;
case "latinAmerica":g=A.sG(A.yAa,new a.P(c,d));break;case "usaAndCanada":g=A.sG(A.QAa,A.c$(23,-96,20,60,c,d));break;case "worldRegions":g=A.SDa(c,d);break;case "usa":g=A.iXa(c,d);break;case "world":g=A.SDa(c,d)}return g?new a.P(10*g.x,10*g.y):null};A.iXa=function(c,d){var e;A.ZPa.hf(c,d)||A.$Pa.hf(c,d)?(e=A.wv(A.Sza,A.Eha),e=A.QZ(e,A.k0(c,d))):A.zRa.hf(c,d)?(e=A.wv(A.sAa,A.xia),e=A.QZ(e,new a.P(c,d))):A.XSa.hf(c,d)&&(e=A.wv(A.PAa,A.Jw),e=A.QZ(e,A.WWa(new a.P(-95,36),c,d)));return A.d$(A.Jw,e)};A.SDa=
function(a,c){var d=A.wv(A.RAa,A.Jw),d=A.QZ(d,A.cXa(a,c));return A.d$(A.Jw,d)};A.nWa=function(a,c){var d;d=A.Kia.hf(a,c)?A.wv(A.Kia,A.Lia):A.wv(A.Wza,A.Jw);d=A.QZ(d,A.k0(a,c));return A.d$(A.Jw,d)};A.sG=function(c,d,e){c=A.wv(c,A.Jw);if(e){var g=new a.Da;g.rotate(e);c=A.RBa(c,g)}d=c.wm(d);return A.d$(A.Jw,d)};A.d$=function(a,c){return c&&a.hf(c.x,c.y)?c:null};A.c$=function(c,d,e,g,f,n){d=A.vm(d);c=A.vm(c);e=A.vm(e);g=A.vm(g);g=.5*(Math.sin(e)+Math.sin(g));e=Math.pow(Math.cos(e),2)+2*g*Math.sin(e);
c=e-2*g*Math.sin(c);c=Math.sqrt(c)/g;f=g*(A.vm(f)-d);n=e-2*g*Math.sin(A.vm(n));n=Math.sqrt(n)/g;return new a.P(n*Math.sin(f),c-n*Math.cos(f))};A.k0=function(c,d){return new a.P(c,A.aW(Math.log(Math.tan(.25*Math.PI+.5*A.vm(d)))))};A.WWa=function(c,d,e){d=A.vm(d);e=A.vm(e);var g=A.vm(c.x);c=A.vm(c.y);return new a.P(Math.cos(e)*Math.sin(d-g)*A.BN,(Math.cos(c)*Math.sin(e)-Math.sin(c)*Math.cos(e)*Math.cos(d-g))*A.BN)};A.cXa=function(c,d){var e=Math.floor(Math.abs(d)/5);e>=A.us.length-1&&(e=A.us.length-
2);var g=(Math.abs(d)-5*e)/5,f=c*(A.us[e][0]+g*(A.us[e+1][0]-A.us[e][0])),e=A.us[e][1]+g*(A.us[e+1][1]-A.us[e][1]);0>d&&(e*=-1);return new a.P(f,180*e)};A.QZ=function(c,d){return new a.P(d.x*c.kd+c.zc,d.y*c.ke+c.tc)};A.RBa=function(c,d){var e=c.kd,g=c.ke;return new a.Da(d.kd*e,d.$e*e,d.xe*g,d.ke*g,c.zc+d.zc*e,c.tc+d.tc*g)};A.wv=function(c,d){var e=d.x,g=d.y,f=c.b,n=c.i,p=0,p=d.b/f,t=d.i/n,p=p<=t?p:t,e=e-c.x*p,g=g+c.y*p,e=e+(d.b-f*p)/2,g=g+(d.i-(d.i-n*p)/2);return new a.Da(p,0,0,-p,e,g)};A.vm=function(a){return Math.PI/
180*a};A.aW=function(a){return 180/Math.PI*a};A.nab=function(c,d,e){var g;c/=10;d/=10;switch(e){case "africa":g=A.vG(A.Rza,new a.P(c,d));g=A.h0(g.x,g.y);break;case "asia":g=A.vG(A.Uza,new a.P(c,d),A.vm(5));g=A.m$(40,95,20,60,g.x,g.y);break;case "australia":g=A.LWa(c,d);break;case "europe":g=A.vG(A.kAa,new a.P(c,d),A.vm(10));g=A.m$(35,25,40,65,g.x,g.y);break;case "northAmerica":g=A.vG(A.DAa,new a.P(c,d));g=A.m$(23,-96,20,60,g.x,g.y);break;case "southAmerica":g=A.vG(A.LAa,new a.P(c,d),A.vm(5));break;
case "apac":g=A.vG(A.Tza,new a.P(c,d));g=A.h0(g.x,g.y);break;case "emea":g=A.vG(A.jAa,new a.P(c,d));g=A.h0(g.x,g.y);break;case "latinAmerica":g=A.vG(A.yAa,new a.P(c,d));break;case "usaAndCanada":g=A.vG(A.QAa,new a.P(c,d));g=A.m$(23,-96,20,60,g.x,g.y);break;case "worldRegions":g=A.mDa(c,d);break;case "usa":g=A.OWa(c,d);break;case "world":g=A.mDa(c,d)}return g?g:new a.P(c,d)};A.OWa=function(c,d){var e;return A.Eha.hf(c,d)?(e=A.wv(A.Sza,A.Eha),e.nC(),e=e.wm(new a.P(c,d)),A.h0(e.x,e.y)):A.xia.hf(c,d)?
(e=A.wv(A.sAa,A.xia),e.nC(),e.wm(new a.P(c,d))):A.Jw.hf(c,d)?(e=A.wv(A.PAa,A.Jw),e.nC(),e=e.wm(new a.P(c,d)),A.MWa(new a.P(-95,36),e.x,e.y)):new a.P(c,d)};A.mDa=function(c,d){var e=A.wv(A.RAa,A.Jw);e.nC();e=e.wm(new a.P(c,d));return A.NWa(e.x,e.y)};A.LWa=function(c,d){var e;e=A.Lia.hf(c,d)?A.wv(A.Kia,A.Lia):A.wv(A.Wza,A.Jw);e.nC();e=e.wm(new a.P(c,d));return A.h0(e.x,e.y)};A.vG=function(c,d,e){c=A.wv(c,A.Jw);if(e){var g=new a.Da;g.rotate(e);c=A.RBa(c,g)}c.nC();return c.wm(d)};A.m$=function(c,d,e,
g,f,n){d=A.vm(d);c=A.vm(c);e=A.vm(e);g=A.vm(g);g=.5*(Math.sin(e)+Math.sin(g));e=Math.pow(Math.cos(e),2)+2*g*Math.sin(e);c=e-2*g*Math.sin(c);c=Math.sqrt(c)/g;var p=Math.sqrt(f*f+(c-n)*(c-n));return new a.P(A.aW(d+Math.atan(f/(c-n))/g),A.aW(Math.asin((e-p*p*g*g)/(2*g))))};A.h0=function(c,d){return new a.P(c,A.aW(2*Math.atan(Math.exp(A.vm(d)))-.5*Math.PI))};A.MWa=function(c,d,e){d/=A.BN;e/=A.BN;var g=A.vm(c.y),f=Math.sqrt(d*d+e*e),n=Math.asin(f);return new a.P(A.aW(A.vm(c.x)+Math.atan(d*Math.sin(n)/
(f*Math.cos(g)*Math.cos(n)-e*Math.sin(g)*Math.sin(n)))),A.aW(Math.asin(Math.cos(n)*Math.sin(g)+e*Math.sin(n)*Math.cos(g)/f)))};A.NWa=function(c,d){var e=Math.floor(Math.abs(d)/5);e>=A.us.length-1&&(e=A.us.length-2);var g=(Math.abs(d/180)-A.us[e][1])/(A.us[e+1][1]-A.us[e][1]),f=5*g+5*e,e=c/(A.us[e][0]+g*(A.us[e+1][0]-A.us[e][0]));0>d&&(f*=-1);return new a.P(e,f)};a.K(w,"getLayerIds",w.o3a);a.K(a,"ThematicMap",a.kc);a.K(a.kc,"newInstance",a.kc.newInstance);a.K(a.kc.prototype,"updateLayer",a.kc.prototype.k9a);
a.K(a.kc.prototype,"destroy",a.kc.prototype.Ec);a.K(a.kc.prototype,"getAutomation",a.kc.prototype.Bi);a.K(a.kc.prototype,"highlight",a.kc.prototype.Zd);a.K(a.kc.prototype,"processDefaultHoverEffect",a.kc.prototype.yy);a.K(a.kc.prototype,"processDefaultSelectionEffect",a.kc.prototype.RI);a.K(a.kc.prototype,"processDefaultFocusEffect",a.kc.prototype.vC);a.K(n.prototype,"getDomElementForSubId",n.prototype.Sh);a.K(n.prototype,"getData",n.prototype.getData);var d={y$a:"DvtBaseMapManager",I$a:"_UNPROCESSED_MAPS",
DZ:"type",yRa:"geometry",KQa:"coordinates",xRa:"features",lSa:"properties",VSa:"FeatureCollection",H$a:"GeometryCollection",USa:"Feature",OAa:"Polygon",NAa:"MultiPolygon",tAa:"id",FSa:"shortLabel",LRa:"longLabel",V0a:function(a){return a&&a.geo&&a.geo[d.DZ]},i6a:function(a,c){var e={},g={},f=c.geo,n=c.propertiesKeys||{};if(!n[d.tAa])throw Error("Missing required mapProvider.propertyKeys.id property.");var p=f[d.DZ];if(p===d.VSa)for(f=f[d.xRa],p=0;p<f.length;p++)d.TEa(a,f[p],n,g,e);else if(p===d.USa)d.TEa(a,
f,n,g,e);else throw Error("GeoJSON type of "+p+" is not supported. Only Feature and FeatureCollection types are supported.");if(0===Object.keys(g).length)throw Error("No valid Features found in GeoJSON.");return{labels:e,areas:g}},TEa:function(a,c,e,g,f){var n=c[d.lSa];c=c[d.yRa];if(d.EXa(c)){var p=n[e[d.tAa]];if(p){a=n[e[d.FSa]];e=n[e[d.LRa]];if(a||e)f[p]=[a,e];g[p]=d.iWa(c)}else a.oj.Logger.warn("No 'id' value found in the mapProvider.propertiesKey object. A Feature's 'properties' object must have an id in the field specified by the mapProvider.propertiesKey.id value.")}else a.oj.Logger.warn("A geometry of type "+
c[d.DZ]+" is not supported and will be skipped.")},EXa:function(a){a=a[d.DZ];return a===d.OAa||a===d.NAa?!0:!1},iWa:function(a){var c="",e=a[d.DZ];a=a[d.KQa];if(e===d.OAa)c=d.VEa(a);else if(e===d.NAa)for(e=0;e<a.length;e++)c+=d.VEa(a[e]);return c},VEa:function(a){for(var c="",e=0;e<a.length;e++)c+=d.PXa(a[e]);return c},PXa:function(a){var c,d,e,g="M";if(a)for(var f=0;f<a.length;f++){var n=a[f],p=n[0],n=-n[1];if("M"===g)d=p,e=n,g="x",c="M"+p+" "+n;else{var t=p-d,w=n-e;if("l"==g){if(d==p){g="v";e=n;
c=c+g+w;continue}else if(e==n){g="h";d=p;c=c+g+t;continue}c=c+" "+t+" "+w}else g="l",c=c+"l"+t+" "+w;d=p;e=n}}return c+"Z"},gK:function(a,c){for(var d=c;d<a.length;d++){var e=a[d];if("-"!==e&&(isNaN(e)||" "===e)){var g=null;" "!==e&&(g=e);return{YH:parseInt(a.substring(c,d)),IJa:d,Uaa:g}}}return{}},O$a:function(a){var c=[],e=0,g=0,f=a[0];if(a)for(var n=[],p=1;p<a.length;p++){var t=d.gK(a,p),w=null,p=t.IJa;"v"!==f&&"h"!==f?(w=d.gK(a,++p),p=w.IJa,e+=t.YH,g+=w.YH):"v"===f?g+=t.YH:"h"===f&&(e+=t.YH);
n.push([e,-g]);w?null!=w.Uaa&&(f=w.Uaa):null!=t.Uaa&&(f=t.Uaa);"Z"===f&&(c.push(n),n=[],f=a[++p])}return c}}})(dvt);
// To avoid changing the basemaps, which each call the basemap manager, we will
// put the basemap manager onto the returned object. We'll only do this if it's
// not defined, since in min/min-debug mode, the non-exported version is on the window.
if(!dvt['DvtBaseMapManager'])
  dvt['DvtBaseMapManager'] = DvtBaseMapManager;

  return dvt;
});
