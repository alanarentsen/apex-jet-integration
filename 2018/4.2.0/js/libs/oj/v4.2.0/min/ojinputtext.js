/**
 * Copyright (c) 2014, 2018, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojeditablevalue"],function(a,g){a.ib("oj.inputBase",g.oj.editableValue,{version:"1.0.0",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"",_WIDGET_CLASS_NAMES:"",_ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES:"",_GET_INIT_OPTIONS_PROPS:[{Ba:"disabled",mf:!0},{Ba:"pattern"},{Ba:"placeholder"},{Ba:"value"},{Ba:"readonly",option:"readOnly",mf:!0},{Ba:"required",lk:!0,mf:!0},{Ba:"title"}],_INPUT_HELPER_KEY:"",YZ:"blur",y_:"keydown",z_:"keyup",v_:"input",p_:"drop",options:{placeholder:void 0,
rawValue:void 0,readOnly:!1,required:!1,validators:void 0,autocomplete:void 0,autofocus:!1,inputmode:void 0,name:void 0},wI:function(a){var b=this._superApply(arguments);this.UVa();return b},Gh:function(c,b){this._super(c,b);a.ka.Gs(this._GET_INIT_OPTIONS_PROPS,b,this)},rc:function(){var a=this._superApply(arguments),b=this.options.readOnly;this.kj="rtl"===this.Wc();"boolean"===typeof b&&this.element.prop("readonly",b);this.cI()?(this.h0a(),this.Tea()&&this.B0(),this._focusable({element:this.Gn,applyHighlight:!0})):
this._focusable({element:this.element,applyHighlight:!0});this.k2={};this.Uf=null;return a},Pf:function(){var c=this._superApply(arguments),b=this,d;this.Ie(this.options.required);this._CLASS_NAMES&&this.element.addClass(this._CLASS_NAMES);this.Mha();this.XZ();g.each(["disabled","readOnly"],function(a,c){b.options[c]&&b.Zqa(c,b.options[c])});this.$()&&(d=this.widget().attr("id"))&&a.ka.Iba(this.xe()[0],d);return c},aj:function(){return this.options.required},Eg:a.ka.Eg,Zi:a.ka.Zi,wt:a.ka.wt,Iz:a.ka.Iz,
Bc:a.ka.Bc,$q:a.ka.$q,Zqa:function(a,b){"disabled"===a&&this.element.prop("disabled",b);"readOnly"===a&&(this.element.prop("readonly",b),this.kU("readOnly",b));"disabled"!==a&&"readOnly"!==a||this.Mha()},_setOption:function(c,b,d){var e=this._superApply(arguments);"disabled"!==c&&"readOnly"!==c||this.Zqa(c,b);"pattern"===c&&(this.k2[a.gg.VALIDATOR_TYPE_REGEXP]=this.dma(),this.Zi());return e},vt:function(c,b,d){this._superApply(arguments);switch(c){case "readOnly":this.fD(c,a.ka.bO);break;case "required":this.Eg(c);
break;case "validators":this.Zi(c);break;case "converter":this.wt(c)}},_destroy:function(){var c=this._superApply(arguments);this.element.off("blur drop keydown keyup input");this.D5&&this.D5.remove();this.cI()&&!this.$()&&(this.Tea()?a.Q.unwrap(this.element,this.Gn):a.Q.unwrap(this.element));return c},Mha:function(){if(!this.options.readOnly&&!this.options.disabled){this.Uf={};var a=g.proxy(this.D6,this),b=g.proxy(this.WT,this),d=g.proxy(this.mVa,this),e=g.proxy(this.lVa,this),f=function(){this.focus()};
this.element.on(this.YZ,a);this.element.on(this.y_,b);this.element.on(this.z_,d);this.element.on(this.v_,e);this.element.on(this.p_,f);this.Uf[this.YZ]=a;this.Uf[this.y_]=b;this.Uf[this.z_]=d;this.Uf[this.v_]=e;this.Uf[this.p_]=f}else if(this.Uf)for(a=[this.YZ,this.y_,this.z_,this.v_,this.p_],b=0,d=a.length;b<d;b++)this.Uf[a[b]]&&(this.element.off(a[b],this.Uf[a[b]]),delete this.Uf[a[b]])},kw:{readOnly:"oj-read-only"},UVa:function(){for(var a=this._ATTR_CHECK,b=0,d=a.length;b<d;b++){var e=a[b].attr;
"setMandatory"in a[b]&&this.element.attr(e,a[b].setMandatory)}},D6:function(a){this.jc(this.$i(),a)},WT:function(){},mVa:function(a){a.keyCode===g.ui.keyCode.ENTER&&this.jc(this.$i(),a)},lVa:function(a){this.kn(this.xe().val(),a)},cI:function(){return this._WIDGET_CLASS_NAMES},Tea:function(){return this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES},h0a:function(){this.wc?(this.Gn=g(this.wc).addClass(this._WIDGET_CLASS_NAMES),this.Gn.append(this.element)):(g(this.element).wrap(g("\x3cdiv\x3e").addClass(this._WIDGET_CLASS_NAMES)),
this.Gn=this.element.parent())},B0:function(){return g(this.element).wrap(g("\x3cdiv\x3e").addClass(this._ELEMENT_TRIGGER_WRAPPER_CLASS_NAMES)).parent()},XZ:function(){if(this._INPUT_HELPER_KEY&&this.cI()){var a=this.element.attr("aria-describedby")||"",b=this.eo(this._INPUT_HELPER_KEY);this.element.attr("aria-describedby",a+(" "+b));this.D5=g("\x3cdiv class\x3d'oj-helper-hidden-accessible' aria-hidden\x3d'true' id\x3d'"+b+"'\x3e"+this.Gg(this.T(this._INPUT_HELPER_KEY))+"\x3c/div\x3e");this.mea().append(this.D5)}},
Gg:function(a){return g("\x3cspan\x3e"+a+"\x3c/span\x3e").text()},mea:function(){return this.widget()},iI:function(){var c=this._superApply(arguments);this.options.pattern&&(this.k2[a.gg.VALIDATOR_TYPE_REGEXP]=this.dma());return g.extend(this.k2,c)},Xq:function(){return this._super()?this.options.readOnly?!1:!0:!1},kU:function(a,b){-1!=Object.keys(this.kw).indexOf(a)&&this.widget().toggleClass(this.kw[a],!!b)},dma:function(){if(!this.options.pattern)return null;var c={pattern:this.options.pattern,
label:this.N3()};g.extend(c,this.options.translations.regexp||{});return a.Oa.yC(a.gg.VALIDATOR_TYPE_REGEXP).createValidator(c)},eo:function(a){return this.uuid+"_"+a},j8a:function(){return this.kj},refresh:function(){var a=this._superApply(arguments);this.kj="rtl"===this.Wc();this.Ie(this.options.required);return a},Ie:a.ka.Ie,lo:a.ka.lo,getNodeBySubId:function(a){return this._super(a)},validate:a.ka.validate,tz:function(){return!1},widget:function(){return this.cI()?this.Gn:this.element}},!0);a.ib("oj.ojInputPassword",
g.oj.inputBase,{version:"1.0.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"password"}],_CLASS_NAMES:"oj-inputpassword-input",_WIDGET_CLASS_NAMES:"oj-inputpassword oj-form-control oj-component",options:{converter:void 0,pattern:""},getNodeBySubId:function(a){var b=this._superApply(arguments),d;b||(d=a.subId,"oj-inputpassword-input"===d&&(b=this.element?this.element[0]:null));return b||null},_GetDefaultStyleClass:function(){return"oj-inputpassword"}});
a.ib("oj.ojTextArea",g.oj.inputBase,{version:"1.0.0",defaultElement:"\x3ctextarea\x3e",widgetEventPrefix:"oj",_ATTR_CHECK:[],_CLASS_NAMES:"oj-textarea-input",_WIDGET_CLASS_NAMES:"oj-textarea oj-form-control oj-component",options:{converter:void 0,pattern:"",spellcheck:!1,rows:void 0},getNodeBySubId:function(a){var b=this._superApply(arguments),d;b||(d=a.subId,"oj-textarea-input"===d&&(b=this.element?this.element[0]:null));return b||null},_GetDefaultStyleClass:function(){return"oj-textarea"},kI:function(){return"oj-inputBase"}});
a.ib("oj.ojInputText",g.oj.inputBase,{version:"1.0.0",defaultElement:"\x3cinput\x3e",widgetEventPrefix:"oj",_ATTR_CHECK:[{attr:"type",setMandatory:"text"}],_CLASS_NAMES:"oj-inputtext-input",_WIDGET_CLASS_NAMES:"oj-inputtext oj-form-control oj-component",options:{converter:void 0,pattern:"",list:"",spellcheck:!1},getNodeBySubId:function(a){var b=this._superApply(arguments),d;b||(d=a.subId,"oj-inputtext-input"===d&&(b=this.element?this.element[0]:null));return b||null},_GetDefaultStyleClass:function(){return"oj-inputtext"},
kI:function(){return"oj-inputBase"}});a.J.Ua("inputBase","editableValue",{properties:{autocomplete:{type:"string",enumValues:["off","on"],extension:{Ij:!0}},autofocus:{type:"boolean",extension:{Ij:!0}},name:{type:"string",extension:{Ij:!0}},placeholder:{type:"string"},rawValue:{type:"string",readOnly:!0,writeback:!0},readonly:{type:"boolean"},required:{type:"boolean"},validators:{type:"Array"}},methods:{validate:{}},extension:{Kj:"input",Ya:"inputBase",nD:["accesskey","aria-label","tabindex"],ut:{readonly:"readOnly"}}});
a.J.Ua("oj-input-password","inputBase",{properties:{value:{type:"string",writeback:!0}},methods:{},extension:{Ya:"ojInputPassword"}});a.J.register("oj-input-password",{metadata:a.J.getMetadata("oj-input-password")});a.J.Ua("oj-input-text","inputBase",{properties:{converter:{type:"Object"},list:{type:"string",extension:{Ij:!0}},spellcheck:{type:"boolean",extension:{jea:!0,Ij:!0}},value:{type:"any",writeback:!0}},methods:{},extension:{Ya:"ojInputText"}});a.J.register("oj-input-text",{metadata:a.J.getMetadata("oj-input-text")});
a.J.Ua("oj-text-area","inputBase",{properties:{converter:{type:"Object"},rows:{type:"number",extension:{Ij:!0}},spellcheck:{type:"boolean",extension:{jea:!0,Ij:!0}},value:{type:"any",writeback:!0}},methods:{},extension:{Kj:"textarea",Ya:"ojTextArea"}});a.J.register("oj-text-area",{metadata:a.J.getMetadata("oj-text-area")})});